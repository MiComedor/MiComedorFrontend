{
  "version": 3,
  "sources": ["../../@mui/x-charts/esm/ChartsTooltip/chartsTooltipClasses.js", "../../@mui/x-charts/esm/ChartsTooltip/useItemTooltip.js", "../../@mui/x-charts/esm/ChartsTooltip/ChartsTooltipTable.js", "../../@mui/x-charts/esm/ChartsLabel/labelMarkClasses.js", "../../@mui/x-charts/esm/ChartsLabel/ChartsLabelMark.js", "../../@mui/x-charts/esm/internals/consumeThemeProps.js", "../../@mui/x-charts/esm/ChartsTooltip/ChartsItemTooltipContent.js", "../../@mui/x-charts/esm/ChartsTooltip/utils.js", "../../@mui/x-charts/esm/internals/plugins/corePlugins/useChartSeries/useColorProcessor.js", "../../@mui/x-charts/esm/internals/clampAngle.js", "../../@mui/x-charts/esm/internals/plugins/featurePlugins/useChartPolarAxis/getAxisIndex.js", "../../@mui/x-charts/esm/internals/plugins/featurePlugins/useChartPolarAxis/useChartPolarInteraction.selectors.js", "../../@mui/x-charts/esm/ChartsTooltip/useAxisTooltip.js", "../../@mui/x-charts/esm/ChartsTooltip/useAxesTooltip.js", "../../@mui/x-charts/esm/ChartsTooltip/ChartsAxisTooltipContent.js", "../../@mui/x-charts/esm/ChartsTooltip/ChartsTooltipContainer.js", "../../@mui/x-charts/esm/hooks/useAxisSystem.js", "../../@mui/x-charts/esm/ChartsTooltip/ChartsTooltip.js", "../../@mui/x-charts/esm/ChartsLabel/labelClasses.js", "../../@mui/x-charts/esm/ChartsLabel/labelGradientClasses.js", "../../@mui/x-charts/esm/ChartsLegend/chartsLegendClasses.js", "../../@mui/x-charts/esm/ChartsLegend/ChartsLegend.js", "../../@mui/x-charts/esm/ChartsLegend/onClickContextBuilder.js", "../../@mui/x-charts/esm/internals/consumeSlots.js", "../../@mui/x-charts/esm/ChartsLabel/ChartsLabel.js", "../../@mui/x-charts/esm/ChartsLegend/continuousColorLegendClasses.js", "../../@mui/x-charts/esm/ChartsLegend/ContinuousColorLegend.js", "../../@mui/x-charts/esm/ChartsLegend/useAxis.js", "../../@mui/x-charts/esm/ChartsLabel/ChartsLabelGradient.js", "../../@mui/x-charts/esm/ChartsLegend/piecewiseColorLegendClasses.js", "../../@mui/x-charts/esm/ChartsLegend/piecewiseColorDefaultLabelFormatter.js", "../../@mui/x-charts/esm/ChartsLegend/PiecewiseColorLegend.js", "../../@mui/x-charts/esm/ChartDataProvider/ChartDataProvider.js", "../../@mui/x-charts/esm/internals/plugins/featurePlugins/useChartVoronoi/useChartVoronoi.js", "../../robust-predicates/esm/util.js", "../../robust-predicates/esm/orient2d.js", "../../robust-predicates/esm/orient3d.js", "../../robust-predicates/esm/incircle.js", "../../robust-predicates/esm/insphere.js", "../../delaunator/index.js", "../../d3-delaunay/src/path.js", "../../d3-delaunay/src/polygon.js", "../../d3-delaunay/src/voronoi.js", "../../d3-delaunay/src/delaunay.js", "../../@mui/x-charts/esm/internals/plugins/featurePlugins/useChartVoronoi/useChartVoronoi.selectors.js", "../../@mui/x-charts/esm/internals/plugins/allPlugins.js", "../../@mui/x-charts/esm/ChartDataProvider/useChartDataProviderProps.js", "../../@mui/x-charts/esm/ChartsSurface/ChartsSurface.js", "../../@mui/x-charts/esm/internals/components/ChartsAxesGradients/ChartsAxesGradients.js", "../../@mui/x-charts/esm/internals/components/ChartsAxesGradients/ChartsPiecewiseGradient.js", "../../@mui/x-charts/esm/internals/components/ChartsAxesGradients/ChartsContinuousGradient.js", "../../@mui/x-charts/esm/internals/components/ChartsAxesGradients/ChartsContinuousGradientObjectBound.js", "../../@mui/x-charts/esm/hooks/useInteractionItemProps.js", "../../@mui/x-charts/esm/hooks/useSkipAnimation.js", "../../@mui/x-charts/esm/ChartsOverlay/ChartsOverlay.js", "../../@mui/x-charts/esm/ChartsOverlay/ChartsLoadingOverlay.js", "../../@mui/x-charts/esm/ChartsOverlay/ChartsNoDataOverlay.js", "../../@mui/x-charts/esm/ChartContainer/useChartContainerProps.js", "../../@mui/x-charts/esm/internals/components/ChartsWrapper/ChartsWrapper.js"],
  "sourcesContent": ["import generateUtilityClass from '@mui/utils/generateUtilityClass';\r\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\r\nimport composeClasses from '@mui/utils/composeClasses';\r\nexport function getChartsTooltipUtilityClass(slot) {\r\n  return generateUtilityClass('MuiChartsTooltip', slot);\r\n}\r\nexport const chartsTooltipClasses = generateUtilityClasses('MuiChartsTooltip', ['root', 'paper', 'table', 'row', 'cell', 'mark', 'markContainer', 'labelCell', 'valueCell', 'axisValueCell']);\r\nexport const useUtilityClasses = classes => {\r\n  const slots = {\r\n    root: ['root'],\r\n    paper: ['paper'],\r\n    table: ['table'],\r\n    row: ['row'],\r\n    cell: ['cell'],\r\n    mark: ['mark'],\r\n    markContainer: ['markContainer'],\r\n    labelCell: ['labelCell'],\r\n    valueCell: ['valueCell'],\r\n    axisValueCell: ['axisValueCell']\r\n  };\r\n  return composeClasses(slots, getChartsTooltipUtilityClass, classes);\r\n};", "'use client';\r\n\r\nimport { useSeries } from \"../hooks/useSeries.js\";\r\nimport { selectorChartsInteractionItem } from \"../internals/plugins/featurePlugins/useChartInteraction/index.js\";\r\nimport { useSelector } from \"../internals/store/useSelector.js\";\r\nimport { useStore } from \"../internals/store/useStore.js\";\r\nimport { useRadiusAxes, useRotationAxes, useXAxes, useYAxes } from \"../hooks/useAxis.js\";\r\nimport { useZAxes } from \"../hooks/useZAxis.js\";\r\nimport { selectorChartSeriesConfig } from \"../internals/plugins/corePlugins/useChartSeries/useChartSeries.selectors.js\";\r\nexport function useInternalItemTooltip() {\r\n  const store = useStore();\r\n  const identifier = useSelector(store, selectorChartsInteractionItem);\r\n  const seriesConfig = useSelector(store, selectorChartSeriesConfig);\r\n  const series = useSeries();\r\n  const {\r\n    xAxis,\r\n    xAxisIds\r\n  } = useXAxes();\r\n  const {\r\n    yAxis,\r\n    yAxisIds\r\n  } = useYAxes();\r\n  const {\r\n    zAxis,\r\n    zAxisIds\r\n  } = useZAxes();\r\n  const {\r\n    rotationAxis,\r\n    rotationAxisIds\r\n  } = useRotationAxes();\r\n  const {\r\n    radiusAxis,\r\n    radiusAxisIds\r\n  } = useRadiusAxes();\r\n  const xAxisId = series.xAxisId ?? xAxisIds[0];\r\n  const yAxisId = series.yAxisId ?? yAxisIds[0];\r\n  const zAxisId = series.zAxisId ?? zAxisIds[0];\r\n  const rotationAxisId = series.rotationAxisId ?? rotationAxisIds[0];\r\n  const radiusAxisId = series.radiusAxisId ?? radiusAxisIds[0];\r\n  if (!identifier) {\r\n    return null;\r\n  }\r\n  const itemSeries = series[identifier.type]?.series[identifier.seriesId];\r\n  if (!itemSeries) {\r\n    return null;\r\n  }\r\n  const getColor = seriesConfig[itemSeries.type].colorProcessor?.(itemSeries, xAxisId && xAxis[xAxisId], yAxisId && yAxis[yAxisId], zAxisId && zAxis[zAxisId]) ?? (() => '');\r\n  const axesConfig = {};\r\n  if (xAxisId !== undefined) {\r\n    axesConfig.x = xAxis[xAxisId];\r\n  }\r\n  if (yAxisId !== undefined) {\r\n    axesConfig.y = yAxis[yAxisId];\r\n  }\r\n  if (rotationAxisId !== undefined) {\r\n    axesConfig.rotation = rotationAxis[rotationAxisId];\r\n  }\r\n  if (radiusAxisId !== undefined) {\r\n    axesConfig.radius = radiusAxis[radiusAxisId];\r\n  }\r\n  return seriesConfig[itemSeries.type].tooltipGetter({\r\n    series: itemSeries,\r\n    axesConfig,\r\n    getColor,\r\n    identifier\r\n  });\r\n}\r\n\r\n/**\r\n * Returns a config object when the tooltip contains a single item to display.\r\n * Some specific charts like radar need more complex structure. Use specific hook like `useRadarItemTooltip` for them.\r\n * @returns The tooltip item config\r\n */\r\nexport const useItemTooltip = () => {\r\n  return useInternalItemTooltip();\r\n};\r\n\r\n/**\r\n * Contains an object per value with their content and the label of the associated metric.\r\n * @returns The tooltip item configs\r\n */\r\nexport const useRadarItemTooltip = () => {\r\n  return useInternalItemTooltip();\r\n};", "import { styled } from '@mui/material/styles';\r\nimport Typography from '@mui/material/Typography';\r\nimport { chartsTooltipClasses } from \"./chartsTooltipClasses.js\";\r\n\r\n/**\r\n * @ignore - internal component.\r\n */\r\nexport const ChartsTooltipPaper = styled('div', {\r\n  name: 'MuiChartsTooltip',\r\n  slot: 'Container',\r\n  overridesResolver: (props, styles) => styles.paper // FIXME: Inconsistent naming with slot\r\n})(({\r\n  theme\r\n}) => ({\r\n  backgroundColor: (theme.vars || theme).palette.background.paper,\r\n  color: (theme.vars || theme).palette.text.primary,\r\n  borderRadius: (theme.vars || theme).shape?.borderRadius,\r\n  border: `solid ${(theme.vars || theme).palette.divider} 1px`\r\n}));\r\n\r\n/**\r\n * @ignore - internal component.\r\n */\r\nexport const ChartsTooltipTable = styled('table', {\r\n  name: 'MuiChartsTooltip',\r\n  slot: 'Table'\r\n})(({\r\n  theme\r\n}) => ({\r\n  borderSpacing: 0,\r\n  [`& .${chartsTooltipClasses.markContainer}`]: {\r\n    display: 'inline-block',\r\n    width: `calc(20px + ${theme.spacing(1.5)})`,\r\n    verticalAlign: 'middle'\r\n  },\r\n  '& caption': {\r\n    borderBottom: `solid ${(theme.vars || theme).palette.divider} 1px`,\r\n    padding: theme.spacing(0.5, 1.5),\r\n    textAlign: 'start',\r\n    whiteSpace: 'nowrap',\r\n    '& span': {\r\n      marginRight: theme.spacing(1.5)\r\n    }\r\n  }\r\n}));\r\n\r\n/**\r\n * @ignore - internal component.\r\n */\r\nexport const ChartsTooltipRow = styled('tr', {\r\n  name: 'MuiChartsTooltip',\r\n  slot: 'Row'\r\n})(({\r\n  theme\r\n}) => ({\r\n  'tr:first-of-type& td': {\r\n    paddingTop: theme.spacing(0.5)\r\n  },\r\n  'tr:last-of-type& td': {\r\n    paddingBottom: theme.spacing(0.5)\r\n  }\r\n}));\r\n\r\n/**\r\n * @ignore - internal component.\r\n */\r\nexport const ChartsTooltipCell = styled(Typography, {\r\n  name: 'MuiChartsTooltip',\r\n  slot: 'Cell'\r\n})(({\r\n  theme\r\n}) => ({\r\n  verticalAlign: 'middle',\r\n  color: (theme.vars || theme).palette.text.secondary,\r\n  textAlign: 'start',\r\n  [`&.${chartsTooltipClasses.cell}`]: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1)\r\n  },\r\n  [`&.${chartsTooltipClasses.labelCell}`]: {\r\n    fontWeight: theme.typography.fontWeightRegular\r\n  },\r\n  [`&.${chartsTooltipClasses.valueCell}, &.${chartsTooltipClasses.axisValueCell}`]: {\r\n    color: (theme.vars || theme).palette.text.primary,\r\n    fontWeight: theme.typography.fontWeightMedium\r\n  },\r\n  [`&.${chartsTooltipClasses.valueCell}`]: {\r\n    paddingLeft: theme.spacing(1.5),\r\n    paddingRight: theme.spacing(1.5)\r\n  },\r\n  'td:first-of-type&, th:first-of-type&': {\r\n    paddingLeft: theme.spacing(1.5)\r\n  },\r\n  'td:last-of-type&, th:last-of-type&': {\r\n    paddingRight: theme.spacing(1.5)\r\n  }\r\n}));", "import composeClasses from '@mui/utils/composeClasses';\r\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\r\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\r\nexport function getLabelMarkUtilityClass(slot) {\r\n  return generateUtilityClass('MuiChartsLabelMark', slot);\r\n}\r\nexport const labelMarkClasses = generateUtilityClasses('MuiChartsLabelMark', ['root', 'line', 'square', 'circle', 'mask', 'fill']);\r\nexport const useUtilityClasses = props => {\r\n  const {\r\n    type\r\n  } = props;\r\n  const slots = {\r\n    root: typeof type === 'function' ? ['root'] : ['root', type],\r\n    mask: ['mask'],\r\n    fill: ['fill']\r\n  };\r\n  return composeClasses(slots, getLabelMarkUtilityClass, props.classes);\r\n};", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nconst _excluded = [\"type\", \"color\", \"className\", \"classes\"];\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@mui/material/styles';\r\nimport clsx from 'clsx';\r\nimport { labelMarkClasses, useUtilityClasses } from \"./labelMarkClasses.js\";\r\nimport { consumeThemeProps } from \"../internals/consumeThemeProps.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nconst Root = styled('div', {\r\n  name: 'MuiChartsLabelMark',\r\n  slot: 'Root'\r\n})(() => {\r\n  return {\r\n    display: 'flex',\r\n    width: 14,\r\n    height: 14,\r\n    [`&.${labelMarkClasses.line}`]: {\r\n      width: 16,\r\n      height: 'unset',\r\n      alignItems: 'center',\r\n      [`.${labelMarkClasses.mask}`]: {\r\n        height: 4,\r\n        width: '100%',\r\n        borderRadius: 1,\r\n        overflow: 'hidden'\r\n      }\r\n    },\r\n    [`&.${labelMarkClasses.square}`]: {\r\n      height: 13,\r\n      width: 13,\r\n      borderRadius: 2,\r\n      overflow: 'hidden'\r\n    },\r\n    [`&.${labelMarkClasses.circle}`]: {\r\n      height: 15,\r\n      width: 15\r\n    },\r\n    svg: {\r\n      display: 'block'\r\n    },\r\n    [`& .${labelMarkClasses.mask} > *`]: {\r\n      height: '100%',\r\n      width: '100%'\r\n    },\r\n    [`& .${labelMarkClasses.mask}`]: {\r\n      height: '100%',\r\n      width: '100%'\r\n    }\r\n  };\r\n});\r\n\r\n/**\r\n * Generates the label mark for the tooltip and legend.\r\n * @ignore - internal component.\r\n */\r\nconst ChartsLabelMark = consumeThemeProps('MuiChartsLabelMark', {\r\n  defaultProps: {\r\n    type: 'square'\r\n  },\r\n  classesResolver: useUtilityClasses\r\n}, function ChartsLabelMark(props, ref) {\r\n  const {\r\n      type,\r\n      color,\r\n      className,\r\n      classes\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  const Component = type;\r\n  return /*#__PURE__*/_jsx(Root, _extends({\r\n    className: clsx(classes?.root, className),\r\n    ownerState: props,\r\n    \"aria-hidden\": \"true\",\r\n    ref: ref\r\n  }, other, {\r\n    children: /*#__PURE__*/_jsx(\"div\", {\r\n      className: classes?.mask,\r\n      children: typeof Component === 'function' ? /*#__PURE__*/_jsx(Component, {\r\n        className: classes?.fill,\r\n        color: color\r\n      }) : /*#__PURE__*/_jsx(\"svg\", {\r\n        viewBox: \"0 0 24 24\",\r\n        preserveAspectRatio: type === 'line' ? 'none' : undefined,\r\n        children: type === 'circle' ? /*#__PURE__*/_jsx(\"circle\", {\r\n          className: classes?.fill,\r\n          r: \"12\",\r\n          cx: \"12\",\r\n          cy: \"12\",\r\n          fill: color\r\n        }) : /*#__PURE__*/_jsx(\"rect\", {\r\n          className: classes?.fill,\r\n          width: \"24\",\r\n          height: \"24\",\r\n          fill: color\r\n        })\r\n      })\r\n    })\r\n  }));\r\n});\r\nprocess.env.NODE_ENV !== \"production\" ? ChartsLabelMark.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object,\r\n  /**\r\n   * The color of the mark.\r\n   */\r\n  color: PropTypes.string,\r\n  /**\r\n   * The type of the mark.\r\n   * @default 'square'\r\n   */\r\n  type: PropTypes.oneOf(['circle', 'line', 'square'])\r\n} : void 0;\r\nexport { ChartsLabelMark };", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport { useTheme, useThemeProps } from '@mui/material/styles';\r\nimport resolveProps from '@mui/utils/resolveProps';\r\nimport * as React from 'react';\r\n\r\n/**\r\n * A higher order component that consumes and merges the theme `defaultProps` and handles the `classes` and renders the component.\r\n *\r\n * This HOC will wrap a single component.\r\n * If you need to render multiple components, you can manually consume the theme and render them in your component instead of using this HOC.\r\n *\r\n * In the example below, `MyComponent` will render the `DefaultComponent` with the `direction` prop set to `'row'` and the className set to `'my-custom-root'`.\r\n *\r\n * @example\r\n * ```tsx\r\n * createTheme({\r\n *   components: {\r\n *     MuiMyComponent: {\r\n *       defaultProps: {\r\n *         direction: 'row',\r\n *       },\r\n *     },\r\n *   },\r\n * })\r\n *\r\n * type MyComponentProps = {\r\n *   direction: 'row' | 'column';\r\n *   classes?: Record<'root', string>;\r\n * };\r\n *\r\n * const MyComponent = consumeThemeProps(\r\n *   'MuiMyComponent',\r\n *   function DefaultComponent(props: MyComponentProps) {\r\n *     return (\r\n *       <div className={props.classes.root}>\r\n *         {props.direction}\r\n *       </div>\r\n *     );\r\n *   }\r\n * );\r\n *\r\n * render(<MyComponent classes={{ root: 'my-custom-root' }} />);\r\n * ```\r\n *\r\n * @param {string} name The mui component name.\r\n * @param {object} options Options for the HOC.\r\n * @param {Record<string, any>} options.defaultProps A set of defaults for the component, will be deep merged with the props.\r\n * @param {Function} options.classesResolver A function that returns the classes for the component. It receives the props, after theme props and defaults have been applied. And the theme object as the second argument.\r\n * @param InComponent The component to render if the slot is not provided.\r\n */\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nexport const consumeThemeProps = (name, options, InComponent) => /*#__PURE__*/React.forwardRef(function ConsumeThemeInternal(props, ref) {\r\n  const themedProps = useThemeProps({\r\n    props,\r\n    // eslint-disable-next-line material-ui/mui-name-matches-component-name\r\n    name\r\n  });\r\n  const defaultProps = typeof options.defaultProps === 'function' ? options.defaultProps(themedProps) : options.defaultProps ?? {};\r\n  const outProps = resolveProps(defaultProps, themedProps);\r\n  const theme = useTheme();\r\n  const classes = options.classesResolver?.(outProps, theme);\r\n  const OutComponent = /*#__PURE__*/React.forwardRef(InComponent);\r\n  if (process.env.NODE_ENV !== \"production\") OutComponent.displayName = \"OutComponent\";\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    OutComponent.displayName = `consumeThemeProps(${name})`;\r\n  }\r\n  return /*#__PURE__*/_jsx(OutComponent, _extends({}, outProps, {\r\n    classes: classes,\r\n    ref: ref\r\n  }));\r\n});\r\nif (process.env.NODE_ENV !== \"production\") consumeThemeProps.displayName = \"consumeThemeProps\";", "'use client';\r\n\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport Typography from '@mui/material/Typography';\r\nimport { useUtilityClasses } from \"./chartsTooltipClasses.js\";\r\nimport { useInternalItemTooltip } from \"./useItemTooltip.js\";\r\nimport { ChartsTooltipCell, ChartsTooltipPaper, ChartsTooltipRow, ChartsTooltipTable } from \"./ChartsTooltipTable.js\";\r\nimport { ChartsLabelMark } from \"../ChartsLabel/ChartsLabelMark.js\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nfunction ChartsItemTooltipContent(props) {\r\n  const {\r\n    classes: propClasses,\r\n    sx\r\n  } = props;\r\n  const tooltipData = useInternalItemTooltip();\r\n  const classes = useUtilityClasses(propClasses);\r\n  if (!tooltipData) {\r\n    return null;\r\n  }\r\n  if ('values' in tooltipData) {\r\n    const {\r\n      label: seriesLabel,\r\n      color,\r\n      markType\r\n    } = tooltipData;\r\n    return /*#__PURE__*/_jsx(ChartsTooltipPaper, {\r\n      sx: sx,\r\n      className: classes.paper,\r\n      children: /*#__PURE__*/_jsxs(ChartsTooltipTable, {\r\n        className: classes.table,\r\n        children: [/*#__PURE__*/_jsxs(Typography, {\r\n          component: \"caption\",\r\n          children: [/*#__PURE__*/_jsx(\"div\", {\r\n            className: classes.markContainer,\r\n            children: /*#__PURE__*/_jsx(ChartsLabelMark, {\r\n              type: markType,\r\n              color: color,\r\n              className: classes.mark\r\n            })\r\n          }), seriesLabel]\r\n        }), /*#__PURE__*/_jsx(\"tbody\", {\r\n          children: tooltipData.values.map(({\r\n            formattedValue,\r\n            label\r\n          }) => /*#__PURE__*/_jsxs(ChartsTooltipRow, {\r\n            className: classes.row,\r\n            children: [/*#__PURE__*/_jsx(ChartsTooltipCell, {\r\n              className: clsx(classes.labelCell, classes.cell),\r\n              component: \"th\",\r\n              children: label\r\n            }), /*#__PURE__*/_jsx(ChartsTooltipCell, {\r\n              className: clsx(classes.valueCell, classes.cell),\r\n              component: \"td\",\r\n              children: formattedValue\r\n            })]\r\n          }, label))\r\n        })]\r\n      })\r\n    });\r\n  }\r\n  const {\r\n    color,\r\n    label,\r\n    formattedValue,\r\n    markType\r\n  } = tooltipData;\r\n  return /*#__PURE__*/_jsx(ChartsTooltipPaper, {\r\n    sx: sx,\r\n    className: classes.paper,\r\n    children: /*#__PURE__*/_jsx(ChartsTooltipTable, {\r\n      className: classes.table,\r\n      children: /*#__PURE__*/_jsx(\"tbody\", {\r\n        children: /*#__PURE__*/_jsxs(ChartsTooltipRow, {\r\n          className: classes.row,\r\n          children: [/*#__PURE__*/_jsxs(ChartsTooltipCell, {\r\n            className: clsx(classes.labelCell, classes.cell),\r\n            component: \"th\",\r\n            children: [/*#__PURE__*/_jsx(\"div\", {\r\n              className: classes.markContainer,\r\n              children: /*#__PURE__*/_jsx(ChartsLabelMark, {\r\n                type: markType,\r\n                color: color,\r\n                className: classes.mark\r\n              })\r\n            }), label]\r\n          }), /*#__PURE__*/_jsx(ChartsTooltipCell, {\r\n            className: clsx(classes.valueCell, classes.cell),\r\n            component: \"td\",\r\n            children: formattedValue\r\n          })]\r\n        })\r\n      })\r\n    })\r\n  });\r\n}\r\nprocess.env.NODE_ENV !== \"production\" ? ChartsItemTooltipContent.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object,\r\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\r\n} : void 0;\r\nexport { ChartsItemTooltipContent };", "'use client';\r\n\r\nimport * as React from 'react';\r\nimport { useSvgRef } from \"../hooks/index.js\";\r\n/**\r\n * @deprecated We recommend using vanilla JS to let popper track mouse position.\r\n */\r\nexport function useMouseTracker() {\r\n  const svgRef = useSvgRef();\r\n\r\n  // Use a ref to avoid rerendering on every mousemove event.\r\n  const [mousePosition, setMousePosition] = React.useState(null);\r\n  React.useEffect(() => {\r\n    const element = svgRef.current;\r\n    if (element === null) {\r\n      return () => {};\r\n    }\r\n    const controller = new AbortController();\r\n    const handleOut = event => {\r\n      if (event.pointerType !== 'mouse') {\r\n        setMousePosition(null);\r\n      }\r\n    };\r\n    const handleMove = event => {\r\n      setMousePosition({\r\n        x: event.clientX,\r\n        y: event.clientY,\r\n        height: event.height,\r\n        pointerType: event.pointerType\r\n      });\r\n    };\r\n    element.addEventListener('pointerdown', handleMove, {\r\n      signal: controller.signal\r\n    });\r\n    element.addEventListener('pointermove', handleMove, {\r\n      signal: controller.signal\r\n    });\r\n    element.addEventListener('pointerup', handleOut, {\r\n      signal: controller.signal\r\n    });\r\n    return () => {\r\n      // Calling `.abort()` removes ALL event listeners\r\n      // For more info, see https://kettanaito.com/blog/dont-sleep-on-abort-controller\r\n      controller.abort();\r\n    };\r\n  }, [svgRef]);\r\n  return mousePosition;\r\n}\r\nexport function usePointerType() {\r\n  const svgRef = useSvgRef();\r\n\r\n  // Use a ref to avoid rerendering on every mousemove event.\r\n  const [pointerType, setPointerType] = React.useState(null);\r\n  React.useEffect(() => {\r\n    const element = svgRef.current;\r\n    if (element === null) {\r\n      return () => {};\r\n    }\r\n    const handleOut = event => {\r\n      if (event.pointerType !== 'mouse') {\r\n        setPointerType(null);\r\n      }\r\n    };\r\n    const handleEnter = event => {\r\n      setPointerType({\r\n        pointerType: event.pointerType\r\n      });\r\n    };\r\n    element.addEventListener('pointerenter', handleEnter);\r\n    element.addEventListener('pointerup', handleOut);\r\n    return () => {\r\n      element.removeEventListener('pointerenter', handleEnter);\r\n      element.removeEventListener('pointerup', handleOut);\r\n    };\r\n  }, [svgRef]);\r\n  return pointerType;\r\n}\r\nexport function utcFormatter(v) {\r\n  if (v instanceof Date) {\r\n    return v.toUTCString();\r\n  }\r\n  return v.toLocaleString();\r\n}", "'use client';\r\n\r\nimport * as React from 'react';\r\nimport { useSelector } from \"../../../store/useSelector.js\";\r\nimport { useStore } from \"../../../store/useStore.js\";\r\nimport { selectorChartSeriesConfig } from \"./useChartSeries.selectors.js\";\r\nexport function useColorProcessor(seriesType) {\r\n  const store = useStore();\r\n  const seriesConfig = useSelector(store, selectorChartSeriesConfig);\r\n  const colorProcessors = React.useMemo(() => {\r\n    const rep = {};\r\n    Object.keys(seriesConfig).forEach(seriesT => {\r\n      // @ts-expect-error https://github.com/microsoft/TypeScript/issues/61555\r\n      rep[seriesT] = seriesConfig[seriesT].colorProcessor;\r\n    });\r\n    return rep;\r\n  }, [seriesConfig]);\r\n  if (!seriesType) {\r\n    return colorProcessors;\r\n  }\r\n  return colorProcessors[seriesType];\r\n}", "/**\r\n * Clamp angle to [0, 360[.\r\n */\r\nexport function clampAngle(angle) {\r\n  return (angle % 360 + 360) % 360;\r\n}\r\nconst TWO_PI = 2 * Math.PI;\r\n/** Clamp angle to [0, 2 * Math.PI[. */\r\nexport function clampAngleRad(angle) {\r\n  return (angle % TWO_PI + TWO_PI) % TWO_PI;\r\n}", "import { isBandScale } from \"../../../isBandScale.js\";\r\nimport { clampAngleRad } from \"../../../clampAngle.js\";\r\n\r\n/**\r\n * For a pointer coordinate, this function returns the value and dataIndex associated.\r\n * Returns `-1` if the coordinate does not match a value.\r\n */\r\nexport function getAxisIndex(axisConfig, pointerValue) {\r\n  const {\r\n    scale,\r\n    data: axisData,\r\n    reverse\r\n  } = axisConfig;\r\n  if (!isBandScale(scale)) {\r\n    throw new Error('MUI X Charts: getAxisValue is not implemented for polare continuous axes.');\r\n  }\r\n  if (!axisData) {\r\n    return -1;\r\n  }\r\n  const angleGap = clampAngleRad(pointerValue - Math.min(...scale.range()));\r\n  const dataIndex = scale.bandwidth() === 0 ? Math.floor((angleGap + scale.step() / 2) / scale.step()) % axisData.length : Math.floor(angleGap / scale.step());\r\n  if (dataIndex < 0 || dataIndex >= axisData.length) {\r\n    return -1;\r\n  }\r\n  return reverse ? axisData.length - 1 - dataIndex : dataIndex;\r\n}", "import { isDeepEqual } from '@mui/x-internals/isDeepEqual';\r\nimport { createSelector } from \"../../utils/selectors.js\";\r\nimport { selectorChartsInteractionPointerX, selectorChartsInteractionPointerY } from \"../useChartInteraction/useChartInteraction.selectors.js\";\r\nimport { generateSvg2rotation } from \"./coordinateTransformation.js\";\r\nimport { getAxisIndex } from \"./getAxisIndex.js\";\r\nimport { selectorChartPolarCenter, selectorChartRotationAxis } from \"./useChartPolarAxis.selectors.js\";\r\nconst optionalGetAxisId = (_, id) => id;\r\nconst optionalGetAxisIds = (_, ids) => ids;\r\n\r\n/**\r\n * Get interaction indexes\r\n */\r\n\r\nfunction indexGetter(value, axes, ids) {\r\n  return Array.isArray(ids) ? ids.map(id => getAxisIndex(axes.axis[id], value)) : getAxisIndex(axes.axis[ids], value);\r\n}\r\n\r\n/**\r\n * Helper to get the rotation associated to the interaction coordinate.\r\n */\r\nconst selectorChartsInteractionRotationAngle = createSelector([selectorChartsInteractionPointerX, selectorChartsInteractionPointerY, selectorChartPolarCenter], (x, y, center) => {\r\n  if (x === null || y === null) {\r\n    return null;\r\n  }\r\n  return generateSvg2rotation(center)(x, y);\r\n});\r\nexport const selectorChartsInteractionRotationAxisIndex = createSelector([selectorChartsInteractionRotationAngle, selectorChartRotationAxis, optionalGetAxisId], (rotation, rotationAxis, id = rotationAxis.axisIds[0]) => rotation === null ? null : indexGetter(rotation, rotationAxis, id));\r\nexport const selectorChartsInteractionRotationAxisIndexes = createSelector([selectorChartsInteractionRotationAngle, selectorChartRotationAxis, optionalGetAxisIds], (rotation, rotationAxis, ids = rotationAxis.axisIds) => rotation === null ? null : indexGetter(rotation, rotationAxis, ids));\r\nexport const selectorChartsInteractionRotationAxisValue = createSelector([selectorChartRotationAxis, selectorChartsInteractionRotationAxisIndex, optionalGetAxisId], (rotationAxis, rotationIndex, id = rotationAxis.axisIds[0]) => {\r\n  if (rotationIndex === null || rotationIndex === -1 || rotationAxis.axisIds.length === 0) {\r\n    return null;\r\n  }\r\n  const data = rotationAxis.axis[id]?.data;\r\n  if (!data) {\r\n    return null;\r\n  }\r\n  return data[rotationIndex];\r\n});\r\nexport const selectorChartsInteractionRotationAxisValues = createSelector([selectorChartRotationAxis, selectorChartsInteractionRotationAxisIndexes, optionalGetAxisIds], (rotationAxis, rotationIndexes, ids = rotationAxis.axisIds) => {\r\n  if (rotationIndexes === null) {\r\n    return null;\r\n  }\r\n  return ids.map((id, axisIndex) => {\r\n    const rotationIndex = rotationIndexes[axisIndex];\r\n    if (rotationIndex === -1) {\r\n      return null;\r\n    }\r\n    return rotationAxis.axis[id].data?.[rotationIndex];\r\n  });\r\n});\r\n\r\n/**\r\n * Get rotation-axis ids and corresponding data index that should be display in the tooltip.\r\n */\r\nexport const selectorChartsInteractionTooltipRotationAxes = createSelector([selectorChartsInteractionRotationAxisIndexes, selectorChartRotationAxis], (indexes, axes) => {\r\n  if (indexes === null) {\r\n    return [];\r\n  }\r\n  return axes.axisIds.map((axisId, axisIndex) => ({\r\n    axisId,\r\n    dataIndex: indexes[axisIndex]\r\n  })).filter(({\r\n    axisId,\r\n    dataIndex\r\n  }) => axes.axis[axisId].triggerTooltip && dataIndex >= 0);\r\n}, {\r\n  memoizeOptions: {\r\n    // Keep the same reference if array content is the same.\r\n    // If possible, avoid this pattern by creating selectors that\r\n    // uses string/number as arguments.\r\n    resultEqualityCheck: isDeepEqual\r\n  }\r\n});\r\n\r\n/**\r\n * Get radius-axis ids and corresponding data index that should be displayed in the tooltip.\r\n */\r\nexport const selectorChartsInteractionTooltipRadiusAxes = createSelector([], () => {\r\n  // TODO implement this selector and add it to the `selectorChartsInteractionPolarAxisTooltip`\r\n  return [];\r\n});\r\n\r\n/**\r\n * Return `true` if the axis tooltip has something to display.\r\n */\r\nexport const selectorChartsInteractionPolarAxisTooltip = createSelector([selectorChartsInteractionTooltipRotationAxes], rotationTooltip => rotationTooltip.length > 0);", "'use client';\r\n\r\nimport { useSeries } from \"../hooks/useSeries.js\";\r\nimport { useColorProcessor } from \"../internals/plugins/corePlugins/useChartSeries/useColorProcessor.js\";\r\nimport { useStore } from \"../internals/store/useStore.js\";\r\nimport { useSelector } from \"../internals/store/useSelector.js\";\r\nimport { getLabel } from \"../internals/getLabel.js\";\r\nimport { isCartesianSeriesType } from \"../internals/isCartesian.js\";\r\nimport { utcFormatter } from \"./utils.js\";\r\nimport { useRotationAxes, useRotationAxis, useXAxes, useXAxis, useYAxes, useYAxis } from \"../hooks/useAxis.js\";\r\nimport { useZAxes } from \"../hooks/useZAxis.js\";\r\nimport { selectorChartsInteractionTooltipXAxes, selectorChartsInteractionTooltipYAxes } from \"../internals/plugins/featurePlugins/useChartCartesianAxis/index.js\";\r\nimport { selectorChartsInteractionTooltipRotationAxes } from \"../internals/plugins/featurePlugins/useChartPolarAxis/useChartPolarInteraction.selectors.js\";\r\nimport { isPolarSeriesType } from \"../internals/isPolar.js\";\r\nfunction defaultAxisTooltipConfig(axis, dataIndex, axisDirection) {\r\n  const axisValue = axis.data?.[dataIndex] ?? null;\r\n  const axisFormatter = axis.valueFormatter ?? (v => axis.scaleType === 'utc' ? utcFormatter(v) : v.toLocaleString());\r\n  const axisFormattedValue = axisFormatter(axisValue, {\r\n    location: 'tooltip',\r\n    scale: axis.scale\r\n  });\r\n  return {\r\n    axisDirection,\r\n    axisId: axis.id,\r\n    mainAxis: axis,\r\n    dataIndex,\r\n    axisValue,\r\n    axisFormattedValue,\r\n    seriesItems: []\r\n  };\r\n}\r\n\r\n/**\r\n * @deprecated Use `useAxesTooltip` instead.\r\n */\r\n\r\nexport function useAxisTooltip(params = {}) {\r\n  const {\r\n    multipleAxes,\r\n    directions\r\n  } = params;\r\n  const defaultXAxis = useXAxis();\r\n  const defaultYAxis = useYAxis();\r\n  const defaultRotationAxis = useRotationAxis();\r\n  const store = useStore();\r\n  const tooltipXAxes = useSelector(store, selectorChartsInteractionTooltipXAxes);\r\n  const tooltipYAxes = useSelector(store, selectorChartsInteractionTooltipYAxes);\r\n  const tooltipRotationAxes = useSelector(store, selectorChartsInteractionTooltipRotationAxes);\r\n  const series = useSeries();\r\n  const {\r\n    xAxis\r\n  } = useXAxes();\r\n  const {\r\n    yAxis\r\n  } = useYAxes();\r\n  const {\r\n    zAxis,\r\n    zAxisIds\r\n  } = useZAxes();\r\n  const {\r\n    rotationAxis\r\n  } = useRotationAxes();\r\n  const colorProcessors = useColorProcessor();\r\n  if (tooltipXAxes.length === 0 && tooltipYAxes.length === 0 && tooltipRotationAxes.length === 0) {\r\n    return null;\r\n  }\r\n  const tooltipAxes = [];\r\n  if (directions === undefined || directions.includes('x')) {\r\n    tooltipXAxes.forEach(({\r\n      axisId,\r\n      dataIndex\r\n    }) => {\r\n      if (!multipleAxes && tooltipAxes.length > 1) {\r\n        return;\r\n      }\r\n      tooltipAxes.push(defaultAxisTooltipConfig(xAxis[axisId], dataIndex, 'x'));\r\n    });\r\n  }\r\n  if (directions === undefined || directions.includes('y')) {\r\n    tooltipYAxes.forEach(({\r\n      axisId,\r\n      dataIndex\r\n    }) => {\r\n      if (!multipleAxes && tooltipAxes.length > 1) {\r\n        return;\r\n      }\r\n      tooltipAxes.push(defaultAxisTooltipConfig(yAxis[axisId], dataIndex, 'y'));\r\n    });\r\n  }\r\n  if (directions === undefined || directions.includes('rotation')) {\r\n    tooltipRotationAxes.forEach(({\r\n      axisId,\r\n      dataIndex\r\n    }) => {\r\n      if (!multipleAxes && tooltipAxes.length > 1) {\r\n        return;\r\n      }\r\n      tooltipAxes.push(defaultAxisTooltipConfig(rotationAxis[axisId], dataIndex, 'rotation'));\r\n    });\r\n  }\r\n  Object.keys(series).filter(isCartesianSeriesType).forEach(seriesType => {\r\n    const seriesOfType = series[seriesType];\r\n    if (!seriesOfType) {\r\n      return [];\r\n    }\r\n    return seriesOfType.seriesOrder.forEach(seriesId => {\r\n      const seriesToAdd = seriesOfType.series[seriesId];\r\n      const providedXAxisId = seriesToAdd.xAxisId ?? defaultXAxis.id;\r\n      const providedYAxisId = seriesToAdd.yAxisId ?? defaultYAxis.id;\r\n      const tooltipItemIndex = tooltipAxes.findIndex(({\r\n        axisDirection,\r\n        axisId\r\n      }) => axisDirection === 'x' && axisId === providedXAxisId || axisDirection === 'y' && axisId === providedYAxisId);\r\n      // Test if the series uses the default axis\r\n      if (tooltipItemIndex >= 0) {\r\n        const zAxisId = 'zAxisId' in seriesToAdd ? seriesToAdd.zAxisId : zAxisIds[0];\r\n        const {\r\n          dataIndex\r\n        } = tooltipAxes[tooltipItemIndex];\r\n        const color = colorProcessors[seriesType]?.(seriesToAdd, xAxis[providedXAxisId], yAxis[providedYAxisId], zAxisId ? zAxis[zAxisId] : undefined)(dataIndex) ?? '';\r\n        const value = seriesToAdd.data[dataIndex] ?? null;\r\n        const formattedValue = seriesToAdd.valueFormatter(value, {\r\n          dataIndex\r\n        });\r\n        const formattedLabel = getLabel(seriesToAdd.label, 'tooltip') ?? null;\r\n        tooltipAxes[tooltipItemIndex].seriesItems.push({\r\n          seriesId,\r\n          color,\r\n          value,\r\n          formattedValue,\r\n          formattedLabel,\r\n          markType: seriesToAdd.labelMarkType\r\n        });\r\n      }\r\n    });\r\n  });\r\n  Object.keys(series).filter(isPolarSeriesType).forEach(seriesType => {\r\n    const seriesOfType = series[seriesType];\r\n    if (!seriesOfType) {\r\n      return [];\r\n    }\r\n    return seriesOfType.seriesOrder.forEach(seriesId => {\r\n      const seriesToAdd = seriesOfType.series[seriesId];\r\n      const providedRotationAxisId =\r\n      // @ts-expect-error Should be fixed when we introduce a polar series with a rotationAxisId\r\n      seriesToAdd.rotationAxisId ?? defaultRotationAxis?.id;\r\n      const tooltipItemIndex = tooltipAxes.findIndex(({\r\n        axisDirection,\r\n        axisId\r\n      }) => axisDirection === 'rotation' && axisId === providedRotationAxisId);\r\n      // Test if the series uses the default axis\r\n      if (tooltipItemIndex >= 0) {\r\n        const {\r\n          dataIndex\r\n        } = tooltipAxes[tooltipItemIndex];\r\n        const color = colorProcessors[seriesType]?.(seriesToAdd)(dataIndex) ?? '';\r\n        const value = seriesToAdd.data[dataIndex] ?? null;\r\n        const formattedValue = seriesToAdd.valueFormatter(value, {\r\n          dataIndex\r\n        });\r\n        const formattedLabel = getLabel(seriesToAdd.label, 'tooltip') ?? null;\r\n        tooltipAxes[tooltipItemIndex].seriesItems.push({\r\n          seriesId,\r\n          color,\r\n          value,\r\n          formattedValue,\r\n          formattedLabel,\r\n          markType: seriesToAdd.labelMarkType\r\n        });\r\n      }\r\n    });\r\n  });\r\n  if (!multipleAxes) {\r\n    return tooltipAxes.length === 0 ? tooltipAxes[0] : null;\r\n  }\r\n  return tooltipAxes;\r\n}", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport { useAxisTooltip } from \"./useAxisTooltip.js\";\r\n/**\r\n * Returns the axes to display in the tooltip and the series item related to them.\r\n */\r\nexport function useAxesTooltip(params) {\r\n  return useAxisTooltip(_extends({}, params, {\r\n    multipleAxes: true\r\n  }));\r\n}", "'use client';\r\n\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@mui/material/Typography';\r\nimport clsx from 'clsx';\r\nimport { useUtilityClasses } from \"./chartsTooltipClasses.js\";\r\nimport { ChartsTooltipCell, ChartsTooltipPaper, ChartsTooltipRow, ChartsTooltipTable } from \"./ChartsTooltipTable.js\";\r\nimport { useAxesTooltip } from \"./useAxesTooltip.js\";\r\nimport { ChartsLabelMark } from \"../ChartsLabel/ChartsLabelMark.js\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nfunction ChartsAxisTooltipContent(props) {\r\n  const classes = useUtilityClasses(props.classes);\r\n  const tooltipData = useAxesTooltip();\r\n  if (tooltipData === null) {\r\n    return null;\r\n  }\r\n  return /*#__PURE__*/_jsx(ChartsTooltipPaper, {\r\n    sx: props.sx,\r\n    className: classes.paper,\r\n    children: tooltipData.map(({\r\n      axisId,\r\n      mainAxis,\r\n      axisValue,\r\n      axisFormattedValue,\r\n      seriesItems\r\n    }) => {\r\n      return /*#__PURE__*/_jsxs(ChartsTooltipTable, {\r\n        className: classes.table,\r\n        children: [axisValue != null && !mainAxis.hideTooltip && /*#__PURE__*/_jsx(Typography, {\r\n          component: \"caption\",\r\n          children: axisFormattedValue\r\n        }), /*#__PURE__*/_jsx(\"tbody\", {\r\n          children: seriesItems.map(({\r\n            seriesId,\r\n            color,\r\n            formattedValue,\r\n            formattedLabel,\r\n            markType\r\n          }) => {\r\n            if (formattedValue == null) {\r\n              return null;\r\n            }\r\n            return /*#__PURE__*/_jsxs(ChartsTooltipRow, {\r\n              className: classes.row,\r\n              children: [/*#__PURE__*/_jsxs(ChartsTooltipCell, {\r\n                className: clsx(classes.labelCell, classes.cell),\r\n                component: \"th\",\r\n                children: [/*#__PURE__*/_jsx(\"div\", {\r\n                  className: classes.markContainer,\r\n                  children: /*#__PURE__*/_jsx(ChartsLabelMark, {\r\n                    type: markType,\r\n                    color: color,\r\n                    className: classes.mark\r\n                  })\r\n                }), formattedLabel || null]\r\n              }), /*#__PURE__*/_jsx(ChartsTooltipCell, {\r\n                className: clsx(classes.valueCell, classes.cell),\r\n                component: \"td\",\r\n                children: formattedValue\r\n              })]\r\n            }, seriesId);\r\n          })\r\n        })]\r\n      }, axisId);\r\n    })\r\n  });\r\n}\r\nprocess.env.NODE_ENV !== \"production\" ? ChartsAxisTooltipContent.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object,\r\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\r\n} : void 0;\r\nexport { ChartsAxisTooltipContent };", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nconst _excluded = [\"trigger\", \"classes\", \"children\"];\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport HTMLElementType from '@mui/utils/HTMLElementType';\r\nimport useLazyRef from '@mui/utils/useLazyRef';\r\nimport { styled, useThemeProps } from '@mui/material/styles';\r\nimport Popper from '@mui/material/Popper';\r\nimport NoSsr from '@mui/material/NoSsr';\r\nimport { useSvgRef } from \"../hooks/useSvgRef.js\";\r\nimport { usePointerType } from \"./utils.js\";\r\nimport { useSelector } from \"../internals/store/useSelector.js\";\r\nimport { useStore } from \"../internals/store/useStore.js\";\r\nimport { selectorChartsInteractionItemIsDefined } from \"../internals/plugins/featurePlugins/useChartInteraction/index.js\";\r\nimport { selectorChartsInteractionAxisTooltip } from \"../internals/plugins/featurePlugins/useChartCartesianAxis/index.js\";\r\nimport { selectorChartsInteractionPolarAxisTooltip } from \"../internals/plugins/featurePlugins/useChartPolarAxis/useChartPolarInteraction.selectors.js\";\r\nimport { useAxisSystem } from \"../hooks/useAxisSystem.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nconst noAxis = () => false;\r\nconst ChartsTooltipRoot = styled(Popper, {\r\n  name: 'MuiChartsTooltip',\r\n  slot: 'Root'\r\n})(({\r\n  theme\r\n}) => ({\r\n  pointerEvents: 'none',\r\n  zIndex: theme.zIndex.modal\r\n}));\r\n\r\n/**\r\n * Demos:\r\n *\r\n * - [ChartsTooltip](https://mui.com/x/react-charts/tooltip/)\r\n *\r\n * API:\r\n *\r\n * - [ChartsTooltip API](https://mui.com/x/api/charts/charts-tool-tip/)\r\n */\r\nfunction ChartsTooltipContainer(inProps) {\r\n  const props = useThemeProps({\r\n    props: inProps,\r\n    name: 'MuiChartsTooltipContainer'\r\n  });\r\n  const {\r\n      trigger = 'axis',\r\n      classes,\r\n      children\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  const svgRef = useSvgRef();\r\n  const pointerType = usePointerType();\r\n  const popperRef = React.useRef(null);\r\n  const positionRef = useLazyRef(() => ({\r\n    x: 0,\r\n    y: 0\r\n  }));\r\n  const axisSystem = useAxisSystem();\r\n  const store = useStore();\r\n  const isOpen = useSelector(store, trigger === 'axis' ? axisSystem === 'polar' && selectorChartsInteractionPolarAxisTooltip || axisSystem === 'cartesian' && selectorChartsInteractionAxisTooltip || noAxis : selectorChartsInteractionItemIsDefined);\r\n  const popperOpen = pointerType !== null && isOpen; // tooltipHasData;\r\n\r\n  React.useEffect(() => {\r\n    const element = svgRef.current;\r\n    if (element === null) {\r\n      return () => {};\r\n    }\r\n    const handleMove = event => {\r\n      // eslint-disable-next-line react-compiler/react-compiler\r\n      positionRef.current = {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      };\r\n      popperRef.current?.update();\r\n    };\r\n    element.addEventListener('pointermove', handleMove);\r\n    return () => {\r\n      element.removeEventListener('pointermove', handleMove);\r\n    };\r\n  }, [svgRef, positionRef]);\r\n  const anchorEl = React.useMemo(() => ({\r\n    getBoundingClientRect: () => ({\r\n      x: positionRef.current.x,\r\n      y: positionRef.current.y,\r\n      top: positionRef.current.y,\r\n      left: positionRef.current.x,\r\n      right: positionRef.current.x,\r\n      bottom: positionRef.current.y,\r\n      width: 0,\r\n      height: 0,\r\n      toJSON: () => ''\r\n    })\r\n  }), [positionRef]);\r\n  const modifiers = React.useMemo(() => [{\r\n    name: 'offset',\r\n    options: {\r\n      offset: () => {\r\n        if (pointerType?.pointerType !== 'touch') {\r\n          // The popper offset: [skidding, distance]\r\n          return [0, 8];\r\n        }\r\n        return [0, 64];\r\n      }\r\n    }\r\n  }, ...(pointerType?.pointerType === 'mouse' ? [] // Keep default behavior\r\n  : [{\r\n    name: 'flip',\r\n    options: {\r\n      fallbackPlacements: ['top-end', 'top-start', 'bottom-end', 'bottom']\r\n    }\r\n  }])], [pointerType]);\r\n  if (trigger === 'none') {\r\n    return null;\r\n  }\r\n  return /*#__PURE__*/_jsx(NoSsr, {\r\n    children: popperOpen && /*#__PURE__*/_jsx(ChartsTooltipRoot, _extends({\r\n      className: classes?.root,\r\n      open: popperOpen,\r\n      placement: pointerType?.pointerType === 'mouse' ? 'right-start' : 'top',\r\n      popperRef: popperRef,\r\n      anchorEl: anchorEl,\r\n      modifiers: modifiers\r\n    }, other, {\r\n      children: children\r\n    }))\r\n  });\r\n}\r\nprocess.env.NODE_ENV !== \"production\" ? ChartsTooltipContainer.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  /**\r\n   * An HTML element, [virtualElement](https://popper.js.org/docs/v2/virtual-elements/),\r\n   * or a function that returns either.\r\n   * It's used to set the position of the popper.\r\n   * The return value will passed as the reference object of the Popper instance.\r\n   */\r\n  anchorEl: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([HTMLElementType, PropTypes.object, PropTypes.func]),\r\n  /**\r\n   * Popper render function or node.\r\n   */\r\n  children: PropTypes.node,\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object,\r\n  /**\r\n   * The component used for the root node.\r\n   * Either a string to use a HTML element or a component.\r\n   */\r\n  component: PropTypes.elementType,\r\n  /**\r\n   * The components used for each slot inside the Popper.\r\n   * Either a string to use a HTML element or a component.\r\n   *\r\n   * @deprecated use the `slots` prop instead. This prop will be removed in a future major release. [How to migrate](/material-ui/migration/migrating-from-deprecated-apis/).\r\n   * @default {}\r\n   */\r\n  components: PropTypes.shape({\r\n    Root: PropTypes.elementType\r\n  }),\r\n  /**\r\n   * The props used for each slot inside the Popper.\r\n   *\r\n   * @deprecated use the `slotProps` prop instead. This prop will be removed in a future major release. [How to migrate](/material-ui/migration/migrating-from-deprecated-apis/).\r\n   * @default {}\r\n   */\r\n  componentsProps: PropTypes.shape({\r\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\r\n  }),\r\n  /**\r\n   * An HTML element or function that returns one.\r\n   * The `container` will have the portal children appended to it.\r\n   *\r\n   * You can also provide a callback, which is called in a React layout effect.\r\n   * This lets you set the container from a ref, and also makes server-side rendering possible.\r\n   *\r\n   * By default, it uses the body of the top-level document object,\r\n   * so it's simply `document.body` most of the time.\r\n   */\r\n  container: PropTypes.oneOfType([(props, propName) => {\r\n    if (props[propName] == null) {\r\n      return new Error(`Prop '${propName}' is required but wasn't specified`);\r\n    }\r\n    if (typeof props[propName] !== 'object' || props[propName].nodeType !== 1) {\r\n      return new Error(`Expected prop '${propName}' to be of type Element`);\r\n    }\r\n    return null;\r\n  }, PropTypes.func]),\r\n  /**\r\n   * The `children` will be under the DOM hierarchy of the parent component.\r\n   * @default false\r\n   */\r\n  disablePortal: PropTypes.bool,\r\n  /**\r\n   * Always keep the children in the DOM.\r\n   * This prop can be useful in SEO situation or\r\n   * when you want to maximize the responsiveness of the Popper.\r\n   * @default false\r\n   */\r\n  keepMounted: PropTypes.bool,\r\n  /**\r\n   * Popper.js is based on a \"plugin-like\" architecture,\r\n   * most of its features are fully encapsulated \"modifiers\".\r\n   *\r\n   * A modifier is a function that is called each time Popper.js needs to\r\n   * compute the position of the popper.\r\n   * For this reason, modifiers should be very performant to avoid bottlenecks.\r\n   * To learn how to create a modifier, [read the modifiers documentation](https://popper.js.org/docs/v2/modifiers/).\r\n   */\r\n  modifiers: PropTypes.arrayOf(PropTypes.shape({\r\n    data: PropTypes.object,\r\n    effect: PropTypes.func,\r\n    enabled: PropTypes.bool,\r\n    fn: PropTypes.func,\r\n    name: PropTypes.any,\r\n    options: PropTypes.object,\r\n    phase: PropTypes.oneOf(['afterMain', 'afterRead', 'afterWrite', 'beforeMain', 'beforeRead', 'beforeWrite', 'main', 'read', 'write']),\r\n    requires: PropTypes.arrayOf(PropTypes.string),\r\n    requiresIfExists: PropTypes.arrayOf(PropTypes.string)\r\n  })),\r\n  /**\r\n   * If `true`, the component is shown.\r\n   */\r\n  open: PropTypes.bool,\r\n  /**\r\n   * Popper placement.\r\n   * @default 'bottom'\r\n   */\r\n  placement: PropTypes.oneOf(['auto-end', 'auto-start', 'auto', 'bottom-end', 'bottom-start', 'bottom', 'left-end', 'left-start', 'left', 'right-end', 'right-start', 'right', 'top-end', 'top-start', 'top']),\r\n  /**\r\n   * Options provided to the [`Popper.js`](https://popper.js.org/docs/v2/constructors/#options) instance.\r\n   * @default {}\r\n   */\r\n  popperOptions: PropTypes.shape({\r\n    modifiers: PropTypes.array,\r\n    onFirstUpdate: PropTypes.func,\r\n    placement: PropTypes.oneOf(['auto-end', 'auto-start', 'auto', 'bottom-end', 'bottom-start', 'bottom', 'left-end', 'left-start', 'left', 'right-end', 'right-start', 'right', 'top-end', 'top-start', 'top']),\r\n    strategy: PropTypes.oneOf(['absolute', 'fixed'])\r\n  }),\r\n  /**\r\n   * A ref that points to the used popper instance.\r\n   */\r\n  popperRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\r\n    current: PropTypes.shape({\r\n      destroy: PropTypes.func.isRequired,\r\n      forceUpdate: PropTypes.func.isRequired,\r\n      setOptions: PropTypes.func.isRequired,\r\n      state: PropTypes.shape({\r\n        attributes: PropTypes.object.isRequired,\r\n        elements: PropTypes.object.isRequired,\r\n        modifiersData: PropTypes.object.isRequired,\r\n        options: PropTypes.object.isRequired,\r\n        orderedModifiers: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n        placement: PropTypes.oneOf(['auto-end', 'auto-start', 'auto', 'bottom-end', 'bottom-start', 'bottom', 'left-end', 'left-start', 'left', 'right-end', 'right-start', 'right', 'top-end', 'top-start', 'top']).isRequired,\r\n        rects: PropTypes.object.isRequired,\r\n        reset: PropTypes.bool.isRequired,\r\n        scrollParents: PropTypes.object.isRequired,\r\n        strategy: PropTypes.oneOf(['absolute', 'fixed']).isRequired,\r\n        styles: PropTypes.object.isRequired\r\n      }).isRequired,\r\n      update: PropTypes.func.isRequired\r\n    })\r\n  })]),\r\n  /**\r\n   * The props used for each slot inside the Popper.\r\n   * @default {}\r\n   */\r\n  slotProps: PropTypes.object,\r\n  /**\r\n   * The components used for each slot inside the Popper.\r\n   * Either a string to use a HTML element or a component.\r\n   * @default {}\r\n   */\r\n  slots: PropTypes.object,\r\n  /**\r\n   * The system prop that allows defining system overrides as well as additional CSS styles.\r\n   */\r\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\r\n  /**\r\n   * Help supporting a react-transition-group/Transition component.\r\n   * @default false\r\n   */\r\n  transition: PropTypes.bool,\r\n  /**\r\n   * Select the kind of tooltip to display\r\n   * - 'item': Shows data about the item below the mouse.\r\n   * - 'axis': Shows values associated with the hovered x value\r\n   * - 'none': Does not display tooltip\r\n   * @default 'axis'\r\n   */\r\n  trigger: PropTypes.oneOf(['axis', 'item', 'none'])\r\n} : void 0;\r\nexport { ChartsTooltipContainer };", "'use client';\r\n\r\nimport { selectorChartRawXAxis } from \"../internals/plugins/featurePlugins/useChartCartesianAxis/index.js\";\r\nimport { selectorChartRawRotationAxis } from \"../internals/plugins/featurePlugins/useChartPolarAxis/index.js\";\r\nimport { useSelector } from \"../internals/store/useSelector.js\";\r\nimport { useStore } from \"../internals/store/useStore.js\";\r\n\r\n/**\r\n * @internals\r\n *\r\n * Get the coordinate system implemented.\r\n * The hook assumes polar and cartesian are never implemented at the same time.\r\n * @returns The coordinate system\r\n */\r\nexport function useAxisSystem() {\r\n  const store = useStore();\r\n  const rawRotationAxis = useSelector(store, selectorChartRawRotationAxis);\r\n  const rawXAxis = useSelector(store, selectorChartRawXAxis);\r\n  if (rawRotationAxis !== undefined) {\r\n    return 'polar';\r\n  }\r\n  if (rawXAxis !== undefined) {\r\n    return 'cartesian';\r\n  }\r\n  return 'none';\r\n}", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport HTMLElementType from '@mui/utils/HTMLElementType';\r\nimport { ChartsItemTooltipContent } from \"./ChartsItemTooltipContent.js\";\r\nimport { ChartsAxisTooltipContent } from \"./ChartsAxisTooltipContent.js\";\r\nimport { ChartsTooltipContainer } from \"./ChartsTooltipContainer.js\";\r\nimport { useUtilityClasses } from \"./chartsTooltipClasses.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\n/**\r\n * Demos:\r\n *\r\n * - [ChartsTooltip](https://mui.com/x/react-charts/tooltip/)\r\n *\r\n * API:\r\n *\r\n * - [ChartsTooltip API](https://mui.com/x/api/charts/charts-tool-tip/)\r\n */\r\nfunction ChartsTooltip(props) {\r\n  const {\r\n    classes: propClasses,\r\n    trigger = 'axis'\r\n  } = props;\r\n  const classes = useUtilityClasses(propClasses);\r\n  return /*#__PURE__*/_jsx(ChartsTooltipContainer, _extends({}, props, {\r\n    classes: classes,\r\n    children: trigger === 'axis' ? /*#__PURE__*/_jsx(ChartsAxisTooltipContent, {\r\n      classes: classes\r\n    }) : /*#__PURE__*/_jsx(ChartsItemTooltipContent, {\r\n      classes: classes\r\n    })\r\n  }));\r\n}\r\nprocess.env.NODE_ENV !== \"production\" ? ChartsTooltip.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  /**\r\n   * An HTML element, [virtualElement](https://popper.js.org/docs/v2/virtual-elements/),\r\n   * or a function that returns either.\r\n   * It's used to set the position of the popper.\r\n   * The return value will passed as the reference object of the Popper instance.\r\n   */\r\n  anchorEl: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([HTMLElementType, PropTypes.object, PropTypes.func]),\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object,\r\n  /**\r\n   * The component used for the root node.\r\n   * Either a string to use a HTML element or a component.\r\n   */\r\n  component: PropTypes.elementType,\r\n  /**\r\n   * The components used for each slot inside the Popper.\r\n   * Either a string to use a HTML element or a component.\r\n   *\r\n   * @deprecated use the `slots` prop instead. This prop will be removed in a future major release. [How to migrate](/material-ui/migration/migrating-from-deprecated-apis/).\r\n   * @default {}\r\n   */\r\n  components: PropTypes.shape({\r\n    Root: PropTypes.elementType\r\n  }),\r\n  /**\r\n   * The props used for each slot inside the Popper.\r\n   *\r\n   * @deprecated use the `slotProps` prop instead. This prop will be removed in a future major release. [How to migrate](/material-ui/migration/migrating-from-deprecated-apis/).\r\n   * @default {}\r\n   */\r\n  componentsProps: PropTypes.shape({\r\n    root: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\r\n  }),\r\n  /**\r\n   * An HTML element or function that returns one.\r\n   * The `container` will have the portal children appended to it.\r\n   *\r\n   * You can also provide a callback, which is called in a React layout effect.\r\n   * This lets you set the container from a ref, and also makes server-side rendering possible.\r\n   *\r\n   * By default, it uses the body of the top-level document object,\r\n   * so it's simply `document.body` most of the time.\r\n   */\r\n  container: PropTypes.oneOfType([(props, propName) => {\r\n    if (props[propName] == null) {\r\n      return new Error(`Prop '${propName}' is required but wasn't specified`);\r\n    }\r\n    if (typeof props[propName] !== 'object' || props[propName].nodeType !== 1) {\r\n      return new Error(`Expected prop '${propName}' to be of type Element`);\r\n    }\r\n    return null;\r\n  }, PropTypes.func]),\r\n  /**\r\n   * The `children` will be under the DOM hierarchy of the parent component.\r\n   * @default false\r\n   */\r\n  disablePortal: PropTypes.bool,\r\n  /**\r\n   * Always keep the children in the DOM.\r\n   * This prop can be useful in SEO situation or\r\n   * when you want to maximize the responsiveness of the Popper.\r\n   * @default false\r\n   */\r\n  keepMounted: PropTypes.bool,\r\n  /**\r\n   * Popper.js is based on a \"plugin-like\" architecture,\r\n   * most of its features are fully encapsulated \"modifiers\".\r\n   *\r\n   * A modifier is a function that is called each time Popper.js needs to\r\n   * compute the position of the popper.\r\n   * For this reason, modifiers should be very performant to avoid bottlenecks.\r\n   * To learn how to create a modifier, [read the modifiers documentation](https://popper.js.org/docs/v2/modifiers/).\r\n   */\r\n  modifiers: PropTypes.arrayOf(PropTypes.shape({\r\n    data: PropTypes.object,\r\n    effect: PropTypes.func,\r\n    enabled: PropTypes.bool,\r\n    fn: PropTypes.func,\r\n    name: PropTypes.any,\r\n    options: PropTypes.object,\r\n    phase: PropTypes.oneOf(['afterMain', 'afterRead', 'afterWrite', 'beforeMain', 'beforeRead', 'beforeWrite', 'main', 'read', 'write']),\r\n    requires: PropTypes.arrayOf(PropTypes.string),\r\n    requiresIfExists: PropTypes.arrayOf(PropTypes.string)\r\n  })),\r\n  /**\r\n   * If `true`, the component is shown.\r\n   */\r\n  open: PropTypes.bool,\r\n  /**\r\n   * Popper placement.\r\n   * @default 'bottom'\r\n   */\r\n  placement: PropTypes.oneOf(['auto-end', 'auto-start', 'auto', 'bottom-end', 'bottom-start', 'bottom', 'left-end', 'left-start', 'left', 'right-end', 'right-start', 'right', 'top-end', 'top-start', 'top']),\r\n  /**\r\n   * Options provided to the [`Popper.js`](https://popper.js.org/docs/v2/constructors/#options) instance.\r\n   * @default {}\r\n   */\r\n  popperOptions: PropTypes.shape({\r\n    modifiers: PropTypes.array,\r\n    onFirstUpdate: PropTypes.func,\r\n    placement: PropTypes.oneOf(['auto-end', 'auto-start', 'auto', 'bottom-end', 'bottom-start', 'bottom', 'left-end', 'left-start', 'left', 'right-end', 'right-start', 'right', 'top-end', 'top-start', 'top']),\r\n    strategy: PropTypes.oneOf(['absolute', 'fixed'])\r\n  }),\r\n  /**\r\n   * A ref that points to the used popper instance.\r\n   */\r\n  popperRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\r\n    current: PropTypes.shape({\r\n      destroy: PropTypes.func.isRequired,\r\n      forceUpdate: PropTypes.func.isRequired,\r\n      setOptions: PropTypes.func.isRequired,\r\n      state: PropTypes.shape({\r\n        attributes: PropTypes.object.isRequired,\r\n        elements: PropTypes.object.isRequired,\r\n        modifiersData: PropTypes.object.isRequired,\r\n        options: PropTypes.object.isRequired,\r\n        orderedModifiers: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n        placement: PropTypes.oneOf(['auto-end', 'auto-start', 'auto', 'bottom-end', 'bottom-start', 'bottom', 'left-end', 'left-start', 'left', 'right-end', 'right-start', 'right', 'top-end', 'top-start', 'top']).isRequired,\r\n        rects: PropTypes.object.isRequired,\r\n        reset: PropTypes.bool.isRequired,\r\n        scrollParents: PropTypes.object.isRequired,\r\n        strategy: PropTypes.oneOf(['absolute', 'fixed']).isRequired,\r\n        styles: PropTypes.object.isRequired\r\n      }).isRequired,\r\n      update: PropTypes.func.isRequired\r\n    })\r\n  })]),\r\n  /**\r\n   * The props used for each slot inside the Popper.\r\n   * @default {}\r\n   */\r\n  slotProps: PropTypes.object,\r\n  /**\r\n   * The components used for each slot inside the Popper.\r\n   * Either a string to use a HTML element or a component.\r\n   * @default {}\r\n   */\r\n  slots: PropTypes.object,\r\n  /**\r\n   * The system prop that allows defining system overrides as well as additional CSS styles.\r\n   */\r\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\r\n  /**\r\n   * Help supporting a react-transition-group/Transition component.\r\n   * @default false\r\n   */\r\n  transition: PropTypes.bool,\r\n  /**\r\n   * Select the kind of tooltip to display\r\n   * - 'item': Shows data about the item below the mouse.\r\n   * - 'axis': Shows values associated with the hovered x value\r\n   * - 'none': Does not display tooltip\r\n   * @default 'axis'\r\n   */\r\n  trigger: PropTypes.oneOf(['axis', 'item', 'none'])\r\n} : void 0;\r\nexport { ChartsTooltip };", "import composeClasses from '@mui/utils/composeClasses';\r\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\r\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\r\nexport function getLabelUtilityClass(slot) {\r\n  return generateUtilityClass('MuiChartsLabel', slot);\r\n}\r\nexport const labelClasses = generateUtilityClasses('MuiChartsLabel', ['root']);\r\nexport const useUtilityClasses = props => {\r\n  const slots = {\r\n    root: ['root']\r\n  };\r\n  return composeClasses(slots, getLabelUtilityClass, props.classes);\r\n};", "import composeClasses from '@mui/utils/composeClasses';\r\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\r\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\r\nexport function getLabelGradientUtilityClass(slot) {\r\n  return generateUtilityClass('MuiChartsLabelGradient', slot);\r\n}\r\nexport const labelGradientClasses = generateUtilityClasses('MuiChartsLabelGradient', ['root', 'vertical', 'horizontal', 'mask', 'fill']);\r\nexport const useUtilityClasses = props => {\r\n  const {\r\n    direction\r\n  } = props;\r\n  const slots = {\r\n    root: ['root', direction],\r\n    mask: ['mask'],\r\n    fill: ['fill']\r\n  };\r\n  return composeClasses(slots, getLabelGradientUtilityClass, props.classes);\r\n};", "import generateUtilityClass from '@mui/utils/generateUtilityClass';\r\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\r\nimport composeClasses from '@mui/utils/composeClasses';\r\nfunction getLegendUtilityClass(slot) {\r\n  return generateUtilityClass('MuiChartsLegend', slot);\r\n}\r\nexport const useUtilityClasses = props => {\r\n  const {\r\n    classes,\r\n    direction\r\n  } = props;\r\n  const slots = {\r\n    root: ['root', direction],\r\n    mark: ['mark'],\r\n    label: ['label'],\r\n    series: ['series']\r\n  };\r\n  return composeClasses(slots, getLegendUtilityClass, classes);\r\n};\r\nexport const legendClasses = generateUtilityClasses('MuiChartsLegend', ['root', 'series', 'mark', 'label', 'vertical', 'horizontal']);", "'use client';\r\n\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nconst _excluded = [\"direction\", \"onItemClick\", \"className\", \"classes\"];\r\nimport * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { useLegend } from \"../hooks/useLegend.js\";\r\nimport { ChartsLabelMark } from \"../ChartsLabel/ChartsLabelMark.js\";\r\nimport { seriesContextBuilder } from \"./onClickContextBuilder.js\";\r\nimport { legendClasses, useUtilityClasses } from \"./chartsLegendClasses.js\";\r\nimport { consumeSlots } from \"../internals/consumeSlots.js\";\r\nimport { ChartsLabel } from \"../ChartsLabel/ChartsLabel.js\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nconst RootElement = styled('ul', {\r\n  name: 'MuiChartsLegend',\r\n  slot: 'Root'\r\n})(({\r\n  ownerState,\r\n  theme\r\n}) => _extends({}, theme.typography.caption, {\r\n  color: (theme.vars || theme).palette.text.primary,\r\n  lineHeight: '100%',\r\n  display: 'flex',\r\n  flexDirection: ownerState.direction === 'vertical' ? 'column' : 'row',\r\n  alignItems: ownerState.direction === 'vertical' ? undefined : 'center',\r\n  flexShrink: 0,\r\n  gap: theme.spacing(2),\r\n  listStyleType: 'none',\r\n  paddingInlineStart: 0,\r\n  marginBlock: theme.spacing(1),\r\n  marginInline: theme.spacing(1),\r\n  flexWrap: 'wrap',\r\n  li: {\r\n    display: ownerState.direction === 'horizontal' ? 'inline-flex' : undefined\r\n  },\r\n  [`button.${legendClasses.series}`]: {\r\n    // Reset button styles\r\n    background: 'none',\r\n    border: 'none',\r\n    padding: 0,\r\n    fontFamily: 'inherit',\r\n    fontWeight: 'inherit',\r\n    fontSize: 'inherit',\r\n    letterSpacing: 'inherit',\r\n    color: 'inherit'\r\n  },\r\n  [`& .${legendClasses.series}`]: {\r\n    display: ownerState.direction === 'vertical' ? 'flex' : 'inline-flex',\r\n    alignItems: 'center',\r\n    gap: theme.spacing(1)\r\n  }\r\n}));\r\nconst ChartsLegend = consumeSlots('MuiChartsLegend', 'legend', {\r\n  defaultProps: {\r\n    direction: 'horizontal'\r\n  },\r\n  // @ts-expect-error position is used only in the slots, but it is passed to the SVG wrapper.\r\n  // We omit it here to avoid passing to slots.\r\n  omitProps: ['position'],\r\n  classesResolver: useUtilityClasses\r\n}, /*#__PURE__*/React.forwardRef(function ChartsLegend(props, ref) {\r\n  const data = useLegend();\r\n  const {\r\n      onItemClick,\r\n      className,\r\n      classes\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  if (data.items.length === 0) {\r\n    return null;\r\n  }\r\n  const Element = onItemClick ? 'button' : 'div';\r\n  return /*#__PURE__*/_jsx(RootElement, _extends({\r\n    className: clsx(classes?.root, className),\r\n    ref: ref\r\n  }, other, {\r\n    ownerState: props,\r\n    children: data.items.map((item, i) => {\r\n      return /*#__PURE__*/_jsx(\"li\", {\r\n        children: /*#__PURE__*/_jsxs(Element, {\r\n          className: classes?.series,\r\n          role: onItemClick ? 'button' : undefined,\r\n          type: onItemClick ? 'button' : undefined,\r\n          onClick: onItemClick ?\r\n          // @ts-ignore onClick is only attached to a button\r\n          event => onItemClick(event, seriesContextBuilder(item), i) : undefined,\r\n          children: [/*#__PURE__*/_jsx(ChartsLabelMark, {\r\n            className: classes?.mark,\r\n            color: item.color,\r\n            type: item.markType\r\n          }), /*#__PURE__*/_jsx(ChartsLabel, {\r\n            className: classes?.label,\r\n            children: item.label\r\n          })]\r\n        })\r\n      }, item.id);\r\n    })\r\n  }));\r\n}));\r\nif (process.env.NODE_ENV !== \"production\") ChartsLegend.displayName = \"ChartsLegend\";\r\nprocess.env.NODE_ENV !== \"production\" ? ChartsLegend.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object,\r\n  className: PropTypes.string,\r\n  /**\r\n   * The direction of the legend layout.\r\n   * The default depends on the chart.\r\n   */\r\n  direction: PropTypes.oneOf(['horizontal', 'vertical']),\r\n  /**\r\n   * Callback fired when a legend item is clicked.\r\n   * @param {React.MouseEvent<HTMLButtonElement, MouseEvent>} event The click event.\r\n   * @param {SeriesLegendItemContext} legendItem The legend item data.\r\n   * @param {number} index The index of the clicked legend item.\r\n   */\r\n  onItemClick: PropTypes.func,\r\n  /**\r\n   * The props used for each component slot.\r\n   * @default {}\r\n   */\r\n  slotProps: PropTypes.object,\r\n  /**\r\n   * Overridable component slots.\r\n   * @default {}\r\n   */\r\n  slots: PropTypes.object,\r\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\r\n} : void 0;\r\nexport { ChartsLegend };", "export const seriesContextBuilder = context => ({\r\n  type: 'series',\r\n  color: context.color,\r\n  label: context.label,\r\n  seriesId: context.seriesId,\r\n  itemId: context.itemId\r\n});", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nconst _excluded = [\"slots\", \"slotProps\"],\r\n  _excluded2 = [\"ownerState\"];\r\nimport { useTheme, useThemeProps } from '@mui/material/styles';\r\nimport resolveProps from '@mui/utils/resolveProps';\r\nimport useSlotProps from '@mui/utils/useSlotProps';\r\nimport * as React from 'react';\r\n\r\n/**\r\n * A higher order component that consumes a slot from the props and renders the component provided in the slot.\r\n *\r\n * This HOC will wrap a single component, and will render the component provided in the slot, if it exists.\r\n *\r\n * If you need to render multiple components, you can manually consume the slots from the props and render them in your component instead of using this HOC.\r\n *\r\n * In the example below, `MyComponent` will render the component provided in `mySlot` slot, if it exists. Otherwise, it will render the `DefaultComponent`.\r\n *\r\n * @example\r\n *\r\n * ```tsx\r\n * type MyComponentProps = {\r\n *   direction: 'row' | 'column';\r\n *   slots?: {\r\n *     mySlot?: React.JSXElementConstructor<{ direction: 'row' | 'column' }>;\r\n *   }\r\n * };\r\n *\r\n * const MyComponent = consumeSlots(\r\n *   'MuiMyComponent',\r\n *   'mySlot',\r\n *   function DefaultComponent(props: MyComponentProps) {\r\n *     return (\r\n *       <div className={props.classes.root}>\r\n *         {props.direction}\r\n *       </div>\r\n *     );\r\n *   }\r\n * );\r\n * ```\r\n *\r\n * @param {string} name The mui component name.\r\n * @param {string} slotPropName The name of the prop to retrieve the slot from.\r\n * @param {object} options Options for the HOC.\r\n * @param {boolean} options.propagateSlots Whether to propagate the slots to the component, this is always false if the slot is provided.\r\n * @param {Record<string, any>} options.defaultProps A set of defaults for the component, will be deep merged with the props.\r\n * @param {Array<keyof Props>} options.omitProps An array of props to omit from the component.\r\n * @param {Function} options.classesResolver A function that returns the classes for the component. It receives the props, after theme props and defaults have been applied. And the theme object as the second argument.\r\n * @param InComponent The component to render if the slot is not provided.\r\n */\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nexport const consumeSlots = (name, slotPropName, options, InComponent) => {\r\n  function ConsumeSlotsInternal(props, ref) {\r\n    const themedProps = useThemeProps({\r\n      props,\r\n      // eslint-disable-next-line material-ui/mui-name-matches-component-name\r\n      name\r\n    });\r\n    const defaultProps = typeof options.defaultProps === 'function' ? options.defaultProps(themedProps) : options.defaultProps ?? {};\r\n    const defaultizedProps = resolveProps(defaultProps, themedProps);\r\n    const _ref = defaultizedProps,\r\n      {\r\n        slots,\r\n        slotProps\r\n      } = _ref,\r\n      other = _objectWithoutPropertiesLoose(_ref, _excluded);\r\n    const theme = useTheme();\r\n    const classes = options.classesResolver?.(defaultizedProps, theme);\r\n\r\n    // Can be a function component or a forward ref component.\r\n    const Component = slots?.[slotPropName] ?? InComponent;\r\n    const propagateSlots = options.propagateSlots && !slots?.[slotPropName];\r\n    const _useSlotProps = useSlotProps({\r\n        elementType: Component,\r\n        externalSlotProps: slotProps?.[slotPropName],\r\n        additionalProps: _extends({}, other, {\r\n          classes\r\n        }, propagateSlots && {\r\n          slots,\r\n          slotProps\r\n        }),\r\n        ownerState: {}\r\n      }),\r\n      originalOutProps = _objectWithoutPropertiesLoose(_useSlotProps, _excluded2);\r\n    const outProps = _extends({}, originalOutProps);\r\n    for (const prop of options.omitProps ?? []) {\r\n      delete outProps[prop];\r\n    }\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      Component.displayName = `${name}.slots.${slotPropName}`;\r\n    }\r\n    return /*#__PURE__*/_jsx(Component, _extends({}, outProps, {\r\n      ref: ref\r\n    }));\r\n  }\r\n  return /*#__PURE__*/React.forwardRef(ConsumeSlotsInternal);\r\n};\r\nif (process.env.NODE_ENV !== \"production\") consumeSlots.displayName = \"consumeSlots\";", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nconst _excluded = [\"children\", \"className\", \"classes\"];\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { useUtilityClasses } from \"./labelClasses.js\";\r\nimport { consumeThemeProps } from \"../internals/consumeThemeProps.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\n/**\r\n * Generates the label mark for the tooltip and legend.\r\n * @ignore - internal component.\r\n */\r\nconst ChartsLabel = consumeThemeProps('MuiChartsLabel', {\r\n  classesResolver: useUtilityClasses\r\n}, function ChartsLabel(props, ref) {\r\n  const {\r\n      children,\r\n      className,\r\n      classes\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  return /*#__PURE__*/_jsx(\"span\", _extends({\r\n    className: clsx(classes?.root, className),\r\n    ref: ref\r\n  }, other, {\r\n    children: children\r\n  }));\r\n});\r\nprocess.env.NODE_ENV !== \"production\" ? ChartsLabel.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  children: PropTypes.node,\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object\r\n} : void 0;\r\nexport { ChartsLabel };", "import generateUtilityClass from '@mui/utils/generateUtilityClass';\r\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\r\nimport composeClasses from '@mui/utils/composeClasses';\r\nfunction getLegendUtilityClass(slot) {\r\n  return generateUtilityClass('MuiContinuousColorLegend', slot);\r\n}\r\nexport const useUtilityClasses = props => {\r\n  const {\r\n    classes,\r\n    direction,\r\n    labelPosition\r\n  } = props;\r\n  const slots = {\r\n    root: ['root', direction, labelPosition],\r\n    minLabel: ['minLabel'],\r\n    maxLabel: ['maxLabel'],\r\n    gradient: ['gradient'],\r\n    mark: ['mark'],\r\n    label: ['label']\r\n  };\r\n  return composeClasses(slots, getLegendUtilityClass, classes);\r\n};\r\nexport const continuousColorLegendClasses = generateUtilityClasses('MuiContinuousColorLegend', ['root', 'minLabel', 'maxLabel', 'gradient', 'vertical', 'horizontal', 'start', 'end', 'extremes', 'label']);", "'use client';\r\n\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nconst _excluded = [\"minLabel\", \"maxLabel\", \"direction\", \"axisDirection\", \"axisId\", \"rotateGradient\", \"reverse\", \"classes\", \"className\", \"gradientId\", \"labelPosition\", \"thickness\"];\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@mui/material/styles';\r\nimport clsx from 'clsx';\r\nimport { useAxis } from \"./useAxis.js\";\r\nimport { ChartsLabel } from \"../ChartsLabel/ChartsLabel.js\";\r\nimport { ChartsLabelGradient } from \"../ChartsLabel/ChartsLabelGradient.js\";\r\nimport { consumeThemeProps } from \"../internals/consumeThemeProps.js\";\r\nimport { continuousColorLegendClasses, useUtilityClasses } from \"./continuousColorLegendClasses.js\";\r\nimport { useChartGradientIdObjectBoundBuilder } from \"../hooks/useChartGradientId.js\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nconst templateAreas = reverse => {\r\n  const startLabel = reverse ? 'max-label' : 'min-label';\r\n  const endLabel = reverse ? 'min-label' : 'max-label';\r\n  return {\r\n    row: {\r\n      start: `\r\n    '${startLabel} . ${endLabel}'\r\n    'gradient gradient gradient'\r\n  `,\r\n      end: `\r\n      'gradient gradient gradient'\r\n      '${startLabel} . ${endLabel}'\r\n    `,\r\n      extremes: `\r\n      '${startLabel} gradient ${endLabel}'\r\n    `\r\n    },\r\n    column: {\r\n      start: `\r\n      '${endLabel} gradient'\r\n      '. gradient'\r\n      '${startLabel} gradient'\r\n    `,\r\n      end: `\r\n      'gradient ${endLabel}'\r\n      'gradient .'\r\n      'gradient ${startLabel}'\r\n    `,\r\n      extremes: `\r\n      '${endLabel}'\r\n      'gradient'\r\n      '${startLabel}'\r\n    `\r\n    }\r\n  };\r\n};\r\nconst RootElement = styled('ul', {\r\n  name: 'MuiContinuousColorLegend',\r\n  slot: 'Root'\r\n})(({\r\n  theme,\r\n  ownerState\r\n}) => _extends({}, theme.typography.caption, {\r\n  color: (theme.vars || theme).palette.text.primary,\r\n  lineHeight: '100%',\r\n  display: 'grid',\r\n  flexShrink: 0,\r\n  gap: theme.spacing(0.5),\r\n  listStyleType: 'none',\r\n  paddingInlineStart: 0,\r\n  marginBlock: theme.spacing(1),\r\n  marginInline: theme.spacing(1),\r\n  [`&.${continuousColorLegendClasses.horizontal}`]: {\r\n    gridTemplateRows: 'min-content min-content',\r\n    gridTemplateColumns: 'min-content auto min-content',\r\n    [`&.${continuousColorLegendClasses.start}`]: {\r\n      gridTemplateAreas: templateAreas(ownerState.reverse).row.start\r\n    },\r\n    [`&.${continuousColorLegendClasses.end}`]: {\r\n      gridTemplateAreas: templateAreas(ownerState.reverse).row.end\r\n    },\r\n    [`&.${continuousColorLegendClasses.extremes}`]: {\r\n      gridTemplateAreas: templateAreas(ownerState.reverse).row.extremes,\r\n      gridTemplateRows: 'min-content',\r\n      alignItems: 'center'\r\n    }\r\n  },\r\n  [`&.${continuousColorLegendClasses.vertical}`]: {\r\n    gridTemplateRows: 'min-content auto min-content',\r\n    gridTemplateColumns: 'min-content min-content',\r\n    [`&.${continuousColorLegendClasses.start}`]: {\r\n      gridTemplateAreas: templateAreas(ownerState.reverse).column.start,\r\n      [`.${continuousColorLegendClasses.maxLabel}, .${continuousColorLegendClasses.minLabel}`]: {\r\n        justifySelf: 'end'\r\n      }\r\n    },\r\n    [`&.${continuousColorLegendClasses.end}`]: {\r\n      gridTemplateAreas: templateAreas(ownerState.reverse).column.end,\r\n      [`.${continuousColorLegendClasses.maxLabel}, .${continuousColorLegendClasses.minLabel}`]: {\r\n        justifySelf: 'start'\r\n      }\r\n    },\r\n    [`&.${continuousColorLegendClasses.extremes}`]: {\r\n      gridTemplateAreas: templateAreas(ownerState.reverse).column.extremes,\r\n      gridTemplateColumns: 'min-content',\r\n      [`.${continuousColorLegendClasses.maxLabel}, .${continuousColorLegendClasses.minLabel}`]: {\r\n        justifySelf: 'center'\r\n      }\r\n    }\r\n  },\r\n  [`.${continuousColorLegendClasses.gradient}`]: {\r\n    gridArea: 'gradient'\r\n  },\r\n  [`.${continuousColorLegendClasses.maxLabel}`]: {\r\n    gridArea: 'max-label'\r\n  },\r\n  [`.${continuousColorLegendClasses.minLabel}`]: {\r\n    gridArea: 'min-label'\r\n  }\r\n}));\r\nconst getText = (label, value, formattedValue) => {\r\n  if (typeof label === 'string') {\r\n    return label;\r\n  }\r\n  return label?.({\r\n    value,\r\n    formattedValue\r\n  }) ?? formattedValue;\r\n};\r\nconst isZAxis = axis => axis.scale === undefined;\r\nconst ContinuousColorLegend = consumeThemeProps('MuiContinuousColorLegend', {\r\n  defaultProps: {\r\n    direction: 'horizontal',\r\n    labelPosition: 'end',\r\n    axisDirection: 'z'\r\n  },\r\n  classesResolver: useUtilityClasses\r\n}, function ContinuousColorLegend(props, ref) {\r\n  const {\r\n      minLabel,\r\n      maxLabel,\r\n      direction,\r\n      axisDirection,\r\n      axisId,\r\n      rotateGradient,\r\n      reverse,\r\n      classes,\r\n      className,\r\n      gradientId,\r\n      thickness\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  const generateGradientId = useChartGradientIdObjectBoundBuilder();\r\n  const axisItem = useAxis({\r\n    axisDirection,\r\n    axisId\r\n  });\r\n  const colorMap = axisItem?.colorMap;\r\n  if (!colorMap || !colorMap.type || colorMap.type !== 'continuous') {\r\n    return null;\r\n  }\r\n  const minValue = colorMap.min ?? 0;\r\n  const maxValue = colorMap.max ?? 100;\r\n\r\n  // Get texts to display\r\n\r\n  const valueFormatter = isZAxis(axisItem) ? undefined : axisItem.valueFormatter;\r\n  const formattedMin = valueFormatter ? valueFormatter(minValue, {\r\n    location: 'legend'\r\n  }) : minValue.toLocaleString();\r\n  const formattedMax = valueFormatter ? valueFormatter(maxValue, {\r\n    location: 'legend'\r\n  }) : maxValue.toLocaleString();\r\n  const minText = getText(minLabel, minValue, formattedMin);\r\n  const maxText = getText(maxLabel, maxValue, formattedMax);\r\n  const minComponent = /*#__PURE__*/_jsx(\"li\", {\r\n    className: classes?.minLabel,\r\n    children: /*#__PURE__*/_jsx(ChartsLabel, {\r\n      className: classes?.label,\r\n      children: minText\r\n    })\r\n  });\r\n  const maxComponent = /*#__PURE__*/_jsx(\"li\", {\r\n    className: classes?.maxLabel,\r\n    children: /*#__PURE__*/_jsx(ChartsLabel, {\r\n      className: classes?.label,\r\n      children: maxText\r\n    })\r\n  });\r\n  return /*#__PURE__*/_jsxs(RootElement, _extends({\r\n    className: clsx(classes?.root, className),\r\n    ref: ref\r\n  }, other, {\r\n    ownerState: props,\r\n    children: [reverse ? maxComponent : minComponent, /*#__PURE__*/_jsx(\"li\", {\r\n      className: classes?.gradient,\r\n      children: /*#__PURE__*/_jsx(ChartsLabelGradient, {\r\n        direction: direction,\r\n        rotate: rotateGradient,\r\n        reverse: reverse,\r\n        thickness: thickness,\r\n        gradientId: gradientId ?? generateGradientId(axisItem.id)\r\n      })\r\n    }), reverse ? minComponent : maxComponent]\r\n  }));\r\n});\r\nprocess.env.NODE_ENV !== \"production\" ? ContinuousColorLegend.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  /**\r\n   * The axis direction containing the color configuration to represent.\r\n   * @default 'z'\r\n   */\r\n  axisDirection: PropTypes.oneOf(['x', 'y', 'z']),\r\n  /**\r\n   * The id of the axis item with the color configuration to represent.\r\n   * @default The first axis item.\r\n   */\r\n  axisId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object,\r\n  className: PropTypes.string,\r\n  /**\r\n   * The direction of the legend layout.\r\n   * @default 'horizontal'\r\n   */\r\n  direction: PropTypes.oneOf(['horizontal', 'vertical']),\r\n  /**\r\n   * The id for the gradient to use.\r\n   * If not provided, it will use the generated gradient from the axis configuration.\r\n   * The `gradientId` will be used as `fill=\"url(#gradientId)\"`.\r\n   * @default auto-generated id\r\n   */\r\n  gradientId: PropTypes.string,\r\n  /**\r\n   * Where to position the labels relative to the gradient.\r\n   * @default 'end'\r\n   */\r\n  labelPosition: PropTypes.oneOf(['start', 'end', 'extremes']),\r\n  /**\r\n   * The label to display at the maximum side of the gradient.\r\n   * Can either be a string, or a function.\r\n   * If not defined, the formatted maximal value is display.\r\n   * @default formattedValue\r\n   */\r\n  maxLabel: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n  /**\r\n   * The label to display at the minimum side of the gradient.\r\n   * Can either be a string, or a function.\r\n   * @default formattedValue\r\n   */\r\n  minLabel: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n  /**\r\n   * If `true`, the gradient and labels will be reversed.\r\n   * @default false\r\n   */\r\n  reverse: PropTypes.bool,\r\n  /**\r\n   * If provided, the gradient will be rotated by 90deg.\r\n   * Useful for linear gradients that are not in the correct orientation.\r\n   */\r\n  rotateGradient: PropTypes.bool,\r\n  /**\r\n   * The thickness of the gradient\r\n   * @default 12\r\n   */\r\n  thickness: PropTypes.number,\r\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\r\n} : void 0;\r\nexport { ContinuousColorLegend };", "'use client';\r\n\r\nimport { useZAxes } from \"../hooks/useZAxis.js\";\r\nimport { useXAxes, useYAxes } from \"../hooks/useAxis.js\";\r\n/**\r\n * Helper to select an axis definition according to its direction and id.\r\n */\r\nexport function useAxis({\r\n  axisDirection,\r\n  axisId\r\n}) {\r\n  const {\r\n    xAxis,\r\n    xAxisIds\r\n  } = useXAxes();\r\n  const {\r\n    yAxis,\r\n    yAxisIds\r\n  } = useYAxes();\r\n  const {\r\n    zAxis,\r\n    zAxisIds\r\n  } = useZAxes();\r\n  switch (axisDirection) {\r\n    case 'x':\r\n      {\r\n        const id = typeof axisId === 'string' ? axisId : xAxisIds[axisId ?? 0];\r\n        return xAxis[id];\r\n      }\r\n    case 'y':\r\n      {\r\n        const id = typeof axisId === 'string' ? axisId : yAxisIds[axisId ?? 0];\r\n        return yAxis[id];\r\n      }\r\n    case 'z':\r\n    default:\r\n      {\r\n        const id = typeof axisId === 'string' ? axisId : zAxisIds[axisId ?? 0];\r\n        return zAxis[id];\r\n      }\r\n  }\r\n}", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nconst _excluded = [\"gradientId\", \"direction\", \"classes\", \"className\", \"rotate\", \"reverse\", \"thickness\"];\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@mui/material/styles';\r\nimport clsx from 'clsx';\r\nimport { useRtl } from '@mui/system/RtlProvider';\r\nimport { useUtilityClasses, labelGradientClasses } from \"./labelGradientClasses.js\";\r\nimport { consumeThemeProps } from \"../internals/consumeThemeProps.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nconst getRotation = (direction, reverse, rotate, isRtl) => {\r\n  const angle = (direction === 'vertical' ? -90 : 0) + (rotate ? 90 : 0) + (reverse ? 180 : 0);\r\n  if (isRtl && direction !== 'vertical') {\r\n    return angle + 180;\r\n  }\r\n  return angle;\r\n};\r\nconst Root = styled('div', {\r\n  name: 'MuiChartsLabelGradient',\r\n  slot: 'Root'\r\n})(({\r\n  ownerState\r\n}) => {\r\n  const rotation = getRotation(ownerState.direction, ownerState.reverse, ownerState.rotate, ownerState.isRtl);\r\n  return {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    [`.${labelGradientClasses.mask}`]: {\r\n      borderRadius: 2,\r\n      overflow: 'hidden'\r\n    },\r\n    [`&.${labelGradientClasses.horizontal}`]: {\r\n      width: '100%',\r\n      [`.${labelGradientClasses.mask}`]: {\r\n        height: ownerState.thickness,\r\n        width: '100%'\r\n      }\r\n    },\r\n    [`&.${labelGradientClasses.vertical}`]: {\r\n      height: '100%',\r\n      [`.${labelGradientClasses.mask}`]: {\r\n        width: ownerState.thickness,\r\n        height: '100%',\r\n        '> svg': {\r\n          height: '100%'\r\n        }\r\n      }\r\n    },\r\n    svg: {\r\n      transform: `rotate(${rotation}deg)`,\r\n      display: 'block'\r\n    }\r\n  };\r\n});\r\n\r\n/**\r\n * Generates the label Gradient for the tooltip and legend.\r\n * @ignore - internal component.\r\n */\r\nconst ChartsLabelGradient = consumeThemeProps('MuiChartsLabelGradient', {\r\n  defaultProps: {\r\n    direction: 'horizontal',\r\n    thickness: 12\r\n  },\r\n  classesResolver: useUtilityClasses\r\n}, function ChartsLabelGradient(props, ref) {\r\n  const {\r\n      gradientId,\r\n      classes,\r\n      className\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  const isRtl = useRtl();\r\n  return /*#__PURE__*/_jsx(Root, _extends({\r\n    className: clsx(classes?.root, className),\r\n    ownerState: _extends({}, props, {\r\n      isRtl\r\n    }),\r\n    \"aria-hidden\": \"true\",\r\n    ref: ref\r\n  }, other, {\r\n    children: /*#__PURE__*/_jsx(\"div\", {\r\n      className: classes?.mask,\r\n      children: /*#__PURE__*/_jsx(\"svg\", {\r\n        viewBox: \"0 0 24 24\",\r\n        children: /*#__PURE__*/_jsx(\"rect\", {\r\n          className: classes?.fill,\r\n          width: \"24\",\r\n          height: \"24\",\r\n          fill: `url(#${gradientId})`\r\n        })\r\n      })\r\n    })\r\n  }));\r\n});\r\nprocess.env.NODE_ENV !== \"production\" ? ChartsLabelGradient.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object,\r\n  /**\r\n   * The direction of the gradient.\r\n   * @default 'horizontal'\r\n   */\r\n  direction: PropTypes.oneOf(['vertical', 'horizontal']),\r\n  /**\r\n   * A unique identifier for the gradient.\r\n   * The `gradientId` will be used as `fill=\"url(#gradientId)\"`.\r\n   */\r\n  gradientId: PropTypes.string.isRequired,\r\n  /**\r\n   * If `true`, the gradient will be reversed.\r\n   */\r\n  reverse: PropTypes.bool,\r\n  /**\r\n   * If provided, the gradient will be rotated by 90deg.\r\n   * Useful for linear gradients that are not in the correct orientation.\r\n   */\r\n  rotate: PropTypes.bool,\r\n  /**\r\n   * The thickness of the gradient\r\n   * @default 12\r\n   */\r\n  thickness: PropTypes.number\r\n} : void 0;\r\nexport { ChartsLabelGradient };", "import generateUtilityClass from '@mui/utils/generateUtilityClass';\r\nimport generateUtilityClasses from '@mui/utils/generateUtilityClasses';\r\nimport composeClasses from '@mui/utils/composeClasses';\r\nfunction getLegendUtilityClass(slot) {\r\n  return generateUtilityClass('MuiPiecewiseColorLegendClasses', slot);\r\n}\r\nexport const useUtilityClasses = props => {\r\n  const {\r\n    classes,\r\n    direction,\r\n    labelPosition\r\n  } = props;\r\n  const slots = {\r\n    root: ['root', direction, labelPosition],\r\n    minLabel: ['minLabel'],\r\n    maxLabel: ['maxLabel'],\r\n    item: ['item'],\r\n    mark: ['mark'],\r\n    label: ['label']\r\n  };\r\n  return composeClasses(slots, getLegendUtilityClass, classes);\r\n};\r\nexport const piecewiseColorLegendClasses = generateUtilityClasses('MuiPiecewiseColorLegendClasses', ['root', 'minLabel', 'maxLabel', 'item', 'vertical', 'horizontal', 'start', 'end', 'extremes', 'mark', 'label']);", "export function piecewiseColorDefaultLabelFormatter(params) {\r\n  if (params.min === null) {\r\n    return `<${params.formattedMax}`;\r\n  }\r\n  if (params.max === null) {\r\n    return `>${params.formattedMin}`;\r\n  }\r\n  return `${params.formattedMin}-${params.formattedMax}`;\r\n}", "'use client';\r\n\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nconst _excluded = [\"direction\", \"classes\", \"className\", \"markType\", \"labelPosition\", \"axisDirection\", \"axisId\", \"labelFormatter\", \"onItemClick\"];\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { styled } from '@mui/material/styles';\r\nimport clsx from 'clsx';\r\nimport { ChartsLabel } from \"../ChartsLabel/ChartsLabel.js\";\r\nimport { ChartsLabelMark } from \"../ChartsLabel/ChartsLabelMark.js\";\r\nimport { consumeThemeProps } from \"../internals/consumeThemeProps.js\";\r\nimport { piecewiseColorLegendClasses, useUtilityClasses } from \"./piecewiseColorLegendClasses.js\";\r\nimport { useAxis } from \"./useAxis.js\";\r\nimport { piecewiseColorDefaultLabelFormatter } from \"./piecewiseColorDefaultLabelFormatter.js\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nconst RootElement = styled('ul', {\r\n  name: 'MuiPiecewiseColorLegend',\r\n  slot: 'Root'\r\n})(({\r\n  theme,\r\n  ownerState\r\n}) => {\r\n  return _extends({}, theme.typography.caption, {\r\n    color: (theme.vars || theme).palette.text.primary,\r\n    lineHeight: '100%',\r\n    display: 'flex',\r\n    flexDirection: ownerState.direction === 'vertical' ? 'column' : 'row',\r\n    flexShrink: 0,\r\n    gap: theme.spacing(0.5),\r\n    listStyleType: 'none',\r\n    paddingInlineStart: 0,\r\n    marginBlock: theme.spacing(1),\r\n    marginInline: theme.spacing(1),\r\n    width: 'max-content',\r\n    [`button.${piecewiseColorLegendClasses.item}`]: {\r\n      // Reset button styles\r\n      background: 'none',\r\n      border: 'none',\r\n      padding: 0,\r\n      cursor: ownerState.onItemClick ? 'pointer' : 'unset',\r\n      fontFamily: 'inherit',\r\n      fontWeight: 'inherit',\r\n      fontSize: 'inherit',\r\n      letterSpacing: 'inherit',\r\n      color: 'inherit'\r\n    },\r\n    [`.${piecewiseColorLegendClasses.item}`]: {\r\n      display: 'flex',\r\n      gap: theme.spacing(0.5)\r\n    },\r\n    [`li :not(.${piecewiseColorLegendClasses.minLabel}, .${piecewiseColorLegendClasses.maxLabel}) .${piecewiseColorLegendClasses?.mark}`]: {\r\n      alignSelf: 'center'\r\n    },\r\n    [`&.${piecewiseColorLegendClasses.start}`]: {\r\n      alignItems: 'end'\r\n    },\r\n    [`&.${piecewiseColorLegendClasses.end}`]: {\r\n      alignItems: 'start'\r\n    },\r\n    [`&.${piecewiseColorLegendClasses.horizontal}`]: {\r\n      alignItems: 'center',\r\n      [`.${piecewiseColorLegendClasses.item}`]: {\r\n        flexDirection: 'column'\r\n      },\r\n      [`&.${piecewiseColorLegendClasses.start}`]: {\r\n        alignItems: 'end'\r\n      },\r\n      [`&.${piecewiseColorLegendClasses.end}`]: {\r\n        alignItems: 'start'\r\n      },\r\n      [`.${piecewiseColorLegendClasses.minLabel}`]: {\r\n        alignItems: 'end'\r\n      },\r\n      [`&.${piecewiseColorLegendClasses.extremes}`]: {\r\n        [`.${piecewiseColorLegendClasses.minLabel}, .${piecewiseColorLegendClasses.maxLabel}`]: {\r\n          alignItems: 'center',\r\n          display: 'flex',\r\n          flexDirection: 'row'\r\n        }\r\n      }\r\n    },\r\n    [`&.${piecewiseColorLegendClasses.vertical}`]: {\r\n      [`.${piecewiseColorLegendClasses.item}`]: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center'\r\n      },\r\n      [`&.${piecewiseColorLegendClasses.start}`]: {\r\n        alignItems: 'end'\r\n      },\r\n      [`&.${piecewiseColorLegendClasses.end}`]: {\r\n        alignItems: 'start'\r\n      },\r\n      [`&.${piecewiseColorLegendClasses.extremes}`]: {\r\n        alignItems: 'center',\r\n        [`.${piecewiseColorLegendClasses.minLabel}, .${piecewiseColorLegendClasses.maxLabel}`]: {\r\n          alignItems: 'center',\r\n          display: 'flex',\r\n          flexDirection: 'column'\r\n        }\r\n      }\r\n    }\r\n  });\r\n});\r\nconst PiecewiseColorLegend = consumeThemeProps('MuiPiecewiseColorLegend', {\r\n  defaultProps: {\r\n    direction: 'horizontal',\r\n    labelPosition: 'extremes',\r\n    labelFormatter: piecewiseColorDefaultLabelFormatter\r\n  },\r\n  classesResolver: useUtilityClasses\r\n}, function PiecewiseColorLegend(props, ref) {\r\n  const {\r\n      direction,\r\n      classes,\r\n      className,\r\n      markType,\r\n      labelPosition,\r\n      axisDirection,\r\n      axisId,\r\n      labelFormatter,\r\n      onItemClick\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  const isVertical = direction === 'vertical';\r\n  const isReverse = isVertical;\r\n  const axisItem = useAxis({\r\n    axisDirection,\r\n    axisId\r\n  });\r\n  const colorMap = axisItem?.colorMap;\r\n  if (!colorMap || !colorMap.type || colorMap.type !== 'piecewise') {\r\n    return null;\r\n  }\r\n  const valueFormatter = v => axisItem.valueFormatter?.(v, {\r\n    location: 'legend'\r\n  }) ?? v.toLocaleString();\r\n  const formattedLabels = colorMap.thresholds.map(valueFormatter);\r\n  const startClass = isReverse ? classes?.maxLabel : classes?.minLabel;\r\n  const endClass = isReverse ? classes?.minLabel : classes?.maxLabel;\r\n  const colors = colorMap.colors.map((color, colorIndex) => ({\r\n    color,\r\n    colorIndex\r\n  }));\r\n  const orderedColors = isReverse ? colors.reverse() : colors;\r\n  const isStart = labelPosition === 'start';\r\n  const isEnd = labelPosition === 'end';\r\n  const isExtremes = labelPosition === 'extremes';\r\n  return /*#__PURE__*/_jsx(RootElement, _extends({\r\n    className: clsx(classes?.root, className),\r\n    ref: ref\r\n  }, other, {\r\n    ownerState: props,\r\n    children: orderedColors.map(({\r\n      color,\r\n      colorIndex\r\n    }, index) => {\r\n      const isFirst = index === 0;\r\n      const isLast = index === colorMap.colors.length - 1;\r\n      const isFirstColor = colorIndex === 0;\r\n      const isLastColor = colorIndex === colorMap.colors.length - 1;\r\n      const data = _extends({\r\n        index: colorIndex,\r\n        length: formattedLabels.length\r\n      }, isFirstColor ? {\r\n        min: null,\r\n        formattedMin: null\r\n      } : {\r\n        min: colorMap.thresholds[colorIndex - 1],\r\n        formattedMin: formattedLabels[colorIndex - 1]\r\n      }, isLastColor ? {\r\n        max: null,\r\n        formattedMax: null\r\n      } : {\r\n        max: colorMap.thresholds[colorIndex],\r\n        formattedMax: formattedLabels[colorIndex]\r\n      });\r\n      const label = labelFormatter?.(data);\r\n      if (label === null || label === undefined) {\r\n        return null;\r\n      }\r\n      const isTextBefore = isStart || isExtremes && isFirst;\r\n      const isTextAfter = isEnd || isExtremes && isLast;\r\n      const clickObject = {\r\n        type: 'piecewiseColor',\r\n        color,\r\n        label,\r\n        minValue: data.min,\r\n        maxValue: data.max\r\n      };\r\n      const Element = onItemClick ? 'button' : 'div';\r\n      return /*#__PURE__*/_jsx(\"li\", {\r\n        children: /*#__PURE__*/_jsxs(Element, {\r\n          role: onItemClick ? 'button' : undefined,\r\n          type: onItemClick ? 'button' : undefined,\r\n          onClick:\r\n          // @ts-ignore onClick is only attached to a button\r\n          onItemClick ? event => onItemClick(event, clickObject, index) : undefined,\r\n          className: clsx(classes?.item, index === 0 && `${startClass}`, index === orderedColors.length - 1 && `${endClass}`),\r\n          children: [isTextBefore && /*#__PURE__*/_jsx(ChartsLabel, {\r\n            className: classes?.label,\r\n            children: label\r\n          }), /*#__PURE__*/_jsx(ChartsLabelMark, {\r\n            className: classes?.mark,\r\n            type: markType,\r\n            color: color\r\n          }), isTextAfter && /*#__PURE__*/_jsx(ChartsLabel, {\r\n            className: classes?.label,\r\n            children: label\r\n          })]\r\n        })\r\n      }, colorIndex);\r\n    })\r\n  }));\r\n});\r\nprocess.env.NODE_ENV !== \"production\" ? PiecewiseColorLegend.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  /**\r\n   * The axis direction containing the color configuration to represent.\r\n   * @default 'z'\r\n   */\r\n  axisDirection: PropTypes.oneOf(['x', 'y', 'z']),\r\n  /**\r\n   * The id of the axis item with the color configuration to represent.\r\n   * @default The first axis item.\r\n   */\r\n  axisId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\r\n  classes: PropTypes.object,\r\n  className: PropTypes.string,\r\n  /**\r\n   * The direction of the legend layout.\r\n   * @default 'horizontal'\r\n   */\r\n  direction: PropTypes.oneOf(['horizontal', 'vertical']),\r\n  /**\r\n   * Format the legend labels.\r\n   * @param {PiecewiseLabelFormatterParams} params The bound of the piece to format.\r\n   * @returns {string|null} The displayed label, `''` to skip the label but show the color mark, or `null` to skip it entirely.\r\n   */\r\n  labelFormatter: PropTypes.func,\r\n  /**\r\n   * Where to position the labels relative to the gradient.\r\n   * @default 'extremes'\r\n   */\r\n  labelPosition: PropTypes.oneOf(['start', 'end', 'extremes']),\r\n  /**\r\n   * The type of the mark.\r\n   * @default 'square'\r\n   */\r\n  markType: PropTypes.oneOf(['square', 'circle', 'line']),\r\n  /**\r\n   * Callback fired when a legend item is clicked.\r\n   * @param {React.MouseEvent<HTMLButtonElement, MouseEvent>} event The click event.\r\n   * @param {PiecewiseColorLegendItemContext} legendItem The legend item data.\r\n   * @param {number} index The index of the clicked legend item.\r\n   */\r\n  onItemClick: PropTypes.func,\r\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\r\n} : void 0;\r\nexport { PiecewiseColorLegend };", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useChartDataProviderProps } from \"./useChartDataProviderProps.js\";\r\nimport { ChartProvider } from \"../context/ChartProvider/index.js\";\r\nimport { ChartsLocalizationProvider } from \"../ChartsLocalizationProvider/index.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\n/**\r\n * Orchestrates the data providers for the chart components and hooks.\r\n *\r\n * Use this component if you have custom HTML components that need to access the chart data.\r\n *\r\n * Demos:\r\n *\r\n * - [Composition](https://mui.com/x/react-charts/composition/)\r\n *\r\n * API:\r\n *\r\n * - [ChartDataProvider API](https://mui.com/x/api/charts/chart-data-provider/)\r\n *\r\n * @example\r\n * ```jsx\r\n * <ChartDataProvider\r\n *   series={[{ label: \"Label\", type: \"bar\", data: [10, 20] }]}\r\n *   xAxis={[{ data: [\"A\", \"B\"], scaleType: \"band\", id: \"x-axis\" }]}\r\n * >\r\n *   <ChartsSurface>\r\n *      <BarPlot />\r\n *      <ChartsXAxis axisId=\"x-axis\" />\r\n *   </ChartsSurface>\r\n *   {'Custom Legend Component'}\r\n * </ChartDataProvider>\r\n * ```\r\n */\r\nfunction ChartDataProvider(props) {\r\n  const {\r\n    children,\r\n    localeText,\r\n    chartProviderProps\r\n  } = useChartDataProviderProps(props);\r\n  return /*#__PURE__*/_jsx(ChartProvider, _extends({}, chartProviderProps, {\r\n    children: /*#__PURE__*/_jsx(ChartsLocalizationProvider, {\r\n      localeText: localeText,\r\n      children: children\r\n    })\r\n  }));\r\n}\r\nprocess.env.NODE_ENV !== \"production\" ? ChartDataProvider.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  apiRef: PropTypes.shape({\r\n    current: PropTypes.any\r\n  }),\r\n  /**\r\n   * Color palette used to colorize multiple series.\r\n   * @default rainbowSurgePalette\r\n   */\r\n  colors: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.func]),\r\n  /**\r\n   * An array of objects that can be used to populate series and axes data using their `dataKey` property.\r\n   */\r\n  dataset: PropTypes.arrayOf(PropTypes.object),\r\n  /**\r\n   * The height of the chart in px. If not defined, it takes the height of the parent element.\r\n   */\r\n  height: PropTypes.number,\r\n  /**\r\n   * This prop is used to help implement the accessibility logic.\r\n   * If you don't provide this prop. It falls back to a randomly generated id.\r\n   */\r\n  id: PropTypes.string,\r\n  /**\r\n   * Localized text for chart components.\r\n   */\r\n  localeText: PropTypes.object,\r\n  /**\r\n   * The margin between the SVG and the drawing area.\r\n   * It's used for leaving some space for extra information such as the x- and y-axis or legend.\r\n   *\r\n   * Accepts a `number` to be used on all sides or an object with the optional properties: `top`, `bottom`, `left`, and `right`.\r\n   */\r\n  margin: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\r\n    bottom: PropTypes.number,\r\n    left: PropTypes.number,\r\n    right: PropTypes.number,\r\n    top: PropTypes.number\r\n  })]),\r\n  /**\r\n   * The array of series to display.\r\n   * Each type of series has its own specificity.\r\n   * Please refer to the appropriate docs page to learn more about it.\r\n   */\r\n  series: PropTypes.arrayOf(PropTypes.object),\r\n  /**\r\n   * If `true`, animations are skipped.\r\n   * If unset or `false`, the animations respects the user's `prefers-reduced-motion` setting.\r\n   */\r\n  skipAnimation: PropTypes.bool,\r\n  theme: PropTypes.oneOf(['dark', 'light']),\r\n  /**\r\n   * The width of the chart in px. If not defined, it takes the width of the parent element.\r\n   */\r\n  width: PropTypes.number\r\n} : void 0;\r\nexport { ChartDataProvider };", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport * as React from 'react';\r\nimport useEnhancedEffect from '@mui/utils/useEnhancedEffect';\r\nimport useEventCallback from '@mui/utils/useEventCallback';\r\nimport { Delaunay } from '@mui/x-charts-vendor/d3-delaunay';\r\nimport { getValueToPositionMapper } from \"../../../../hooks/useScale.js\";\r\nimport { getSVGPoint } from \"../../../getSVGPoint.js\";\r\nimport { useSelector } from \"../../../store/useSelector.js\";\r\nimport { selectorChartXAxis, selectorChartYAxis, selectorChartZoomIsInteracting } from \"../useChartCartesianAxis/index.js\";\r\nimport { selectorChartSeriesProcessed } from \"../../corePlugins/useChartSeries/useChartSeries.selectors.js\";\r\nimport { selectorChartDrawingArea } from \"../../corePlugins/useChartDimensions/index.js\";\r\nexport const useChartVoronoi = ({\r\n  svgRef,\r\n  params,\r\n  store,\r\n  instance\r\n}) => {\r\n  const {\r\n    disableVoronoi,\r\n    voronoiMaxRadius,\r\n    onItemClick\r\n  } = params;\r\n  const drawingArea = useSelector(store, selectorChartDrawingArea);\r\n  const {\r\n    axis: xAxis,\r\n    axisIds: xAxisIds\r\n  } = useSelector(store, selectorChartXAxis);\r\n  const {\r\n    axis: yAxis,\r\n    axisIds: yAxisIds\r\n  } = useSelector(store, selectorChartYAxis);\r\n  const zoomIsInteracting = useSelector(store, selectorChartZoomIsInteracting);\r\n  const {\r\n    series,\r\n    seriesOrder\r\n  } = useSelector(store, selectorChartSeriesProcessed)?.scatter ?? {};\r\n  const voronoiRef = React.useRef({});\r\n  const delauneyRef = React.useRef(undefined);\r\n  const lastFind = React.useRef(undefined);\r\n  const defaultXAxisId = xAxisIds[0];\r\n  const defaultYAxisId = yAxisIds[0];\r\n  useEnhancedEffect(() => {\r\n    store.update(prev => prev.voronoi.isVoronoiEnabled === !disableVoronoi ? prev : _extends({}, prev, {\r\n      voronoi: {\r\n        isVoronoiEnabled: !disableVoronoi\r\n      }\r\n    }));\r\n  }, [store, disableVoronoi]);\r\n  useEnhancedEffect(() => {\r\n    // This effect generate and store the Delaunay object that's used to map coordinate to closest point.\r\n\r\n    if (zoomIsInteracting || seriesOrder === undefined || series === undefined || disableVoronoi) {\r\n      // If there is no scatter chart series\r\n      return;\r\n    }\r\n    voronoiRef.current = {};\r\n    let points = [];\r\n    seriesOrder.forEach(seriesId => {\r\n      const {\r\n        data,\r\n        xAxisId,\r\n        yAxisId\r\n      } = series[seriesId];\r\n      const xScale = xAxis[xAxisId ?? defaultXAxisId].scale;\r\n      const yScale = yAxis[yAxisId ?? defaultYAxisId].scale;\r\n      const getXPosition = getValueToPositionMapper(xScale);\r\n      const getYPosition = getValueToPositionMapper(yScale);\r\n      const seriesPoints = data.flatMap(({\r\n        x,\r\n        y\r\n      }) => {\r\n        const pointX = getXPosition(x);\r\n        const pointY = getYPosition(y);\r\n        if (!instance.isPointInside(pointX, pointY)) {\r\n          // If the point is not displayed we move them to a trash coordinate.\r\n          // This avoids managing index mapping before/after filtering.\r\n          // The trash point is far enough such that any point in the drawing area will be closer to the mouse than the trash coordinate.\r\n          return [-drawingArea.width, -drawingArea.height];\r\n        }\r\n        return [pointX, pointY];\r\n      });\r\n      voronoiRef.current[seriesId] = {\r\n        seriesId,\r\n        startIndex: points.length,\r\n        endIndex: points.length + seriesPoints.length\r\n      };\r\n      points = points.concat(seriesPoints);\r\n    });\r\n    delauneyRef.current = new Delaunay(points);\r\n    lastFind.current = undefined;\r\n  }, [zoomIsInteracting, defaultXAxisId, defaultYAxisId, series, seriesOrder, xAxis, yAxis, drawingArea, instance, disableVoronoi]);\r\n  React.useEffect(() => {\r\n    if (svgRef.current === null || disableVoronoi) {\r\n      return undefined;\r\n    }\r\n    const element = svgRef.current;\r\n    function getClosestPoint(event) {\r\n      // Get mouse coordinate in global SVG space\r\n      const svgPoint = getSVGPoint(element, event);\r\n      if (!instance.isPointInside(svgPoint.x, svgPoint.y)) {\r\n        lastFind.current = undefined;\r\n        return 'outside-chart';\r\n      }\r\n      if (!delauneyRef.current) {\r\n        return 'no-point-found';\r\n      }\r\n      const closestPointIndex = delauneyRef.current.find(svgPoint.x, svgPoint.y, lastFind.current);\r\n      if (closestPointIndex === undefined) {\r\n        return 'no-point-found';\r\n      }\r\n      lastFind.current = closestPointIndex;\r\n      const closestSeries = Object.values(voronoiRef.current).find(value => {\r\n        return 2 * closestPointIndex >= value.startIndex && 2 * closestPointIndex < value.endIndex;\r\n      });\r\n      if (closestSeries === undefined) {\r\n        return 'no-point-found';\r\n      }\r\n      const dataIndex = (2 * closestPointIndex - voronoiRef.current[closestSeries.seriesId].startIndex) / 2;\r\n      if (voronoiMaxRadius !== undefined) {\r\n        const pointX = delauneyRef.current.points[2 * closestPointIndex];\r\n        const pointY = delauneyRef.current.points[2 * closestPointIndex + 1];\r\n        const dist2 = (pointX - svgPoint.x) ** 2 + (pointY - svgPoint.y) ** 2;\r\n        if (dist2 > voronoiMaxRadius ** 2) {\r\n          // The closest point is too far to be considered.\r\n          return 'outside-voronoi-max-radius';\r\n        }\r\n      }\r\n      return {\r\n        seriesId: closestSeries.seriesId,\r\n        dataIndex\r\n      };\r\n    }\r\n    const handleMouseLeave = () => {\r\n      instance.cleanInteraction?.();\r\n      instance.clearHighlight?.();\r\n    };\r\n    const handleMouseMove = event => {\r\n      const closestPoint = getClosestPoint(event);\r\n      if (closestPoint === 'outside-chart') {\r\n        instance.cleanInteraction?.();\r\n        instance.clearHighlight?.();\r\n        return;\r\n      }\r\n      if (closestPoint === 'outside-voronoi-max-radius' || closestPoint === 'no-point-found') {\r\n        instance.removeItemInteraction?.();\r\n        instance.clearHighlight?.();\r\n        return;\r\n      }\r\n      const {\r\n        seriesId,\r\n        dataIndex\r\n      } = closestPoint;\r\n      instance.setItemInteraction?.({\r\n        type: 'scatter',\r\n        seriesId,\r\n        dataIndex\r\n      });\r\n      instance.setHighlight?.({\r\n        seriesId,\r\n        dataIndex\r\n      });\r\n    };\r\n    const handleMouseClick = event => {\r\n      if (!onItemClick) {\r\n        return;\r\n      }\r\n      const closestPoint = getClosestPoint(event);\r\n      if (typeof closestPoint === 'string') {\r\n        // No point fond for any reason\r\n        return;\r\n      }\r\n      const {\r\n        seriesId,\r\n        dataIndex\r\n      } = closestPoint;\r\n      onItemClick(event, {\r\n        type: 'scatter',\r\n        seriesId,\r\n        dataIndex\r\n      });\r\n    };\r\n    element.addEventListener('pointerleave', handleMouseLeave);\r\n    element.addEventListener('pointermove', handleMouseMove);\r\n    element.addEventListener('click', handleMouseClick);\r\n    return () => {\r\n      element.removeEventListener('pointerleave', handleMouseLeave);\r\n      element.removeEventListener('pointermove', handleMouseMove);\r\n      element.removeEventListener('click', handleMouseClick);\r\n    };\r\n  }, [svgRef, yAxis, xAxis, voronoiMaxRadius, onItemClick, disableVoronoi, drawingArea, instance]);\r\n\r\n  // Instance implementation\r\n  const enableVoronoiCallback = useEventCallback(() => {\r\n    store.update(prev => _extends({}, prev, {\r\n      voronoi: _extends({}, prev.voronoi, {\r\n        isVoronoiEnabled: true\r\n      })\r\n    }));\r\n  });\r\n  const disableVoronoiCallback = useEventCallback(() => {\r\n    store.update(prev => _extends({}, prev, {\r\n      voronoi: _extends({}, prev.voronoi, {\r\n        isVoronoiEnabled: false\r\n      })\r\n    }));\r\n  });\r\n  return {\r\n    instance: {\r\n      enableVoronoi: enableVoronoiCallback,\r\n      disableVoronoi: disableVoronoiCallback\r\n    }\r\n  };\r\n};\r\nuseChartVoronoi.getDefaultizedParams = ({\r\n  params\r\n}) => _extends({}, params, {\r\n  disableVoronoi: params.disableVoronoi ?? !params.series.some(item => item.type === 'scatter')\r\n});\r\nuseChartVoronoi.getInitialState = params => ({\r\n  voronoi: {\r\n    isVoronoiEnabled: !params.disableVoronoi\r\n  }\r\n});\r\nuseChartVoronoi.params = {\r\n  disableVoronoi: true,\r\n  voronoiMaxRadius: true,\r\n  onItemClick: true\r\n};", "export const epsilon = 1.1102230246251565e-16;\r\nexport const splitter = 134217729;\r\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\r\n\r\n// fast_expansion_sum_zeroelim routine from oritinal code\r\nexport function sum(elen, e, flen, f, h) {\r\n    let Q, Qnew, hh, bvirt;\r\n    let enow = e[0];\r\n    let fnow = f[0];\r\n    let eindex = 0;\r\n    let findex = 0;\r\n    if ((fnow > enow) === (fnow > -enow)) {\r\n        Q = enow;\r\n        enow = e[++eindex];\r\n    } else {\r\n        Q = fnow;\r\n        fnow = f[++findex];\r\n    }\r\n    let hindex = 0;\r\n    if (eindex < elen && findex < flen) {\r\n        if ((fnow > enow) === (fnow > -enow)) {\r\n            Qnew = enow + Q;\r\n            hh = Q - (Qnew - enow);\r\n            enow = e[++eindex];\r\n        } else {\r\n            Qnew = fnow + Q;\r\n            hh = Q - (Qnew - fnow);\r\n            fnow = f[++findex];\r\n        }\r\n        Q = Qnew;\r\n        if (hh !== 0) {\r\n            h[hindex++] = hh;\r\n        }\r\n        while (eindex < elen && findex < flen) {\r\n            if ((fnow > enow) === (fnow > -enow)) {\r\n                Qnew = Q + enow;\r\n                bvirt = Qnew - Q;\r\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\r\n                enow = e[++eindex];\r\n            } else {\r\n                Qnew = Q + fnow;\r\n                bvirt = Qnew - Q;\r\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\r\n                fnow = f[++findex];\r\n            }\r\n            Q = Qnew;\r\n            if (hh !== 0) {\r\n                h[hindex++] = hh;\r\n            }\r\n        }\r\n    }\r\n    while (eindex < elen) {\r\n        Qnew = Q + enow;\r\n        bvirt = Qnew - Q;\r\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\r\n        enow = e[++eindex];\r\n        Q = Qnew;\r\n        if (hh !== 0) {\r\n            h[hindex++] = hh;\r\n        }\r\n    }\r\n    while (findex < flen) {\r\n        Qnew = Q + fnow;\r\n        bvirt = Qnew - Q;\r\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\r\n        fnow = f[++findex];\r\n        Q = Qnew;\r\n        if (hh !== 0) {\r\n            h[hindex++] = hh;\r\n        }\r\n    }\r\n    if (Q !== 0 || hindex === 0) {\r\n        h[hindex++] = Q;\r\n    }\r\n    return hindex;\r\n}\r\n\r\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\r\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\r\n}\r\n\r\n// scale_expansion_zeroelim routine from oritinal code\r\nexport function scale(elen, e, b, h) {\r\n    let Q, sum, hh, product1, product0;\r\n    let bvirt, c, ahi, alo, bhi, blo;\r\n\r\n    c = splitter * b;\r\n    bhi = c - (c - b);\r\n    blo = b - bhi;\r\n    let enow = e[0];\r\n    Q = enow * b;\r\n    c = splitter * enow;\r\n    ahi = c - (c - enow);\r\n    alo = enow - ahi;\r\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\r\n    let hindex = 0;\r\n    if (hh !== 0) {\r\n        h[hindex++] = hh;\r\n    }\r\n    for (let i = 1; i < elen; i++) {\r\n        enow = e[i];\r\n        product1 = enow * b;\r\n        c = splitter * enow;\r\n        ahi = c - (c - enow);\r\n        alo = enow - ahi;\r\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\r\n        sum = Q + product0;\r\n        bvirt = sum - Q;\r\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\r\n        if (hh !== 0) {\r\n            h[hindex++] = hh;\r\n        }\r\n        Q = product1 + sum;\r\n        hh = sum - (Q - product1);\r\n        if (hh !== 0) {\r\n            h[hindex++] = hh;\r\n        }\r\n    }\r\n    if (Q !== 0 || hindex === 0) {\r\n        h[hindex++] = Q;\r\n    }\r\n    return hindex;\r\n}\r\n\r\nexport function negate(elen, e) {\r\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\r\n    return elen;\r\n}\r\n\r\nexport function estimate(elen, e) {\r\n    let Q = e[0];\r\n    for (let i = 1; i < elen; i++) Q += e[i];\r\n    return Q;\r\n}\r\n\r\nexport function vec(n) {\r\n    return new Float64Array(n);\r\n}\r\n", "import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\r\n\r\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\r\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\r\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\r\n\r\nconst B = vec(4);\r\nconst C1 = vec(8);\r\nconst C2 = vec(12);\r\nconst D = vec(16);\r\nconst u = vec(4);\r\n\r\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\r\n    let acxtail, acytail, bcxtail, bcytail;\r\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\r\n\r\n    const acx = ax - cx;\r\n    const bcx = bx - cx;\r\n    const acy = ay - cy;\r\n    const bcy = by - cy;\r\n\r\n    s1 = acx * bcy;\r\n    c = splitter * acx;\r\n    ahi = c - (c - acx);\r\n    alo = acx - ahi;\r\n    c = splitter * bcy;\r\n    bhi = c - (c - bcy);\r\n    blo = bcy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = acy * bcx;\r\n    c = splitter * acy;\r\n    ahi = c - (c - acy);\r\n    alo = acy - ahi;\r\n    c = splitter * bcx;\r\n    bhi = c - (c - bcx);\r\n    blo = bcx - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    B[3] = u3;\r\n\r\n    let det = estimate(4, B);\r\n    let errbound = ccwerrboundB * detsum;\r\n    if (det >= errbound || -det >= errbound) {\r\n        return det;\r\n    }\r\n\r\n    bvirt = ax - acx;\r\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\r\n    bvirt = bx - bcx;\r\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\r\n    bvirt = ay - acy;\r\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\r\n    bvirt = by - bcy;\r\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\r\n\r\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\r\n        return det;\r\n    }\r\n\r\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\r\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\r\n    if (det >= errbound || -det >= errbound) return det;\r\n\r\n    s1 = acxtail * bcy;\r\n    c = splitter * acxtail;\r\n    ahi = c - (c - acxtail);\r\n    alo = acxtail - ahi;\r\n    c = splitter * bcy;\r\n    bhi = c - (c - bcy);\r\n    blo = bcy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = acytail * bcx;\r\n    c = splitter * acytail;\r\n    ahi = c - (c - acytail);\r\n    alo = acytail - ahi;\r\n    c = splitter * bcx;\r\n    bhi = c - (c - bcx);\r\n    blo = bcx - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    u[3] = u3;\r\n    const C1len = sum(4, B, 4, u, C1);\r\n\r\n    s1 = acx * bcytail;\r\n    c = splitter * acx;\r\n    ahi = c - (c - acx);\r\n    alo = acx - ahi;\r\n    c = splitter * bcytail;\r\n    bhi = c - (c - bcytail);\r\n    blo = bcytail - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = acy * bcxtail;\r\n    c = splitter * acy;\r\n    ahi = c - (c - acy);\r\n    alo = acy - ahi;\r\n    c = splitter * bcxtail;\r\n    bhi = c - (c - bcxtail);\r\n    blo = bcxtail - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    u[3] = u3;\r\n    const C2len = sum(C1len, C1, 4, u, C2);\r\n\r\n    s1 = acxtail * bcytail;\r\n    c = splitter * acxtail;\r\n    ahi = c - (c - acxtail);\r\n    alo = acxtail - ahi;\r\n    c = splitter * bcytail;\r\n    bhi = c - (c - bcytail);\r\n    blo = bcytail - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = acytail * bcxtail;\r\n    c = splitter * acytail;\r\n    ahi = c - (c - acytail);\r\n    alo = acytail - ahi;\r\n    c = splitter * bcxtail;\r\n    bhi = c - (c - bcxtail);\r\n    blo = bcxtail - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    u[3] = u3;\r\n    const Dlen = sum(C2len, C2, 4, u, D);\r\n\r\n    return D[Dlen - 1];\r\n}\r\n\r\nexport function orient2d(ax, ay, bx, by, cx, cy) {\r\n    const detleft = (ay - cy) * (bx - cx);\r\n    const detright = (ax - cx) * (by - cy);\r\n    const det = detleft - detright;\r\n\r\n    const detsum = Math.abs(detleft + detright);\r\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\r\n\r\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\r\n}\r\n\r\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\r\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\r\n}\r\n", "import {epsilon, splitter, resulterrbound, estimate, vec, sum, scale} from './util.js';\r\n\r\nconst o3derrboundA = (7 + 56 * epsilon) * epsilon;\r\nconst o3derrboundB = (3 + 28 * epsilon) * epsilon;\r\nconst o3derrboundC = (26 + 288 * epsilon) * epsilon * epsilon;\r\n\r\nconst bc = vec(4);\r\nconst ca = vec(4);\r\nconst ab = vec(4);\r\nconst at_b = vec(4);\r\nconst at_c = vec(4);\r\nconst bt_c = vec(4);\r\nconst bt_a = vec(4);\r\nconst ct_a = vec(4);\r\nconst ct_b = vec(4);\r\nconst bct = vec(8);\r\nconst cat = vec(8);\r\nconst abt = vec(8);\r\nconst u = vec(4);\r\n\r\nconst _8 = vec(8);\r\nconst _8b = vec(8);\r\nconst _16 = vec(8);\r\nconst _12 = vec(12);\r\n\r\nlet fin = vec(192);\r\nlet fin2 = vec(192);\r\n\r\nfunction finadd(finlen, alen, a) {\r\n    finlen = sum(finlen, fin, alen, a, fin2);\r\n    const tmp = fin; fin = fin2; fin2 = tmp;\r\n    return finlen;\r\n}\r\n\r\nfunction tailinit(xtail, ytail, ax, ay, bx, by, a, b) {\r\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3, negate;\r\n    if (xtail === 0) {\r\n        if (ytail === 0) {\r\n            a[0] = 0;\r\n            b[0] = 0;\r\n            return 1;\r\n        } else {\r\n            negate = -ytail;\r\n            s1 = negate * ax;\r\n            c = splitter * negate;\r\n            ahi = c - (c - negate);\r\n            alo = negate - ahi;\r\n            c = splitter * ax;\r\n            bhi = c - (c - ax);\r\n            blo = ax - bhi;\r\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            a[1] = s1;\r\n            s1 = ytail * bx;\r\n            c = splitter * ytail;\r\n            ahi = c - (c - ytail);\r\n            alo = ytail - ahi;\r\n            c = splitter * bx;\r\n            bhi = c - (c - bx);\r\n            blo = bx - bhi;\r\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            b[1] = s1;\r\n            return 2;\r\n        }\r\n    } else {\r\n        if (ytail === 0) {\r\n            s1 = xtail * ay;\r\n            c = splitter * xtail;\r\n            ahi = c - (c - xtail);\r\n            alo = xtail - ahi;\r\n            c = splitter * ay;\r\n            bhi = c - (c - ay);\r\n            blo = ay - bhi;\r\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            a[1] = s1;\r\n            negate = -xtail;\r\n            s1 = negate * by;\r\n            c = splitter * negate;\r\n            ahi = c - (c - negate);\r\n            alo = negate - ahi;\r\n            c = splitter * by;\r\n            bhi = c - (c - by);\r\n            blo = by - bhi;\r\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            b[1] = s1;\r\n            return 2;\r\n        } else {\r\n            s1 = xtail * ay;\r\n            c = splitter * xtail;\r\n            ahi = c - (c - xtail);\r\n            alo = xtail - ahi;\r\n            c = splitter * ay;\r\n            bhi = c - (c - ay);\r\n            blo = ay - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = ytail * ax;\r\n            c = splitter * ytail;\r\n            ahi = c - (c - ytail);\r\n            alo = ytail - ahi;\r\n            c = splitter * ax;\r\n            bhi = c - (c - ax);\r\n            blo = ax - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 - t0;\r\n            bvirt = s0 - _i;\r\n            a[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 - t1;\r\n            bvirt = _0 - _i;\r\n            a[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            a[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            a[3] = u3;\r\n            s1 = ytail * bx;\r\n            c = splitter * ytail;\r\n            ahi = c - (c - ytail);\r\n            alo = ytail - ahi;\r\n            c = splitter * bx;\r\n            bhi = c - (c - bx);\r\n            blo = bx - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = xtail * by;\r\n            c = splitter * xtail;\r\n            ahi = c - (c - xtail);\r\n            alo = xtail - ahi;\r\n            c = splitter * by;\r\n            bhi = c - (c - by);\r\n            blo = by - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 - t0;\r\n            bvirt = s0 - _i;\r\n            b[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 - t1;\r\n            bvirt = _0 - _i;\r\n            b[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            b[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            b[3] = u3;\r\n            return 4;\r\n        }\r\n    }\r\n}\r\n\r\nfunction tailadd(finlen, a, b, k, z) {\r\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, u3;\r\n    s1 = a * b;\r\n    c = splitter * a;\r\n    ahi = c - (c - a);\r\n    alo = a - ahi;\r\n    c = splitter * b;\r\n    bhi = c - (c - b);\r\n    blo = b - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    c = splitter * k;\r\n    bhi = c - (c - k);\r\n    blo = k - bhi;\r\n    _i = s0 * k;\r\n    c = splitter * s0;\r\n    ahi = c - (c - s0);\r\n    alo = s0 - ahi;\r\n    u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\r\n    _j = s1 * k;\r\n    c = splitter * s1;\r\n    ahi = c - (c - s1);\r\n    alo = s1 - ahi;\r\n    _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\r\n    _k = _i + _0;\r\n    bvirt = _k - _i;\r\n    u[1] = _i - (_k - bvirt) + (_0 - bvirt);\r\n    u3 = _j + _k;\r\n    u[2] = _k - (u3 - _j);\r\n    u[3] = u3;\r\n    finlen = finadd(finlen, 4, u);\r\n    if (z !== 0) {\r\n        c = splitter * z;\r\n        bhi = c - (c - z);\r\n        blo = z - bhi;\r\n        _i = s0 * z;\r\n        c = splitter * s0;\r\n        ahi = c - (c - s0);\r\n        alo = s0 - ahi;\r\n        u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\r\n        _j = s1 * z;\r\n        c = splitter * s1;\r\n        ahi = c - (c - s1);\r\n        alo = s1 - ahi;\r\n        _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\r\n        _k = _i + _0;\r\n        bvirt = _k - _i;\r\n        u[1] = _i - (_k - bvirt) + (_0 - bvirt);\r\n        u3 = _j + _k;\r\n        u[2] = _k - (u3 - _j);\r\n        u[3] = u3;\r\n        finlen = finadd(finlen, 4, u);\r\n    }\r\n    return finlen;\r\n}\r\n\r\nfunction orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent) {\r\n    let finlen;\r\n    let adxtail, bdxtail, cdxtail;\r\n    let adytail, bdytail, cdytail;\r\n    let adztail, bdztail, cdztail;\r\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3;\r\n\r\n    const adx = ax - dx;\r\n    const bdx = bx - dx;\r\n    const cdx = cx - dx;\r\n    const ady = ay - dy;\r\n    const bdy = by - dy;\r\n    const cdy = cy - dy;\r\n    const adz = az - dz;\r\n    const bdz = bz - dz;\r\n    const cdz = cz - dz;\r\n\r\n    s1 = bdx * cdy;\r\n    c = splitter * bdx;\r\n    ahi = c - (c - bdx);\r\n    alo = bdx - ahi;\r\n    c = splitter * cdy;\r\n    bhi = c - (c - cdy);\r\n    blo = cdy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = cdx * bdy;\r\n    c = splitter * cdx;\r\n    ahi = c - (c - cdx);\r\n    alo = cdx - ahi;\r\n    c = splitter * bdy;\r\n    bhi = c - (c - bdy);\r\n    blo = bdy - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    bc[3] = u3;\r\n    s1 = cdx * ady;\r\n    c = splitter * cdx;\r\n    ahi = c - (c - cdx);\r\n    alo = cdx - ahi;\r\n    c = splitter * ady;\r\n    bhi = c - (c - ady);\r\n    blo = ady - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = adx * cdy;\r\n    c = splitter * adx;\r\n    ahi = c - (c - adx);\r\n    alo = adx - ahi;\r\n    c = splitter * cdy;\r\n    bhi = c - (c - cdy);\r\n    blo = cdy - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    ca[3] = u3;\r\n    s1 = adx * bdy;\r\n    c = splitter * adx;\r\n    ahi = c - (c - adx);\r\n    alo = adx - ahi;\r\n    c = splitter * bdy;\r\n    bhi = c - (c - bdy);\r\n    blo = bdy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = bdx * ady;\r\n    c = splitter * bdx;\r\n    ahi = c - (c - bdx);\r\n    alo = bdx - ahi;\r\n    c = splitter * ady;\r\n    bhi = c - (c - ady);\r\n    blo = ady - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    ab[3] = u3;\r\n\r\n    finlen = sum(\r\n        sum(\r\n            scale(4, bc, adz, _8), _8,\r\n            scale(4, ca, bdz, _8b), _8b, _16), _16,\r\n        scale(4, ab, cdz, _8), _8, fin);\r\n\r\n    let det = estimate(finlen, fin);\r\n    let errbound = o3derrboundB * permanent;\r\n    if (det >= errbound || -det >= errbound) {\r\n        return det;\r\n    }\r\n\r\n    bvirt = ax - adx;\r\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\r\n    bvirt = bx - bdx;\r\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\r\n    bvirt = cx - cdx;\r\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\r\n    bvirt = ay - ady;\r\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\r\n    bvirt = by - bdy;\r\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\r\n    bvirt = cy - cdy;\r\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\r\n    bvirt = az - adz;\r\n    adztail = az - (adz + bvirt) + (bvirt - dz);\r\n    bvirt = bz - bdz;\r\n    bdztail = bz - (bdz + bvirt) + (bvirt - dz);\r\n    bvirt = cz - cdz;\r\n    cdztail = cz - (cdz + bvirt) + (bvirt - dz);\r\n\r\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 &&\r\n        adytail === 0 && bdytail === 0 && cdytail === 0 &&\r\n        adztail === 0 && bdztail === 0 && cdztail === 0) {\r\n        return det;\r\n    }\r\n\r\n    errbound = o3derrboundC * permanent + resulterrbound * Math.abs(det);\r\n    det +=\r\n        adz * (bdx * cdytail + cdy * bdxtail - (bdy * cdxtail + cdx * bdytail)) + adztail * (bdx * cdy - bdy * cdx) +\r\n        bdz * (cdx * adytail + ady * cdxtail - (cdy * adxtail + adx * cdytail)) + bdztail * (cdx * ady - cdy * adx) +\r\n        cdz * (adx * bdytail + bdy * adxtail - (ady * bdxtail + bdx * adytail)) + cdztail * (adx * bdy - ady * bdx);\r\n    if (det >= errbound || -det >= errbound) {\r\n        return det;\r\n    }\r\n\r\n    const at_len = tailinit(adxtail, adytail, bdx, bdy, cdx, cdy, at_b, at_c);\r\n    const bt_len = tailinit(bdxtail, bdytail, cdx, cdy, adx, ady, bt_c, bt_a);\r\n    const ct_len = tailinit(cdxtail, cdytail, adx, ady, bdx, bdy, ct_a, ct_b);\r\n\r\n    const bctlen = sum(bt_len, bt_c, ct_len, ct_b, bct);\r\n    finlen = finadd(finlen, scale(bctlen, bct, adz, _16), _16);\r\n\r\n    const catlen = sum(ct_len, ct_a, at_len, at_c, cat);\r\n    finlen = finadd(finlen, scale(catlen, cat, bdz, _16), _16);\r\n\r\n    const abtlen = sum(at_len, at_b, bt_len, bt_a, abt);\r\n    finlen = finadd(finlen, scale(abtlen, abt, cdz, _16), _16);\r\n\r\n    if (adztail !== 0) {\r\n        finlen = finadd(finlen, scale(4, bc, adztail, _12), _12);\r\n        finlen = finadd(finlen, scale(bctlen, bct, adztail, _16), _16);\r\n    }\r\n    if (bdztail !== 0) {\r\n        finlen = finadd(finlen, scale(4, ca, bdztail, _12), _12);\r\n        finlen = finadd(finlen, scale(catlen, cat, bdztail, _16), _16);\r\n    }\r\n    if (cdztail !== 0) {\r\n        finlen = finadd(finlen, scale(4, ab, cdztail, _12), _12);\r\n        finlen = finadd(finlen, scale(abtlen, abt, cdztail, _16), _16);\r\n    }\r\n\r\n    if (adxtail !== 0) {\r\n        if (bdytail !== 0) {\r\n            finlen = tailadd(finlen, adxtail, bdytail, cdz, cdztail);\r\n        }\r\n        if (cdytail !== 0) {\r\n            finlen = tailadd(finlen, -adxtail, cdytail, bdz, bdztail);\r\n        }\r\n    }\r\n    if (bdxtail !== 0) {\r\n        if (cdytail !== 0) {\r\n            finlen = tailadd(finlen, bdxtail, cdytail, adz, adztail);\r\n        }\r\n        if (adytail !== 0) {\r\n            finlen = tailadd(finlen, -bdxtail, adytail, cdz, cdztail);\r\n        }\r\n    }\r\n    if (cdxtail !== 0) {\r\n        if (adytail !== 0) {\r\n            finlen = tailadd(finlen, cdxtail, adytail, bdz, bdztail);\r\n        }\r\n        if (bdytail !== 0) {\r\n            finlen = tailadd(finlen, -cdxtail, bdytail, adz, adztail);\r\n        }\r\n    }\r\n\r\n    return fin[finlen - 1];\r\n}\r\n\r\nexport function orient3d(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\r\n    const adx = ax - dx;\r\n    const bdx = bx - dx;\r\n    const cdx = cx - dx;\r\n    const ady = ay - dy;\r\n    const bdy = by - dy;\r\n    const cdy = cy - dy;\r\n    const adz = az - dz;\r\n    const bdz = bz - dz;\r\n    const cdz = cz - dz;\r\n\r\n    const bdxcdy = bdx * cdy;\r\n    const cdxbdy = cdx * bdy;\r\n\r\n    const cdxady = cdx * ady;\r\n    const adxcdy = adx * cdy;\r\n\r\n    const adxbdy = adx * bdy;\r\n    const bdxady = bdx * ady;\r\n\r\n    const det =\r\n        adz * (bdxcdy - cdxbdy) +\r\n        bdz * (cdxady - adxcdy) +\r\n        cdz * (adxbdy - bdxady);\r\n\r\n    const permanent =\r\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz) +\r\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz) +\r\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\r\n\r\n    const errbound = o3derrboundA * permanent;\r\n    if (det > errbound || -det > errbound) {\r\n        return det;\r\n    }\r\n\r\n    return orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent);\r\n}\r\n\r\nexport function orient3dfast(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\r\n    const adx = ax - dx;\r\n    const bdx = bx - dx;\r\n    const cdx = cx - dx;\r\n    const ady = ay - dy;\r\n    const bdy = by - dy;\r\n    const cdy = cy - dy;\r\n    const adz = az - dz;\r\n    const bdz = bz - dz;\r\n    const cdz = cz - dz;\r\n\r\n    return adx * (bdy * cdz - bdz * cdy) +\r\n        bdx * (cdy * adz - cdz * ady) +\r\n        cdx * (ady * bdz - adz * bdy);\r\n}\r\n", "import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale} from './util.js';\r\n\r\nconst iccerrboundA = (10 + 96 * epsilon) * epsilon;\r\nconst iccerrboundB = (4 + 48 * epsilon) * epsilon;\r\nconst iccerrboundC = (44 + 576 * epsilon) * epsilon * epsilon;\r\n\r\nconst bc = vec(4);\r\nconst ca = vec(4);\r\nconst ab = vec(4);\r\nconst aa = vec(4);\r\nconst bb = vec(4);\r\nconst cc = vec(4);\r\nconst u = vec(4);\r\nconst v = vec(4);\r\nconst axtbc = vec(8);\r\nconst aytbc = vec(8);\r\nconst bxtca = vec(8);\r\nconst bytca = vec(8);\r\nconst cxtab = vec(8);\r\nconst cytab = vec(8);\r\nconst abt = vec(8);\r\nconst bct = vec(8);\r\nconst cat = vec(8);\r\nconst abtt = vec(4);\r\nconst bctt = vec(4);\r\nconst catt = vec(4);\r\n\r\nconst _8 = vec(8);\r\nconst _16 = vec(16);\r\nconst _16b = vec(16);\r\nconst _16c = vec(16);\r\nconst _32 = vec(32);\r\nconst _32b = vec(32);\r\nconst _48 = vec(48);\r\nconst _64 = vec(64);\r\n\r\nlet fin = vec(1152);\r\nlet fin2 = vec(1152);\r\n\r\nfunction finadd(finlen, a, alen) {\r\n    finlen = sum(finlen, fin, a, alen, fin2);\r\n    const tmp = fin; fin = fin2; fin2 = tmp;\r\n    return finlen;\r\n}\r\n\r\nfunction incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent) {\r\n    let finlen;\r\n    let adxtail, bdxtail, cdxtail, adytail, bdytail, cdytail;\r\n    let axtbclen, aytbclen, bxtcalen, bytcalen, cxtablen, cytablen;\r\n    let abtlen, bctlen, catlen;\r\n    let abttlen, bcttlen, cattlen;\r\n    let n1, n0;\r\n\r\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\r\n\r\n    const adx = ax - dx;\r\n    const bdx = bx - dx;\r\n    const cdx = cx - dx;\r\n    const ady = ay - dy;\r\n    const bdy = by - dy;\r\n    const cdy = cy - dy;\r\n\r\n    s1 = bdx * cdy;\r\n    c = splitter * bdx;\r\n    ahi = c - (c - bdx);\r\n    alo = bdx - ahi;\r\n    c = splitter * cdy;\r\n    bhi = c - (c - cdy);\r\n    blo = cdy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = cdx * bdy;\r\n    c = splitter * cdx;\r\n    ahi = c - (c - cdx);\r\n    alo = cdx - ahi;\r\n    c = splitter * bdy;\r\n    bhi = c - (c - bdy);\r\n    blo = bdy - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    bc[3] = u3;\r\n    s1 = cdx * ady;\r\n    c = splitter * cdx;\r\n    ahi = c - (c - cdx);\r\n    alo = cdx - ahi;\r\n    c = splitter * ady;\r\n    bhi = c - (c - ady);\r\n    blo = ady - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = adx * cdy;\r\n    c = splitter * adx;\r\n    ahi = c - (c - adx);\r\n    alo = adx - ahi;\r\n    c = splitter * cdy;\r\n    bhi = c - (c - cdy);\r\n    blo = cdy - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    ca[3] = u3;\r\n    s1 = adx * bdy;\r\n    c = splitter * adx;\r\n    ahi = c - (c - adx);\r\n    alo = adx - ahi;\r\n    c = splitter * bdy;\r\n    bhi = c - (c - bdy);\r\n    blo = bdy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = bdx * ady;\r\n    c = splitter * bdx;\r\n    ahi = c - (c - bdx);\r\n    alo = bdx - ahi;\r\n    c = splitter * ady;\r\n    bhi = c - (c - ady);\r\n    blo = ady - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    ab[3] = u3;\r\n\r\n    finlen = sum(\r\n        sum(\r\n            sum(\r\n                scale(scale(4, bc, adx, _8), _8, adx, _16), _16,\r\n                scale(scale(4, bc, ady, _8), _8, ady, _16b), _16b, _32), _32,\r\n            sum(\r\n                scale(scale(4, ca, bdx, _8), _8, bdx, _16), _16,\r\n                scale(scale(4, ca, bdy, _8), _8, bdy, _16b), _16b, _32b), _32b, _64), _64,\r\n        sum(\r\n            scale(scale(4, ab, cdx, _8), _8, cdx, _16), _16,\r\n            scale(scale(4, ab, cdy, _8), _8, cdy, _16b), _16b, _32), _32, fin);\r\n\r\n    let det = estimate(finlen, fin);\r\n    let errbound = iccerrboundB * permanent;\r\n    if (det >= errbound || -det >= errbound) {\r\n        return det;\r\n    }\r\n\r\n    bvirt = ax - adx;\r\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\r\n    bvirt = ay - ady;\r\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\r\n    bvirt = bx - bdx;\r\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\r\n    bvirt = by - bdy;\r\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\r\n    bvirt = cx - cdx;\r\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\r\n    bvirt = cy - cdy;\r\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\r\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 && adytail === 0 && bdytail === 0 && cdytail === 0) {\r\n        return det;\r\n    }\r\n\r\n    errbound = iccerrboundC * permanent + resulterrbound * Math.abs(det);\r\n    det += ((adx * adx + ady * ady) * ((bdx * cdytail + cdy * bdxtail) - (bdy * cdxtail + cdx * bdytail)) +\r\n        2 * (adx * adxtail + ady * adytail) * (bdx * cdy - bdy * cdx)) +\r\n        ((bdx * bdx + bdy * bdy) * ((cdx * adytail + ady * cdxtail) - (cdy * adxtail + adx * cdytail)) +\r\n        2 * (bdx * bdxtail + bdy * bdytail) * (cdx * ady - cdy * adx)) +\r\n        ((cdx * cdx + cdy * cdy) * ((adx * bdytail + bdy * adxtail) - (ady * bdxtail + bdx * adytail)) +\r\n        2 * (cdx * cdxtail + cdy * cdytail) * (adx * bdy - ady * bdx));\r\n\r\n    if (det >= errbound || -det >= errbound) {\r\n        return det;\r\n    }\r\n\r\n    if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\r\n        s1 = adx * adx;\r\n        c = splitter * adx;\r\n        ahi = c - (c - adx);\r\n        alo = adx - ahi;\r\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\r\n        t1 = ady * ady;\r\n        c = splitter * ady;\r\n        ahi = c - (c - ady);\r\n        alo = ady - ahi;\r\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\r\n        _i = s0 + t0;\r\n        bvirt = _i - s0;\r\n        aa[0] = s0 - (_i - bvirt) + (t0 - bvirt);\r\n        _j = s1 + _i;\r\n        bvirt = _j - s1;\r\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n        _i = _0 + t1;\r\n        bvirt = _i - _0;\r\n        aa[1] = _0 - (_i - bvirt) + (t1 - bvirt);\r\n        u3 = _j + _i;\r\n        bvirt = u3 - _j;\r\n        aa[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n        aa[3] = u3;\r\n    }\r\n    if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\r\n        s1 = bdx * bdx;\r\n        c = splitter * bdx;\r\n        ahi = c - (c - bdx);\r\n        alo = bdx - ahi;\r\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\r\n        t1 = bdy * bdy;\r\n        c = splitter * bdy;\r\n        ahi = c - (c - bdy);\r\n        alo = bdy - ahi;\r\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\r\n        _i = s0 + t0;\r\n        bvirt = _i - s0;\r\n        bb[0] = s0 - (_i - bvirt) + (t0 - bvirt);\r\n        _j = s1 + _i;\r\n        bvirt = _j - s1;\r\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n        _i = _0 + t1;\r\n        bvirt = _i - _0;\r\n        bb[1] = _0 - (_i - bvirt) + (t1 - bvirt);\r\n        u3 = _j + _i;\r\n        bvirt = u3 - _j;\r\n        bb[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n        bb[3] = u3;\r\n    }\r\n    if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\r\n        s1 = cdx * cdx;\r\n        c = splitter * cdx;\r\n        ahi = c - (c - cdx);\r\n        alo = cdx - ahi;\r\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\r\n        t1 = cdy * cdy;\r\n        c = splitter * cdy;\r\n        ahi = c - (c - cdy);\r\n        alo = cdy - ahi;\r\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\r\n        _i = s0 + t0;\r\n        bvirt = _i - s0;\r\n        cc[0] = s0 - (_i - bvirt) + (t0 - bvirt);\r\n        _j = s1 + _i;\r\n        bvirt = _j - s1;\r\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n        _i = _0 + t1;\r\n        bvirt = _i - _0;\r\n        cc[1] = _0 - (_i - bvirt) + (t1 - bvirt);\r\n        u3 = _j + _i;\r\n        bvirt = u3 - _j;\r\n        cc[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n        cc[3] = u3;\r\n    }\r\n\r\n    if (adxtail !== 0) {\r\n        axtbclen = scale(4, bc, adxtail, axtbc);\r\n        finlen = finadd(finlen, sum_three(\r\n            scale(axtbclen, axtbc, 2 * adx, _16), _16,\r\n            scale(scale(4, cc, adxtail, _8), _8, bdy, _16b), _16b,\r\n            scale(scale(4, bb, adxtail, _8), _8, -cdy, _16c), _16c, _32, _48), _48);\r\n    }\r\n    if (adytail !== 0) {\r\n        aytbclen = scale(4, bc, adytail, aytbc);\r\n        finlen = finadd(finlen, sum_three(\r\n            scale(aytbclen, aytbc, 2 * ady, _16), _16,\r\n            scale(scale(4, bb, adytail, _8), _8, cdx, _16b), _16b,\r\n            scale(scale(4, cc, adytail, _8), _8, -bdx, _16c), _16c, _32, _48), _48);\r\n    }\r\n    if (bdxtail !== 0) {\r\n        bxtcalen = scale(4, ca, bdxtail, bxtca);\r\n        finlen = finadd(finlen, sum_three(\r\n            scale(bxtcalen, bxtca, 2 * bdx, _16), _16,\r\n            scale(scale(4, aa, bdxtail, _8), _8, cdy, _16b), _16b,\r\n            scale(scale(4, cc, bdxtail, _8), _8, -ady, _16c), _16c, _32, _48), _48);\r\n    }\r\n    if (bdytail !== 0) {\r\n        bytcalen = scale(4, ca, bdytail, bytca);\r\n        finlen = finadd(finlen, sum_three(\r\n            scale(bytcalen, bytca, 2 * bdy, _16), _16,\r\n            scale(scale(4, cc, bdytail, _8), _8, adx, _16b), _16b,\r\n            scale(scale(4, aa, bdytail, _8), _8, -cdx, _16c), _16c, _32, _48), _48);\r\n    }\r\n    if (cdxtail !== 0) {\r\n        cxtablen = scale(4, ab, cdxtail, cxtab);\r\n        finlen = finadd(finlen, sum_three(\r\n            scale(cxtablen, cxtab, 2 * cdx, _16), _16,\r\n            scale(scale(4, bb, cdxtail, _8), _8, ady, _16b), _16b,\r\n            scale(scale(4, aa, cdxtail, _8), _8, -bdy, _16c), _16c, _32, _48), _48);\r\n    }\r\n    if (cdytail !== 0) {\r\n        cytablen = scale(4, ab, cdytail, cytab);\r\n        finlen = finadd(finlen, sum_three(\r\n            scale(cytablen, cytab, 2 * cdy, _16), _16,\r\n            scale(scale(4, aa, cdytail, _8), _8, bdx, _16b), _16b,\r\n            scale(scale(4, bb, cdytail, _8), _8, -adx, _16c), _16c, _32, _48), _48);\r\n    }\r\n\r\n    if (adxtail !== 0 || adytail !== 0) {\r\n        if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\r\n            s1 = bdxtail * cdy;\r\n            c = splitter * bdxtail;\r\n            ahi = c - (c - bdxtail);\r\n            alo = bdxtail - ahi;\r\n            c = splitter * cdy;\r\n            bhi = c - (c - cdy);\r\n            blo = cdy - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = bdx * cdytail;\r\n            c = splitter * bdx;\r\n            ahi = c - (c - bdx);\r\n            alo = bdx - ahi;\r\n            c = splitter * cdytail;\r\n            bhi = c - (c - cdytail);\r\n            blo = cdytail - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 + t0;\r\n            bvirt = _i - s0;\r\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 + t1;\r\n            bvirt = _i - _0;\r\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            u[3] = u3;\r\n            s1 = cdxtail * -bdy;\r\n            c = splitter * cdxtail;\r\n            ahi = c - (c - cdxtail);\r\n            alo = cdxtail - ahi;\r\n            c = splitter * -bdy;\r\n            bhi = c - (c - -bdy);\r\n            blo = -bdy - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = cdx * -bdytail;\r\n            c = splitter * cdx;\r\n            ahi = c - (c - cdx);\r\n            alo = cdx - ahi;\r\n            c = splitter * -bdytail;\r\n            bhi = c - (c - -bdytail);\r\n            blo = -bdytail - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 + t0;\r\n            bvirt = _i - s0;\r\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 + t1;\r\n            bvirt = _i - _0;\r\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            v[3] = u3;\r\n            bctlen = sum(4, u, 4, v, bct);\r\n            s1 = bdxtail * cdytail;\r\n            c = splitter * bdxtail;\r\n            ahi = c - (c - bdxtail);\r\n            alo = bdxtail - ahi;\r\n            c = splitter * cdytail;\r\n            bhi = c - (c - cdytail);\r\n            blo = cdytail - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = cdxtail * bdytail;\r\n            c = splitter * cdxtail;\r\n            ahi = c - (c - cdxtail);\r\n            alo = cdxtail - ahi;\r\n            c = splitter * bdytail;\r\n            bhi = c - (c - bdytail);\r\n            blo = bdytail - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 - t0;\r\n            bvirt = s0 - _i;\r\n            bctt[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 - t1;\r\n            bvirt = _0 - _i;\r\n            bctt[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            bctt[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            bctt[3] = u3;\r\n            bcttlen = 4;\r\n        } else {\r\n            bct[0] = 0;\r\n            bctlen = 1;\r\n            bctt[0] = 0;\r\n            bcttlen = 1;\r\n        }\r\n        if (adxtail !== 0) {\r\n            const len = scale(bctlen, bct, adxtail, _16c);\r\n            finlen = finadd(finlen, sum(\r\n                scale(axtbclen, axtbc, adxtail, _16), _16,\r\n                scale(len, _16c, 2 * adx, _32), _32, _48), _48);\r\n\r\n            const len2 = scale(bcttlen, bctt, adxtail, _8);\r\n            finlen = finadd(finlen, sum_three(\r\n                scale(len2, _8, 2 * adx, _16), _16,\r\n                scale(len2, _8, adxtail, _16b), _16b,\r\n                scale(len, _16c, adxtail, _32), _32, _32b, _64), _64);\r\n\r\n            if (bdytail !== 0) {\r\n                finlen = finadd(finlen, scale(scale(4, cc, adxtail, _8), _8, bdytail, _16), _16);\r\n            }\r\n            if (cdytail !== 0) {\r\n                finlen = finadd(finlen, scale(scale(4, bb, -adxtail, _8), _8, cdytail, _16), _16);\r\n            }\r\n        }\r\n        if (adytail !== 0) {\r\n            const len = scale(bctlen, bct, adytail, _16c);\r\n            finlen = finadd(finlen, sum(\r\n                scale(aytbclen, aytbc, adytail, _16), _16,\r\n                scale(len, _16c, 2 * ady, _32), _32, _48), _48);\r\n\r\n            const len2 = scale(bcttlen, bctt, adytail, _8);\r\n            finlen = finadd(finlen, sum_three(\r\n                scale(len2, _8, 2 * ady, _16), _16,\r\n                scale(len2, _8, adytail, _16b), _16b,\r\n                scale(len, _16c, adytail, _32), _32, _32b, _64), _64);\r\n        }\r\n    }\r\n    if (bdxtail !== 0 || bdytail !== 0) {\r\n        if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\r\n            s1 = cdxtail * ady;\r\n            c = splitter * cdxtail;\r\n            ahi = c - (c - cdxtail);\r\n            alo = cdxtail - ahi;\r\n            c = splitter * ady;\r\n            bhi = c - (c - ady);\r\n            blo = ady - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = cdx * adytail;\r\n            c = splitter * cdx;\r\n            ahi = c - (c - cdx);\r\n            alo = cdx - ahi;\r\n            c = splitter * adytail;\r\n            bhi = c - (c - adytail);\r\n            blo = adytail - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 + t0;\r\n            bvirt = _i - s0;\r\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 + t1;\r\n            bvirt = _i - _0;\r\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            u[3] = u3;\r\n            n1 = -cdy;\r\n            n0 = -cdytail;\r\n            s1 = adxtail * n1;\r\n            c = splitter * adxtail;\r\n            ahi = c - (c - adxtail);\r\n            alo = adxtail - ahi;\r\n            c = splitter * n1;\r\n            bhi = c - (c - n1);\r\n            blo = n1 - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = adx * n0;\r\n            c = splitter * adx;\r\n            ahi = c - (c - adx);\r\n            alo = adx - ahi;\r\n            c = splitter * n0;\r\n            bhi = c - (c - n0);\r\n            blo = n0 - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 + t0;\r\n            bvirt = _i - s0;\r\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 + t1;\r\n            bvirt = _i - _0;\r\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            v[3] = u3;\r\n            catlen = sum(4, u, 4, v, cat);\r\n            s1 = cdxtail * adytail;\r\n            c = splitter * cdxtail;\r\n            ahi = c - (c - cdxtail);\r\n            alo = cdxtail - ahi;\r\n            c = splitter * adytail;\r\n            bhi = c - (c - adytail);\r\n            blo = adytail - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = adxtail * cdytail;\r\n            c = splitter * adxtail;\r\n            ahi = c - (c - adxtail);\r\n            alo = adxtail - ahi;\r\n            c = splitter * cdytail;\r\n            bhi = c - (c - cdytail);\r\n            blo = cdytail - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 - t0;\r\n            bvirt = s0 - _i;\r\n            catt[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 - t1;\r\n            bvirt = _0 - _i;\r\n            catt[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            catt[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            catt[3] = u3;\r\n            cattlen = 4;\r\n        } else {\r\n            cat[0] = 0;\r\n            catlen = 1;\r\n            catt[0] = 0;\r\n            cattlen = 1;\r\n        }\r\n        if (bdxtail !== 0) {\r\n            const len = scale(catlen, cat, bdxtail, _16c);\r\n            finlen = finadd(finlen, sum(\r\n                scale(bxtcalen, bxtca, bdxtail, _16), _16,\r\n                scale(len, _16c, 2 * bdx, _32), _32, _48), _48);\r\n\r\n            const len2 = scale(cattlen, catt, bdxtail, _8);\r\n            finlen = finadd(finlen, sum_three(\r\n                scale(len2, _8, 2 * bdx, _16), _16,\r\n                scale(len2, _8, bdxtail, _16b), _16b,\r\n                scale(len, _16c, bdxtail, _32), _32, _32b, _64), _64);\r\n\r\n            if (cdytail !== 0) {\r\n                finlen = finadd(finlen, scale(scale(4, aa, bdxtail, _8), _8, cdytail, _16), _16);\r\n            }\r\n            if (adytail !== 0) {\r\n                finlen = finadd(finlen, scale(scale(4, cc, -bdxtail, _8), _8, adytail, _16), _16);\r\n            }\r\n        }\r\n        if (bdytail !== 0) {\r\n            const len = scale(catlen, cat, bdytail, _16c);\r\n            finlen = finadd(finlen, sum(\r\n                scale(bytcalen, bytca, bdytail, _16), _16,\r\n                scale(len, _16c, 2 * bdy, _32), _32, _48), _48);\r\n\r\n            const len2 = scale(cattlen, catt, bdytail, _8);\r\n            finlen = finadd(finlen, sum_three(\r\n                scale(len2, _8, 2 * bdy, _16), _16,\r\n                scale(len2, _8, bdytail, _16b), _16b,\r\n                scale(len, _16c, bdytail, _32), _32,  _32b, _64), _64);\r\n        }\r\n    }\r\n    if (cdxtail !== 0 || cdytail !== 0) {\r\n        if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\r\n            s1 = adxtail * bdy;\r\n            c = splitter * adxtail;\r\n            ahi = c - (c - adxtail);\r\n            alo = adxtail - ahi;\r\n            c = splitter * bdy;\r\n            bhi = c - (c - bdy);\r\n            blo = bdy - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = adx * bdytail;\r\n            c = splitter * adx;\r\n            ahi = c - (c - adx);\r\n            alo = adx - ahi;\r\n            c = splitter * bdytail;\r\n            bhi = c - (c - bdytail);\r\n            blo = bdytail - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 + t0;\r\n            bvirt = _i - s0;\r\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 + t1;\r\n            bvirt = _i - _0;\r\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            u[3] = u3;\r\n            n1 = -ady;\r\n            n0 = -adytail;\r\n            s1 = bdxtail * n1;\r\n            c = splitter * bdxtail;\r\n            ahi = c - (c - bdxtail);\r\n            alo = bdxtail - ahi;\r\n            c = splitter * n1;\r\n            bhi = c - (c - n1);\r\n            blo = n1 - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = bdx * n0;\r\n            c = splitter * bdx;\r\n            ahi = c - (c - bdx);\r\n            alo = bdx - ahi;\r\n            c = splitter * n0;\r\n            bhi = c - (c - n0);\r\n            blo = n0 - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 + t0;\r\n            bvirt = _i - s0;\r\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 + t1;\r\n            bvirt = _i - _0;\r\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            v[3] = u3;\r\n            abtlen = sum(4, u, 4, v, abt);\r\n            s1 = adxtail * bdytail;\r\n            c = splitter * adxtail;\r\n            ahi = c - (c - adxtail);\r\n            alo = adxtail - ahi;\r\n            c = splitter * bdytail;\r\n            bhi = c - (c - bdytail);\r\n            blo = bdytail - bhi;\r\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            t1 = bdxtail * adytail;\r\n            c = splitter * bdxtail;\r\n            ahi = c - (c - bdxtail);\r\n            alo = bdxtail - ahi;\r\n            c = splitter * adytail;\r\n            bhi = c - (c - adytail);\r\n            blo = adytail - bhi;\r\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n            _i = s0 - t0;\r\n            bvirt = s0 - _i;\r\n            abtt[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n            _j = s1 + _i;\r\n            bvirt = _j - s1;\r\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n            _i = _0 - t1;\r\n            bvirt = _0 - _i;\r\n            abtt[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n            u3 = _j + _i;\r\n            bvirt = u3 - _j;\r\n            abtt[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n            abtt[3] = u3;\r\n            abttlen = 4;\r\n        } else {\r\n            abt[0] = 0;\r\n            abtlen = 1;\r\n            abtt[0] = 0;\r\n            abttlen = 1;\r\n        }\r\n        if (cdxtail !== 0) {\r\n            const len = scale(abtlen, abt, cdxtail, _16c);\r\n            finlen = finadd(finlen, sum(\r\n                scale(cxtablen, cxtab, cdxtail, _16), _16,\r\n                scale(len, _16c, 2 * cdx, _32), _32, _48), _48);\r\n\r\n            const len2 = scale(abttlen, abtt, cdxtail, _8);\r\n            finlen = finadd(finlen, sum_three(\r\n                scale(len2, _8, 2 * cdx, _16), _16,\r\n                scale(len2, _8, cdxtail, _16b), _16b,\r\n                scale(len, _16c, cdxtail, _32), _32, _32b, _64), _64);\r\n\r\n            if (adytail !== 0) {\r\n                finlen = finadd(finlen, scale(scale(4, bb, cdxtail, _8), _8, adytail, _16), _16);\r\n            }\r\n            if (bdytail !== 0) {\r\n                finlen = finadd(finlen, scale(scale(4, aa, -cdxtail, _8), _8, bdytail, _16), _16);\r\n            }\r\n        }\r\n        if (cdytail !== 0) {\r\n            const len = scale(abtlen, abt, cdytail, _16c);\r\n            finlen = finadd(finlen, sum(\r\n                scale(cytablen, cytab, cdytail, _16), _16,\r\n                scale(len, _16c, 2 * cdy, _32), _32, _48), _48);\r\n\r\n            const len2 = scale(abttlen, abtt, cdytail, _8);\r\n            finlen = finadd(finlen, sum_three(\r\n                scale(len2, _8, 2 * cdy, _16), _16,\r\n                scale(len2, _8, cdytail, _16b), _16b,\r\n                scale(len, _16c, cdytail, _32), _32, _32b, _64), _64);\r\n        }\r\n    }\r\n\r\n    return fin[finlen - 1];\r\n}\r\n\r\nexport function incircle(ax, ay, bx, by, cx, cy, dx, dy) {\r\n    const adx = ax - dx;\r\n    const bdx = bx - dx;\r\n    const cdx = cx - dx;\r\n    const ady = ay - dy;\r\n    const bdy = by - dy;\r\n    const cdy = cy - dy;\r\n\r\n    const bdxcdy = bdx * cdy;\r\n    const cdxbdy = cdx * bdy;\r\n    const alift = adx * adx + ady * ady;\r\n\r\n    const cdxady = cdx * ady;\r\n    const adxcdy = adx * cdy;\r\n    const blift = bdx * bdx + bdy * bdy;\r\n\r\n    const adxbdy = adx * bdy;\r\n    const bdxady = bdx * ady;\r\n    const clift = cdx * cdx + cdy * cdy;\r\n\r\n    const det =\r\n        alift * (bdxcdy - cdxbdy) +\r\n        blift * (cdxady - adxcdy) +\r\n        clift * (adxbdy - bdxady);\r\n\r\n    const permanent =\r\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * alift +\r\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * blift +\r\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * clift;\r\n\r\n    const errbound = iccerrboundA * permanent;\r\n\r\n    if (det > errbound || -det > errbound) {\r\n        return det;\r\n    }\r\n    return incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent);\r\n}\r\n\r\nexport function incirclefast(ax, ay, bx, by, cx, cy, dx, dy) {\r\n    const adx = ax - dx;\r\n    const ady = ay - dy;\r\n    const bdx = bx - dx;\r\n    const bdy = by - dy;\r\n    const cdx = cx - dx;\r\n    const cdy = cy - dy;\r\n\r\n    const abdet = adx * bdy - bdx * ady;\r\n    const bcdet = bdx * cdy - cdx * bdy;\r\n    const cadet = cdx * ady - adx * cdy;\r\n    const alift = adx * adx + ady * ady;\r\n    const blift = bdx * bdx + bdy * bdy;\r\n    const clift = cdx * cdx + cdy * cdy;\r\n\r\n    return alift * bcdet + blift * cadet + clift * abdet;\r\n}\r\n", "import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale, negate} from './util.js';\r\n\r\nconst isperrboundA = (16 + 224 * epsilon) * epsilon;\r\nconst isperrboundB = (5 + 72 * epsilon) * epsilon;\r\nconst isperrboundC = (71 + 1408 * epsilon) * epsilon * epsilon;\r\n\r\nconst ab = vec(4);\r\nconst bc = vec(4);\r\nconst cd = vec(4);\r\nconst de = vec(4);\r\nconst ea = vec(4);\r\nconst ac = vec(4);\r\nconst bd = vec(4);\r\nconst ce = vec(4);\r\nconst da = vec(4);\r\nconst eb = vec(4);\r\n\r\nconst abc = vec(24);\r\nconst bcd = vec(24);\r\nconst cde = vec(24);\r\nconst dea = vec(24);\r\nconst eab = vec(24);\r\nconst abd = vec(24);\r\nconst bce = vec(24);\r\nconst cda = vec(24);\r\nconst deb = vec(24);\r\nconst eac = vec(24);\r\n\r\nconst adet = vec(1152);\r\nconst bdet = vec(1152);\r\nconst cdet = vec(1152);\r\nconst ddet = vec(1152);\r\nconst edet = vec(1152);\r\nconst abdet = vec(2304);\r\nconst cddet = vec(2304);\r\nconst cdedet = vec(3456);\r\nconst deter = vec(5760);\r\n\r\nconst _8 = vec(8);\r\nconst _8b = vec(8);\r\nconst _8c = vec(8);\r\nconst _16 = vec(16);\r\nconst _24 = vec(24);\r\nconst _48 = vec(48);\r\nconst _48b = vec(48);\r\nconst _96 = vec(96);\r\nconst _192 = vec(192);\r\nconst _384x = vec(384);\r\nconst _384y = vec(384);\r\nconst _384z = vec(384);\r\nconst _768 = vec(768);\r\n\r\nfunction sum_three_scale(a, b, c, az, bz, cz, out) {\r\n    return sum_three(\r\n        scale(4, a, az, _8), _8,\r\n        scale(4, b, bz, _8b), _8b,\r\n        scale(4, c, cz, _8c), _8c, _16, out);\r\n}\r\n\r\nfunction liftexact(alen, a, blen, b, clen, c, dlen, d, x, y, z, out) {\r\n    const len = sum(\r\n        sum(alen, a, blen, b, _48), _48,\r\n        negate(sum(clen, c, dlen, d, _48b), _48b), _48b, _96);\r\n\r\n    return sum_three(\r\n        scale(scale(len, _96, x, _192), _192, x, _384x), _384x,\r\n        scale(scale(len, _96, y, _192), _192, y, _384y), _384y,\r\n        scale(scale(len, _96, z, _192), _192, z, _384z), _384z, _768, out);\r\n}\r\n\r\nfunction insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\r\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\r\n\r\n    s1 = ax * by;\r\n    c = splitter * ax;\r\n    ahi = c - (c - ax);\r\n    alo = ax - ahi;\r\n    c = splitter * by;\r\n    bhi = c - (c - by);\r\n    blo = by - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = bx * ay;\r\n    c = splitter * bx;\r\n    ahi = c - (c - bx);\r\n    alo = bx - ahi;\r\n    c = splitter * ay;\r\n    bhi = c - (c - ay);\r\n    blo = ay - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    ab[3] = u3;\r\n    s1 = bx * cy;\r\n    c = splitter * bx;\r\n    ahi = c - (c - bx);\r\n    alo = bx - ahi;\r\n    c = splitter * cy;\r\n    bhi = c - (c - cy);\r\n    blo = cy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = cx * by;\r\n    c = splitter * cx;\r\n    ahi = c - (c - cx);\r\n    alo = cx - ahi;\r\n    c = splitter * by;\r\n    bhi = c - (c - by);\r\n    blo = by - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    bc[3] = u3;\r\n    s1 = cx * dy;\r\n    c = splitter * cx;\r\n    ahi = c - (c - cx);\r\n    alo = cx - ahi;\r\n    c = splitter * dy;\r\n    bhi = c - (c - dy);\r\n    blo = dy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = dx * cy;\r\n    c = splitter * dx;\r\n    ahi = c - (c - dx);\r\n    alo = dx - ahi;\r\n    c = splitter * cy;\r\n    bhi = c - (c - cy);\r\n    blo = cy - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    cd[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    cd[3] = u3;\r\n    s1 = dx * ey;\r\n    c = splitter * dx;\r\n    ahi = c - (c - dx);\r\n    alo = dx - ahi;\r\n    c = splitter * ey;\r\n    bhi = c - (c - ey);\r\n    blo = ey - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = ex * dy;\r\n    c = splitter * ex;\r\n    ahi = c - (c - ex);\r\n    alo = ex - ahi;\r\n    c = splitter * dy;\r\n    bhi = c - (c - dy);\r\n    blo = dy - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    de[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    de[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    de[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    de[3] = u3;\r\n    s1 = ex * ay;\r\n    c = splitter * ex;\r\n    ahi = c - (c - ex);\r\n    alo = ex - ahi;\r\n    c = splitter * ay;\r\n    bhi = c - (c - ay);\r\n    blo = ay - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = ax * ey;\r\n    c = splitter * ax;\r\n    ahi = c - (c - ax);\r\n    alo = ax - ahi;\r\n    c = splitter * ey;\r\n    bhi = c - (c - ey);\r\n    blo = ey - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ea[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ea[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    ea[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    ea[3] = u3;\r\n    s1 = ax * cy;\r\n    c = splitter * ax;\r\n    ahi = c - (c - ax);\r\n    alo = ax - ahi;\r\n    c = splitter * cy;\r\n    bhi = c - (c - cy);\r\n    blo = cy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = cx * ay;\r\n    c = splitter * cx;\r\n    ahi = c - (c - cx);\r\n    alo = cx - ahi;\r\n    c = splitter * ay;\r\n    bhi = c - (c - ay);\r\n    blo = ay - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    ac[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    ac[3] = u3;\r\n    s1 = bx * dy;\r\n    c = splitter * bx;\r\n    ahi = c - (c - bx);\r\n    alo = bx - ahi;\r\n    c = splitter * dy;\r\n    bhi = c - (c - dy);\r\n    blo = dy - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = dx * by;\r\n    c = splitter * dx;\r\n    ahi = c - (c - dx);\r\n    alo = dx - ahi;\r\n    c = splitter * by;\r\n    bhi = c - (c - by);\r\n    blo = by - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    bd[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    bd[3] = u3;\r\n    s1 = cx * ey;\r\n    c = splitter * cx;\r\n    ahi = c - (c - cx);\r\n    alo = cx - ahi;\r\n    c = splitter * ey;\r\n    bhi = c - (c - ey);\r\n    blo = ey - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = ex * cy;\r\n    c = splitter * ex;\r\n    ahi = c - (c - ex);\r\n    alo = ex - ahi;\r\n    c = splitter * cy;\r\n    bhi = c - (c - cy);\r\n    blo = cy - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ce[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ce[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    ce[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    ce[3] = u3;\r\n    s1 = dx * ay;\r\n    c = splitter * dx;\r\n    ahi = c - (c - dx);\r\n    alo = dx - ahi;\r\n    c = splitter * ay;\r\n    bhi = c - (c - ay);\r\n    blo = ay - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = ax * dy;\r\n    c = splitter * ax;\r\n    ahi = c - (c - ax);\r\n    alo = ax - ahi;\r\n    c = splitter * dy;\r\n    bhi = c - (c - dy);\r\n    blo = dy - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    da[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    da[3] = u3;\r\n    s1 = ex * by;\r\n    c = splitter * ex;\r\n    ahi = c - (c - ex);\r\n    alo = ex - ahi;\r\n    c = splitter * by;\r\n    bhi = c - (c - by);\r\n    blo = by - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = bx * ey;\r\n    c = splitter * bx;\r\n    ahi = c - (c - bx);\r\n    alo = bx - ahi;\r\n    c = splitter * ey;\r\n    bhi = c - (c - ey);\r\n    blo = ey - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    eb[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    eb[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    u3 = _j + _i;\r\n    bvirt = u3 - _j;\r\n    eb[2] = _j - (u3 - bvirt) + (_i - bvirt);\r\n    eb[3] = u3;\r\n\r\n    const abclen = sum_three_scale(ab, bc, ac, cz, az, -bz, abc);\r\n    const bcdlen = sum_three_scale(bc, cd, bd, dz, bz, -cz, bcd);\r\n    const cdelen = sum_three_scale(cd, de, ce, ez, cz, -dz, cde);\r\n    const dealen = sum_three_scale(de, ea, da, az, dz, -ez, dea);\r\n    const eablen = sum_three_scale(ea, ab, eb, bz, ez, -az, eab);\r\n    const abdlen = sum_three_scale(ab, bd, da, dz, az, bz, abd);\r\n    const bcelen = sum_three_scale(bc, ce, eb, ez, bz, cz, bce);\r\n    const cdalen = sum_three_scale(cd, da, ac, az, cz, dz, cda);\r\n    const deblen = sum_three_scale(de, eb, bd, bz, dz, ez, deb);\r\n    const eaclen = sum_three_scale(ea, ac, ce, cz, ez, az, eac);\r\n\r\n    const deterlen = sum_three(\r\n        liftexact(cdelen, cde, bcelen, bce, deblen, deb, bcdlen, bcd, ax, ay, az, adet), adet,\r\n        liftexact(dealen, dea, cdalen, cda, eaclen, eac, cdelen, cde, bx, by, bz, bdet), bdet,\r\n        sum_three(\r\n            liftexact(eablen, eab, deblen, deb, abdlen, abd, dealen, dea, cx, cy, cz, cdet), cdet,\r\n            liftexact(abclen, abc, eaclen, eac, bcelen, bce, eablen, eab, dx, dy, dz, ddet), ddet,\r\n            liftexact(bcdlen, bcd, abdlen, abd, cdalen, cda, abclen, abc, ex, ey, ez, edet), edet, cddet, cdedet), cdedet, abdet, deter);\r\n\r\n    return deter[deterlen - 1];\r\n}\r\n\r\nconst xdet = vec(96);\r\nconst ydet = vec(96);\r\nconst zdet = vec(96);\r\nconst fin = vec(1152);\r\n\r\nfunction liftadapt(a, b, c, az, bz, cz, x, y, z, out) {\r\n    const len = sum_three_scale(a, b, c, az, bz, cz, _24);\r\n    return sum_three(\r\n        scale(scale(len, _24, x, _48), _48, x, xdet), xdet,\r\n        scale(scale(len, _24, y, _48), _48, y, ydet), ydet,\r\n        scale(scale(len, _24, z, _48), _48, z, zdet), zdet, _192, out);\r\n}\r\n\r\nfunction insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent) {\r\n    let ab3, bc3, cd3, da3, ac3, bd3;\r\n\r\n    let aextail, bextail, cextail, dextail;\r\n    let aeytail, beytail, ceytail, deytail;\r\n    let aeztail, beztail, ceztail, deztail;\r\n\r\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0;\r\n\r\n    const aex = ax - ex;\r\n    const bex = bx - ex;\r\n    const cex = cx - ex;\r\n    const dex = dx - ex;\r\n    const aey = ay - ey;\r\n    const bey = by - ey;\r\n    const cey = cy - ey;\r\n    const dey = dy - ey;\r\n    const aez = az - ez;\r\n    const bez = bz - ez;\r\n    const cez = cz - ez;\r\n    const dez = dz - ez;\r\n\r\n    s1 = aex * bey;\r\n    c = splitter * aex;\r\n    ahi = c - (c - aex);\r\n    alo = aex - ahi;\r\n    c = splitter * bey;\r\n    bhi = c - (c - bey);\r\n    blo = bey - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = bex * aey;\r\n    c = splitter * bex;\r\n    ahi = c - (c - bex);\r\n    alo = bex - ahi;\r\n    c = splitter * aey;\r\n    bhi = c - (c - aey);\r\n    blo = aey - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    ab3 = _j + _i;\r\n    bvirt = ab3 - _j;\r\n    ab[2] = _j - (ab3 - bvirt) + (_i - bvirt);\r\n    ab[3] = ab3;\r\n    s1 = bex * cey;\r\n    c = splitter * bex;\r\n    ahi = c - (c - bex);\r\n    alo = bex - ahi;\r\n    c = splitter * cey;\r\n    bhi = c - (c - cey);\r\n    blo = cey - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = cex * bey;\r\n    c = splitter * cex;\r\n    ahi = c - (c - cex);\r\n    alo = cex - ahi;\r\n    c = splitter * bey;\r\n    bhi = c - (c - bey);\r\n    blo = bey - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    bc3 = _j + _i;\r\n    bvirt = bc3 - _j;\r\n    bc[2] = _j - (bc3 - bvirt) + (_i - bvirt);\r\n    bc[3] = bc3;\r\n    s1 = cex * dey;\r\n    c = splitter * cex;\r\n    ahi = c - (c - cex);\r\n    alo = cex - ahi;\r\n    c = splitter * dey;\r\n    bhi = c - (c - dey);\r\n    blo = dey - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = dex * cey;\r\n    c = splitter * dex;\r\n    ahi = c - (c - dex);\r\n    alo = dex - ahi;\r\n    c = splitter * cey;\r\n    bhi = c - (c - cey);\r\n    blo = cey - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    cd3 = _j + _i;\r\n    bvirt = cd3 - _j;\r\n    cd[2] = _j - (cd3 - bvirt) + (_i - bvirt);\r\n    cd[3] = cd3;\r\n    s1 = dex * aey;\r\n    c = splitter * dex;\r\n    ahi = c - (c - dex);\r\n    alo = dex - ahi;\r\n    c = splitter * aey;\r\n    bhi = c - (c - aey);\r\n    blo = aey - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = aex * dey;\r\n    c = splitter * aex;\r\n    ahi = c - (c - aex);\r\n    alo = aex - ahi;\r\n    c = splitter * dey;\r\n    bhi = c - (c - dey);\r\n    blo = dey - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    da3 = _j + _i;\r\n    bvirt = da3 - _j;\r\n    da[2] = _j - (da3 - bvirt) + (_i - bvirt);\r\n    da[3] = da3;\r\n    s1 = aex * cey;\r\n    c = splitter * aex;\r\n    ahi = c - (c - aex);\r\n    alo = aex - ahi;\r\n    c = splitter * cey;\r\n    bhi = c - (c - cey);\r\n    blo = cey - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = cex * aey;\r\n    c = splitter * cex;\r\n    ahi = c - (c - cex);\r\n    alo = cex - ahi;\r\n    c = splitter * aey;\r\n    bhi = c - (c - aey);\r\n    blo = aey - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    ac3 = _j + _i;\r\n    bvirt = ac3 - _j;\r\n    ac[2] = _j - (ac3 - bvirt) + (_i - bvirt);\r\n    ac[3] = ac3;\r\n    s1 = bex * dey;\r\n    c = splitter * bex;\r\n    ahi = c - (c - bex);\r\n    alo = bex - ahi;\r\n    c = splitter * dey;\r\n    bhi = c - (c - dey);\r\n    blo = dey - bhi;\r\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    t1 = dex * bey;\r\n    c = splitter * dex;\r\n    ahi = c - (c - dex);\r\n    alo = dex - ahi;\r\n    c = splitter * bey;\r\n    bhi = c - (c - bey);\r\n    blo = bey - bhi;\r\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\r\n    _i = s0 - t0;\r\n    bvirt = s0 - _i;\r\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\r\n    _j = s1 + _i;\r\n    bvirt = _j - s1;\r\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\r\n    _i = _0 - t1;\r\n    bvirt = _0 - _i;\r\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\r\n    bd3 = _j + _i;\r\n    bvirt = bd3 - _j;\r\n    bd[2] = _j - (bd3 - bvirt) + (_i - bvirt);\r\n    bd[3] = bd3;\r\n\r\n    const finlen = sum(\r\n        sum(\r\n            negate(liftadapt(bc, cd, bd, dez, bez, -cez, aex, aey, aez, adet), adet), adet,\r\n            liftadapt(cd, da, ac, aez, cez, dez, bex, bey, bez, bdet), bdet, abdet), abdet,\r\n        sum(\r\n            negate(liftadapt(da, ab, bd, bez, dez, aez, cex, cey, cez, cdet), cdet), cdet,\r\n            liftadapt(ab, bc, ac, cez, aez, -bez, dex, dey, dez, ddet), ddet, cddet), cddet, fin);\r\n\r\n    let det = estimate(finlen, fin);\r\n    let errbound = isperrboundB * permanent;\r\n    if (det >= errbound || -det >= errbound) {\r\n        return det;\r\n    }\r\n\r\n    bvirt = ax - aex;\r\n    aextail = ax - (aex + bvirt) + (bvirt - ex);\r\n    bvirt = ay - aey;\r\n    aeytail = ay - (aey + bvirt) + (bvirt - ey);\r\n    bvirt = az - aez;\r\n    aeztail = az - (aez + bvirt) + (bvirt - ez);\r\n    bvirt = bx - bex;\r\n    bextail = bx - (bex + bvirt) + (bvirt - ex);\r\n    bvirt = by - bey;\r\n    beytail = by - (bey + bvirt) + (bvirt - ey);\r\n    bvirt = bz - bez;\r\n    beztail = bz - (bez + bvirt) + (bvirt - ez);\r\n    bvirt = cx - cex;\r\n    cextail = cx - (cex + bvirt) + (bvirt - ex);\r\n    bvirt = cy - cey;\r\n    ceytail = cy - (cey + bvirt) + (bvirt - ey);\r\n    bvirt = cz - cez;\r\n    ceztail = cz - (cez + bvirt) + (bvirt - ez);\r\n    bvirt = dx - dex;\r\n    dextail = dx - (dex + bvirt) + (bvirt - ex);\r\n    bvirt = dy - dey;\r\n    deytail = dy - (dey + bvirt) + (bvirt - ey);\r\n    bvirt = dz - dez;\r\n    deztail = dz - (dez + bvirt) + (bvirt - ez);\r\n    if (aextail === 0 && aeytail === 0 && aeztail === 0 &&\r\n        bextail === 0 && beytail === 0 && beztail === 0 &&\r\n        cextail === 0 && ceytail === 0 && ceztail === 0 &&\r\n        dextail === 0 && deytail === 0 && deztail === 0) {\r\n        return det;\r\n    }\r\n\r\n    errbound = isperrboundC * permanent + resulterrbound * Math.abs(det);\r\n\r\n    const abeps = (aex * beytail + bey * aextail) - (aey * bextail + bex * aeytail);\r\n    const bceps = (bex * ceytail + cey * bextail) - (bey * cextail + cex * beytail);\r\n    const cdeps = (cex * deytail + dey * cextail) - (cey * dextail + dex * ceytail);\r\n    const daeps = (dex * aeytail + aey * dextail) - (dey * aextail + aex * deytail);\r\n    const aceps = (aex * ceytail + cey * aextail) - (aey * cextail + cex * aeytail);\r\n    const bdeps = (bex * deytail + dey * bextail) - (bey * dextail + dex * beytail);\r\n    det +=\r\n        (((bex * bex + bey * bey + bez * bez) * ((cez * daeps + dez * aceps + aez * cdeps) +\r\n        (ceztail * da3 + deztail * ac3 + aeztail * cd3)) + (dex * dex + dey * dey + dez * dez) *\r\n        ((aez * bceps - bez * aceps + cez * abeps) + (aeztail * bc3 - beztail * ac3 + ceztail * ab3))) -\r\n        ((aex * aex + aey * aey + aez * aez) * ((bez * cdeps - cez * bdeps + dez * bceps) +\r\n        (beztail * cd3 - ceztail * bd3 + deztail * bc3)) + (cex * cex + cey * cey + cez * cez) *\r\n        ((dez * abeps + aez * bdeps + bez * daeps) + (deztail * ab3 + aeztail * bd3 + beztail * da3)))) +\r\n        2 * (((bex * bextail + bey * beytail + bez * beztail) * (cez * da3 + dez * ac3 + aez * cd3) +\r\n        (dex * dextail + dey * deytail + dez * deztail) * (aez * bc3 - bez * ac3 + cez * ab3)) -\r\n        ((aex * aextail + aey * aeytail + aez * aeztail) * (bez * cd3 - cez * bd3 + dez * bc3) +\r\n        (cex * cextail + cey * ceytail + cez * ceztail) * (dez * ab3 + aez * bd3 + bez * da3)));\r\n\r\n    if (det >= errbound || -det >= errbound) {\r\n        return det;\r\n    }\r\n\r\n    return insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez);\r\n}\r\n\r\nexport function insphere(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\r\n    const aex = ax - ex;\r\n    const bex = bx - ex;\r\n    const cex = cx - ex;\r\n    const dex = dx - ex;\r\n    const aey = ay - ey;\r\n    const bey = by - ey;\r\n    const cey = cy - ey;\r\n    const dey = dy - ey;\r\n    const aez = az - ez;\r\n    const bez = bz - ez;\r\n    const cez = cz - ez;\r\n    const dez = dz - ez;\r\n\r\n    const aexbey = aex * bey;\r\n    const bexaey = bex * aey;\r\n    const ab = aexbey - bexaey;\r\n    const bexcey = bex * cey;\r\n    const cexbey = cex * bey;\r\n    const bc = bexcey - cexbey;\r\n    const cexdey = cex * dey;\r\n    const dexcey = dex * cey;\r\n    const cd = cexdey - dexcey;\r\n    const dexaey = dex * aey;\r\n    const aexdey = aex * dey;\r\n    const da = dexaey - aexdey;\r\n    const aexcey = aex * cey;\r\n    const cexaey = cex * aey;\r\n    const ac = aexcey - cexaey;\r\n    const bexdey = bex * dey;\r\n    const dexbey = dex * bey;\r\n    const bd = bexdey - dexbey;\r\n\r\n    const alift = aex * aex + aey * aey + aez * aez;\r\n    const blift = bex * bex + bey * bey + bez * bez;\r\n    const clift = cex * cex + cey * cey + cez * cez;\r\n    const dlift = dex * dex + dey * dey + dez * dez;\r\n\r\n    const det =\r\n        (clift * (dez * ab + aez * bd + bez * da) - dlift * (aez * bc - bez * ac + cez * ab)) +\r\n        (alift * (bez * cd - cez * bd + dez * bc) - blift * (cez * da + dez * ac + aez * cd));\r\n\r\n    const aezplus = Math.abs(aez);\r\n    const bezplus = Math.abs(bez);\r\n    const cezplus = Math.abs(cez);\r\n    const dezplus = Math.abs(dez);\r\n    const aexbeyplus = Math.abs(aexbey) + Math.abs(bexaey);\r\n    const bexceyplus = Math.abs(bexcey) + Math.abs(cexbey);\r\n    const cexdeyplus = Math.abs(cexdey) + Math.abs(dexcey);\r\n    const dexaeyplus = Math.abs(dexaey) + Math.abs(aexdey);\r\n    const aexceyplus = Math.abs(aexcey) + Math.abs(cexaey);\r\n    const bexdeyplus = Math.abs(bexdey) + Math.abs(dexbey);\r\n    const permanent =\r\n        (cexdeyplus * bezplus + bexdeyplus * cezplus + bexceyplus * dezplus) * alift +\r\n        (dexaeyplus * cezplus + aexceyplus * dezplus + cexdeyplus * aezplus) * blift +\r\n        (aexbeyplus * dezplus + bexdeyplus * aezplus + dexaeyplus * bezplus) * clift +\r\n        (bexceyplus * aezplus + aexceyplus * bezplus + aexbeyplus * cezplus) * dlift;\r\n\r\n    const errbound = isperrboundA * permanent;\r\n    if (det > errbound || -det > errbound) {\r\n        return det;\r\n    }\r\n    return -insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent);\r\n}\r\n\r\nexport function inspherefast(pax, pay, paz, pbx, pby, pbz, pcx, pcy, pcz, pdx, pdy, pdz, pex, pey, pez) {\r\n    const aex = pax - pex;\r\n    const bex = pbx - pex;\r\n    const cex = pcx - pex;\r\n    const dex = pdx - pex;\r\n    const aey = pay - pey;\r\n    const bey = pby - pey;\r\n    const cey = pcy - pey;\r\n    const dey = pdy - pey;\r\n    const aez = paz - pez;\r\n    const bez = pbz - pez;\r\n    const cez = pcz - pez;\r\n    const dez = pdz - pez;\r\n\r\n    const ab = aex * bey - bex * aey;\r\n    const bc = bex * cey - cex * bey;\r\n    const cd = cex * dey - dex * cey;\r\n    const da = dex * aey - aex * dey;\r\n    const ac = aex * cey - cex * aey;\r\n    const bd = bex * dey - dex * bey;\r\n\r\n    const abc = aez * bc - bez * ac + cez * ab;\r\n    const bcd = bez * cd - cez * bd + dez * bc;\r\n    const cda = cez * da + dez * ac + aez * cd;\r\n    const dab = dez * ab + aez * bd + bez * da;\r\n\r\n    const alift = aex * aex + aey * aey + aez * aez;\r\n    const blift = bex * bex + bey * bey + bez * bez;\r\n    const clift = cex * cex + cey * cey + cez * cez;\r\n    const dlift = dex * dex + dey * dey + dez * dez;\r\n\r\n    return (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\r\n}\r\n", "\r\nconst EPSILON = Math.pow(2, -52);\r\nconst EDGE_STACK = new Uint32Array(512);\r\n\r\nimport {orient2d} from 'robust-predicates';\r\n\r\nexport default class Delaunator {\r\n\r\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\r\n        const n = points.length;\r\n        const coords = new Float64Array(n * 2);\r\n\r\n        for (let i = 0; i < n; i++) {\r\n            const p = points[i];\r\n            coords[2 * i] = getX(p);\r\n            coords[2 * i + 1] = getY(p);\r\n        }\r\n\r\n        return new Delaunator(coords);\r\n    }\r\n\r\n    constructor(coords) {\r\n        const n = coords.length >> 1;\r\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\r\n\r\n        this.coords = coords;\r\n\r\n        // arrays that will store the triangulation graph\r\n        const maxTriangles = Math.max(2 * n - 5, 0);\r\n        this._triangles = new Uint32Array(maxTriangles * 3);\r\n        this._halfedges = new Int32Array(maxTriangles * 3);\r\n\r\n        // temporary arrays for tracking the edges of the advancing convex hull\r\n        this._hashSize = Math.ceil(Math.sqrt(n));\r\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\r\n        this._hullNext = new Uint32Array(n); // edge to next edge\r\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\r\n        this._hullHash = new Int32Array(this._hashSize); // angular edge hash\r\n\r\n        // temporary arrays for sorting points\r\n        this._ids = new Uint32Array(n);\r\n        this._dists = new Float64Array(n);\r\n\r\n        this.update();\r\n    }\r\n\r\n    update() {\r\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\r\n        const n = coords.length >> 1;\r\n\r\n        // populate an array of point indices; calculate input data bbox\r\n        let minX = Infinity;\r\n        let minY = Infinity;\r\n        let maxX = -Infinity;\r\n        let maxY = -Infinity;\r\n\r\n        for (let i = 0; i < n; i++) {\r\n            const x = coords[2 * i];\r\n            const y = coords[2 * i + 1];\r\n            if (x < minX) minX = x;\r\n            if (y < minY) minY = y;\r\n            if (x > maxX) maxX = x;\r\n            if (y > maxY) maxY = y;\r\n            this._ids[i] = i;\r\n        }\r\n        const cx = (minX + maxX) / 2;\r\n        const cy = (minY + maxY) / 2;\r\n\r\n        let i0, i1, i2;\r\n\r\n        // pick a seed point close to the center\r\n        for (let i = 0, minDist = Infinity; i < n; i++) {\r\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\r\n            if (d < minDist) {\r\n                i0 = i;\r\n                minDist = d;\r\n            }\r\n        }\r\n        const i0x = coords[2 * i0];\r\n        const i0y = coords[2 * i0 + 1];\r\n\r\n        // find the point closest to the seed\r\n        for (let i = 0, minDist = Infinity; i < n; i++) {\r\n            if (i === i0) continue;\r\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\r\n            if (d < minDist && d > 0) {\r\n                i1 = i;\r\n                minDist = d;\r\n            }\r\n        }\r\n        let i1x = coords[2 * i1];\r\n        let i1y = coords[2 * i1 + 1];\r\n\r\n        let minRadius = Infinity;\r\n\r\n        // find the third point which forms the smallest circumcircle with the first two\r\n        for (let i = 0; i < n; i++) {\r\n            if (i === i0 || i === i1) continue;\r\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\r\n            if (r < minRadius) {\r\n                i2 = i;\r\n                minRadius = r;\r\n            }\r\n        }\r\n        let i2x = coords[2 * i2];\r\n        let i2y = coords[2 * i2 + 1];\r\n\r\n        if (minRadius === Infinity) {\r\n            // order collinear points by dx (or dy if all x are identical)\r\n            // and return the list as a hull\r\n            for (let i = 0; i < n; i++) {\r\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\r\n            }\r\n            quicksort(this._ids, this._dists, 0, n - 1);\r\n            const hull = new Uint32Array(n);\r\n            let j = 0;\r\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\r\n                const id = this._ids[i];\r\n                const d = this._dists[id];\r\n                if (d > d0) {\r\n                    hull[j++] = id;\r\n                    d0 = d;\r\n                }\r\n            }\r\n            this.hull = hull.subarray(0, j);\r\n            this.triangles = new Uint32Array(0);\r\n            this.halfedges = new Uint32Array(0);\r\n            return;\r\n        }\r\n\r\n        // swap the order of the seed points for counter-clockwise orientation\r\n        if (orient2d(i0x, i0y, i1x, i1y, i2x, i2y) < 0) {\r\n            const i = i1;\r\n            const x = i1x;\r\n            const y = i1y;\r\n            i1 = i2;\r\n            i1x = i2x;\r\n            i1y = i2y;\r\n            i2 = i;\r\n            i2x = x;\r\n            i2y = y;\r\n        }\r\n\r\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\r\n        this._cx = center.x;\r\n        this._cy = center.y;\r\n\r\n        for (let i = 0; i < n; i++) {\r\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\r\n        }\r\n\r\n        // sort the points by distance from the seed triangle circumcenter\r\n        quicksort(this._ids, this._dists, 0, n - 1);\r\n\r\n        // set up the seed triangle as the starting hull\r\n        this._hullStart = i0;\r\n        let hullSize = 3;\r\n\r\n        hullNext[i0] = hullPrev[i2] = i1;\r\n        hullNext[i1] = hullPrev[i0] = i2;\r\n        hullNext[i2] = hullPrev[i1] = i0;\r\n\r\n        hullTri[i0] = 0;\r\n        hullTri[i1] = 1;\r\n        hullTri[i2] = 2;\r\n\r\n        hullHash.fill(-1);\r\n        hullHash[this._hashKey(i0x, i0y)] = i0;\r\n        hullHash[this._hashKey(i1x, i1y)] = i1;\r\n        hullHash[this._hashKey(i2x, i2y)] = i2;\r\n\r\n        this.trianglesLen = 0;\r\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\r\n\r\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\r\n            const i = this._ids[k];\r\n            const x = coords[2 * i];\r\n            const y = coords[2 * i + 1];\r\n\r\n            // skip near-duplicate points\r\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\r\n            xp = x;\r\n            yp = y;\r\n\r\n            // skip seed triangle points\r\n            if (i === i0 || i === i1 || i === i2) continue;\r\n\r\n            // find a visible edge on the convex hull using edge hash\r\n            let start = 0;\r\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\r\n                start = hullHash[(key + j) % this._hashSize];\r\n                if (start !== -1 && start !== hullNext[start]) break;\r\n            }\r\n\r\n            start = hullPrev[start];\r\n            let e = start, q;\r\n            while (q = hullNext[e], orient2d(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1]) >= 0) {\r\n                e = q;\r\n                if (e === start) {\r\n                    e = -1;\r\n                    break;\r\n                }\r\n            }\r\n            if (e === -1) continue; // likely a near-duplicate point; skip it\r\n\r\n            // add the first triangle from the point\r\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\r\n\r\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\r\n            hullTri[i] = this._legalize(t + 2);\r\n            hullTri[e] = t; // keep track of boundary triangles on the hull\r\n            hullSize++;\r\n\r\n            // walk forward through the hull, adding more triangles and flipping recursively\r\n            let n = hullNext[e];\r\n            while (q = hullNext[n], orient2d(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1]) < 0) {\r\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\r\n                hullTri[i] = this._legalize(t + 2);\r\n                hullNext[n] = n; // mark as removed\r\n                hullSize--;\r\n                n = q;\r\n            }\r\n\r\n            // walk backward from the other side, adding more triangles and flipping\r\n            if (e === start) {\r\n                while (q = hullPrev[e], orient2d(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1]) < 0) {\r\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\r\n                    this._legalize(t + 2);\r\n                    hullTri[q] = t;\r\n                    hullNext[e] = e; // mark as removed\r\n                    hullSize--;\r\n                    e = q;\r\n                }\r\n            }\r\n\r\n            // update the hull indices\r\n            this._hullStart = hullPrev[i] = e;\r\n            hullNext[e] = hullPrev[n] = i;\r\n            hullNext[i] = n;\r\n\r\n            // save the two new edges in the hash table\r\n            hullHash[this._hashKey(x, y)] = i;\r\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\r\n        }\r\n\r\n        this.hull = new Uint32Array(hullSize);\r\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\r\n            this.hull[i] = e;\r\n            e = hullNext[e];\r\n        }\r\n\r\n        // trim typed triangle mesh arrays\r\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\r\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\r\n    }\r\n\r\n    _hashKey(x, y) {\r\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\r\n    }\r\n\r\n    _legalize(a) {\r\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\r\n\r\n        let i = 0;\r\n        let ar = 0;\r\n\r\n        // recursion eliminated with a fixed-size stack\r\n        while (true) {\r\n            const b = halfedges[a];\r\n\r\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\r\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\r\n             * then do the same check/flip recursively for the new pair of triangles\r\n             *\r\n             *           pl                    pl\r\n             *          /||\\                  /  \\\r\n             *       al/ || \\bl            al/    \\a\r\n             *        /  ||  \\              /      \\\r\n             *       /  a||b  \\    flip    /___ar___\\\r\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\r\n             *        \\  ||  /              \\      /\r\n             *       ar\\ || /br             b\\    /br\r\n             *          \\||/                  \\  /\r\n             *           pr                    pr\r\n             */\r\n            const a0 = a - a % 3;\r\n            ar = a0 + (a + 2) % 3;\r\n\r\n            if (b === -1) { // convex hull edge\r\n                if (i === 0) break;\r\n                a = EDGE_STACK[--i];\r\n                continue;\r\n            }\r\n\r\n            const b0 = b - b % 3;\r\n            const al = a0 + (a + 1) % 3;\r\n            const bl = b0 + (b + 2) % 3;\r\n\r\n            const p0 = triangles[ar];\r\n            const pr = triangles[a];\r\n            const pl = triangles[al];\r\n            const p1 = triangles[bl];\r\n\r\n            const illegal = inCircle(\r\n                coords[2 * p0], coords[2 * p0 + 1],\r\n                coords[2 * pr], coords[2 * pr + 1],\r\n                coords[2 * pl], coords[2 * pl + 1],\r\n                coords[2 * p1], coords[2 * p1 + 1]);\r\n\r\n            if (illegal) {\r\n                triangles[a] = p1;\r\n                triangles[b] = p0;\r\n\r\n                const hbl = halfedges[bl];\r\n\r\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\r\n                if (hbl === -1) {\r\n                    let e = this._hullStart;\r\n                    do {\r\n                        if (this._hullTri[e] === bl) {\r\n                            this._hullTri[e] = a;\r\n                            break;\r\n                        }\r\n                        e = this._hullPrev[e];\r\n                    } while (e !== this._hullStart);\r\n                }\r\n                this._link(a, hbl);\r\n                this._link(b, halfedges[ar]);\r\n                this._link(ar, bl);\r\n\r\n                const br = b0 + (b + 1) % 3;\r\n\r\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\r\n                if (i < EDGE_STACK.length) {\r\n                    EDGE_STACK[i++] = br;\r\n                }\r\n            } else {\r\n                if (i === 0) break;\r\n                a = EDGE_STACK[--i];\r\n            }\r\n        }\r\n\r\n        return ar;\r\n    }\r\n\r\n    _link(a, b) {\r\n        this._halfedges[a] = b;\r\n        if (b !== -1) this._halfedges[b] = a;\r\n    }\r\n\r\n    // add a new triangle given vertex indices and adjacent half-edge ids\r\n    _addTriangle(i0, i1, i2, a, b, c) {\r\n        const t = this.trianglesLen;\r\n\r\n        this._triangles[t] = i0;\r\n        this._triangles[t + 1] = i1;\r\n        this._triangles[t + 2] = i2;\r\n\r\n        this._link(t, a);\r\n        this._link(t + 1, b);\r\n        this._link(t + 2, c);\r\n\r\n        this.trianglesLen += 3;\r\n\r\n        return t;\r\n    }\r\n}\r\n\r\n// monotonically increases with real angle, but doesn't need expensive trigonometry\r\nfunction pseudoAngle(dx, dy) {\r\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\r\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\r\n}\r\n\r\nfunction dist(ax, ay, bx, by) {\r\n    const dx = ax - bx;\r\n    const dy = ay - by;\r\n    return dx * dx + dy * dy;\r\n}\r\n\r\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\r\n    const dx = ax - px;\r\n    const dy = ay - py;\r\n    const ex = bx - px;\r\n    const ey = by - py;\r\n    const fx = cx - px;\r\n    const fy = cy - py;\r\n\r\n    const ap = dx * dx + dy * dy;\r\n    const bp = ex * ex + ey * ey;\r\n    const cp = fx * fx + fy * fy;\r\n\r\n    return dx * (ey * cp - bp * fy) -\r\n           dy * (ex * cp - bp * fx) +\r\n           ap * (ex * fy - ey * fx) < 0;\r\n}\r\n\r\nfunction circumradius(ax, ay, bx, by, cx, cy) {\r\n    const dx = bx - ax;\r\n    const dy = by - ay;\r\n    const ex = cx - ax;\r\n    const ey = cy - ay;\r\n\r\n    const bl = dx * dx + dy * dy;\r\n    const cl = ex * ex + ey * ey;\r\n    const d = 0.5 / (dx * ey - dy * ex);\r\n\r\n    const x = (ey * bl - dy * cl) * d;\r\n    const y = (dx * cl - ex * bl) * d;\r\n\r\n    return x * x + y * y;\r\n}\r\n\r\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\r\n    const dx = bx - ax;\r\n    const dy = by - ay;\r\n    const ex = cx - ax;\r\n    const ey = cy - ay;\r\n\r\n    const bl = dx * dx + dy * dy;\r\n    const cl = ex * ex + ey * ey;\r\n    const d = 0.5 / (dx * ey - dy * ex);\r\n\r\n    const x = ax + (ey * bl - dy * cl) * d;\r\n    const y = ay + (dx * cl - ex * bl) * d;\r\n\r\n    return {x, y};\r\n}\r\n\r\nfunction quicksort(ids, dists, left, right) {\r\n    if (right - left <= 20) {\r\n        for (let i = left + 1; i <= right; i++) {\r\n            const temp = ids[i];\r\n            const tempDist = dists[temp];\r\n            let j = i - 1;\r\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\r\n            ids[j + 1] = temp;\r\n        }\r\n    } else {\r\n        const median = (left + right) >> 1;\r\n        let i = left + 1;\r\n        let j = right;\r\n        swap(ids, median, i);\r\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\r\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\r\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\r\n\r\n        const temp = ids[i];\r\n        const tempDist = dists[temp];\r\n        while (true) {\r\n            do i++; while (dists[ids[i]] < tempDist);\r\n            do j--; while (dists[ids[j]] > tempDist);\r\n            if (j < i) break;\r\n            swap(ids, i, j);\r\n        }\r\n        ids[left + 1] = ids[j];\r\n        ids[j] = temp;\r\n\r\n        if (right - i + 1 >= j - left) {\r\n            quicksort(ids, dists, i, right);\r\n            quicksort(ids, dists, left, j - 1);\r\n        } else {\r\n            quicksort(ids, dists, left, j - 1);\r\n            quicksort(ids, dists, i, right);\r\n        }\r\n    }\r\n}\r\n\r\nfunction swap(arr, i, j) {\r\n    const tmp = arr[i];\r\n    arr[i] = arr[j];\r\n    arr[j] = tmp;\r\n}\r\n\r\nfunction defaultGetX(p) {\r\n    return p[0];\r\n}\r\nfunction defaultGetY(p) {\r\n    return p[1];\r\n}\r\n", "const epsilon = 1e-6;\r\n\r\nexport default class Path {\r\n  constructor() {\r\n    this._x0 = this._y0 = // start of current subpath\r\n    this._x1 = this._y1 = null; // end of current subpath\r\n    this._ = \"\";\r\n  }\r\n  moveTo(x, y) {\r\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\r\n  }\r\n  closePath() {\r\n    if (this._x1 !== null) {\r\n      this._x1 = this._x0, this._y1 = this._y0;\r\n      this._ += \"Z\";\r\n    }\r\n  }\r\n  lineTo(x, y) {\r\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\r\n  }\r\n  arc(x, y, r) {\r\n    x = +x, y = +y, r = +r;\r\n    const x0 = x + r;\r\n    const y0 = y;\r\n    if (r < 0) throw new Error(\"negative radius\");\r\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\r\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\r\n    if (!r) return;\r\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\r\n  }\r\n  rect(x, y, w, h) {\r\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\r\n  }\r\n  value() {\r\n    return this._ || null;\r\n  }\r\n}\r\n", "export default class Polygon {\r\n  constructor() {\r\n    this._ = [];\r\n  }\r\n  moveTo(x, y) {\r\n    this._.push([x, y]);\r\n  }\r\n  closePath() {\r\n    this._.push(this._[0].slice());\r\n  }\r\n  lineTo(x, y) {\r\n    this._.push([x, y]);\r\n  }\r\n  value() {\r\n    return this._.length ? this._ : null;\r\n  }\r\n}\r\n", "import Path from \"./path.js\";\r\nimport Polygon from \"./polygon.js\";\r\n\r\nexport default class Voronoi {\r\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\r\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\r\n    this.delaunay = delaunay;\r\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\r\n    this.vectors = new Float64Array(delaunay.points.length * 2);\r\n    this.xmax = xmax, this.xmin = xmin;\r\n    this.ymax = ymax, this.ymin = ymin;\r\n    this._init();\r\n  }\r\n  update() {\r\n    this.delaunay.update();\r\n    this._init();\r\n    return this;\r\n  }\r\n  _init() {\r\n    const {delaunay: {points, hull, triangles}, vectors} = this;\r\n    let bx, by; // lazily computed barycenter of the hull\r\n\r\n    // Compute circumcenters.\r\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\r\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\r\n      const t1 = triangles[i] * 2;\r\n      const t2 = triangles[i + 1] * 2;\r\n      const t3 = triangles[i + 2] * 2;\r\n      const x1 = points[t1];\r\n      const y1 = points[t1 + 1];\r\n      const x2 = points[t2];\r\n      const y2 = points[t2 + 1];\r\n      const x3 = points[t3];\r\n      const y3 = points[t3 + 1];\r\n\r\n      const dx = x2 - x1;\r\n      const dy = y2 - y1;\r\n      const ex = x3 - x1;\r\n      const ey = y3 - y1;\r\n      const ab = (dx * ey - dy * ex) * 2;\r\n\r\n      if (Math.abs(ab) < 1e-9) {\r\n        // For a degenerate triangle, the circumcenter is at the infinity, in a\r\n        // direction orthogonal to the halfedge and away from the center of\r\n        // the diagram <bx, by>, defined as the hulls barycenter.\r\n        if (bx === undefined) {\r\n          bx = by = 0;\r\n          for (const i of hull) bx += points[i * 2], by += points[i * 2 + 1];\r\n          bx /= hull.length, by /= hull.length;\r\n        }\r\n        const a = 1e9 * Math.sign((bx - x1) * ey - (by - y1) * ex);\r\n        x = (x1 + x3) / 2 - a * ey;\r\n        y = (y1 + y3) / 2 + a * ex;\r\n      } else {\r\n        const d = 1 / ab;\r\n        const bl = dx * dx + dy * dy;\r\n        const cl = ex * ex + ey * ey;\r\n        x = x1 + (ey * bl - dy * cl) * d;\r\n        y = y1 + (dx * cl - ex * bl) * d;\r\n      }\r\n      circumcenters[j] = x;\r\n      circumcenters[j + 1] = y;\r\n    }\r\n\r\n    // Compute exterior cell rays.\r\n    let h = hull[hull.length - 1];\r\n    let p0, p1 = h * 4;\r\n    let x0, x1 = points[2 * h];\r\n    let y0, y1 = points[2 * h + 1];\r\n    vectors.fill(0);\r\n    for (let i = 0; i < hull.length; ++i) {\r\n      h = hull[i];\r\n      p0 = p1, x0 = x1, y0 = y1;\r\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\r\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\r\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\r\n    }\r\n  }\r\n  render(context) {\r\n    const buffer = context == null ? context = new Path : undefined;\r\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\r\n    if (hull.length <= 1) return null;\r\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\r\n      const j = halfedges[i];\r\n      if (j < i) continue;\r\n      const ti = Math.floor(i / 3) * 2;\r\n      const tj = Math.floor(j / 3) * 2;\r\n      const xi = circumcenters[ti];\r\n      const yi = circumcenters[ti + 1];\r\n      const xj = circumcenters[tj];\r\n      const yj = circumcenters[tj + 1];\r\n      this._renderSegment(xi, yi, xj, yj, context);\r\n    }\r\n    let h0, h1 = hull[hull.length - 1];\r\n    for (let i = 0; i < hull.length; ++i) {\r\n      h0 = h1, h1 = hull[i];\r\n      const t = Math.floor(inedges[h1] / 3) * 2;\r\n      const x = circumcenters[t];\r\n      const y = circumcenters[t + 1];\r\n      const v = h0 * 4;\r\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\r\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\r\n    }\r\n    return buffer && buffer.value();\r\n  }\r\n  renderBounds(context) {\r\n    const buffer = context == null ? context = new Path : undefined;\r\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\r\n    return buffer && buffer.value();\r\n  }\r\n  renderCell(i, context) {\r\n    const buffer = context == null ? context = new Path : undefined;\r\n    const points = this._clip(i);\r\n    if (points === null || !points.length) return;\r\n    context.moveTo(points[0], points[1]);\r\n    let n = points.length;\r\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\r\n    for (let i = 2; i < n; i += 2) {\r\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\r\n        context.lineTo(points[i], points[i + 1]);\r\n    }\r\n    context.closePath();\r\n    return buffer && buffer.value();\r\n  }\r\n  *cellPolygons() {\r\n    const {delaunay: {points}} = this;\r\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\r\n      const cell = this.cellPolygon(i);\r\n      if (cell) cell.index = i, yield cell;\r\n    }\r\n  }\r\n  cellPolygon(i) {\r\n    const polygon = new Polygon;\r\n    this.renderCell(i, polygon);\r\n    return polygon.value();\r\n  }\r\n  _renderSegment(x0, y0, x1, y1, context) {\r\n    let S;\r\n    const c0 = this._regioncode(x0, y0);\r\n    const c1 = this._regioncode(x1, y1);\r\n    if (c0 === 0 && c1 === 0) {\r\n      context.moveTo(x0, y0);\r\n      context.lineTo(x1, y1);\r\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\r\n      context.moveTo(S[0], S[1]);\r\n      context.lineTo(S[2], S[3]);\r\n    }\r\n  }\r\n  contains(i, x, y) {\r\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\r\n    return this.delaunay._step(i, x, y) === i;\r\n  }\r\n  *neighbors(i) {\r\n    const ci = this._clip(i);\r\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\r\n      const cj = this._clip(j);\r\n      // find the common edge\r\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\r\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\r\n          if (ci[ai] === cj[aj]\r\n              && ci[ai + 1] === cj[aj + 1]\r\n              && ci[(ai + 2) % li] === cj[(aj + lj - 2) % lj]\r\n              && ci[(ai + 3) % li] === cj[(aj + lj - 1) % lj]) {\r\n            yield j;\r\n            break loop;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  _cell(i) {\r\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\r\n    const e0 = inedges[i];\r\n    if (e0 === -1) return null; // coincident point\r\n    const points = [];\r\n    let e = e0;\r\n    do {\r\n      const t = Math.floor(e / 3);\r\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\r\n      e = e % 3 === 2 ? e - 2 : e + 1;\r\n      if (triangles[e] !== i) break; // bad triangulation\r\n      e = halfedges[e];\r\n    } while (e !== e0 && e !== -1);\r\n    return points;\r\n  }\r\n  _clip(i) {\r\n    // degenerate case (1 valid point: return the box)\r\n    if (i === 0 && this.delaunay.hull.length === 1) {\r\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\r\n    }\r\n    const points = this._cell(i);\r\n    if (points === null) return null;\r\n    const {vectors: V} = this;\r\n    const v = i * 4;\r\n    return this._simplify(V[v] || V[v + 1]\r\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\r\n        : this._clipFinite(i, points));\r\n  }\r\n  _clipFinite(i, points) {\r\n    const n = points.length;\r\n    let P = null;\r\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\r\n    let c0, c1 = this._regioncode(x1, y1);\r\n    let e0, e1 = 0;\r\n    for (let j = 0; j < n; j += 2) {\r\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\r\n      c0 = c1, c1 = this._regioncode(x1, y1);\r\n      if (c0 === 0 && c1 === 0) {\r\n        e0 = e1, e1 = 0;\r\n        if (P) P.push(x1, y1);\r\n        else P = [x1, y1];\r\n      } else {\r\n        let S, sx0, sy0, sx1, sy1;\r\n        if (c0 === 0) {\r\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\r\n          [sx0, sy0, sx1, sy1] = S;\r\n        } else {\r\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\r\n          [sx1, sy1, sx0, sy0] = S;\r\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\r\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\r\n          if (P) P.push(sx0, sy0);\r\n          else P = [sx0, sy0];\r\n        }\r\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\r\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\r\n        if (P) P.push(sx1, sy1);\r\n        else P = [sx1, sy1];\r\n      }\r\n    }\r\n    if (P) {\r\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\r\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\r\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\r\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\r\n    }\r\n    return P;\r\n  }\r\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\r\n    // for more robustness, always consider the segment in the same order\r\n    const flip = c0 < c1;\r\n    if (flip) [x0, y0, x1, y1, c0, c1] = [x1, y1, x0, y0, c1, c0];\r\n    while (true) {\r\n      if (c0 === 0 && c1 === 0) return flip ? [x1, y1, x0, y0] : [x0, y0, x1, y1];\r\n      if (c0 & c1) return null;\r\n      let x, y, c = c0 || c1;\r\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\r\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\r\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\r\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\r\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\r\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\r\n    }\r\n  }\r\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\r\n    let P = Array.from(points), p;\r\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\r\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\r\n    if (P = this._clipFinite(i, P)) {\r\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\r\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\r\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\r\n      }\r\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\r\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\r\n    }\r\n    return P;\r\n  }\r\n  _edge(i, e0, e1, P, j) {\r\n    while (e0 !== e1) {\r\n      let x, y;\r\n      switch (e0) {\r\n        case 0b0101: e0 = 0b0100; continue; // top-left\r\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\r\n        case 0b0110: e0 = 0b0010; continue; // top-right\r\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\r\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\r\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\r\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\r\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\r\n      }\r\n      // Note: this implicitly checks for out of bounds: if P[j] or P[j+1] are\r\n      // undefined, the conditional statement will be executed.\r\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\r\n        P.splice(j, 0, x, y), j += 2;\r\n      }\r\n    }\r\n    return j;\r\n  }\r\n  _project(x0, y0, vx, vy) {\r\n    let t = Infinity, c, x, y;\r\n    if (vy < 0) { // top\r\n      if (y0 <= this.ymin) return null;\r\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\r\n    } else if (vy > 0) { // bottom\r\n      if (y0 >= this.ymax) return null;\r\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\r\n    }\r\n    if (vx > 0) { // right\r\n      if (x0 >= this.xmax) return null;\r\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\r\n    } else if (vx < 0) { // left\r\n      if (x0 <= this.xmin) return null;\r\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\r\n    }\r\n    return [x, y];\r\n  }\r\n  _edgecode(x, y) {\r\n    return (x === this.xmin ? 0b0001\r\n        : x === this.xmax ? 0b0010 : 0b0000)\r\n        | (y === this.ymin ? 0b0100\r\n        : y === this.ymax ? 0b1000 : 0b0000);\r\n  }\r\n  _regioncode(x, y) {\r\n    return (x < this.xmin ? 0b0001\r\n        : x > this.xmax ? 0b0010 : 0b0000)\r\n        | (y < this.ymin ? 0b0100\r\n        : y > this.ymax ? 0b1000 : 0b0000);\r\n  }\r\n  _simplify(P) {\r\n    if (P && P.length > 4) {\r\n      for (let i = 0; i < P.length; i+= 2) {\r\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\r\n        if (P[i] === P[j] && P[j] === P[k] || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1]) {\r\n          P.splice(j, 2), i -= 2;\r\n        }\r\n      }\r\n      if (!P.length) P = null;\r\n    }\r\n    return P;\r\n  }\r\n}\r\n", "import Delaunator from \"delaunator\";\r\nimport Path from \"./path.js\";\r\nimport Polygon from \"./polygon.js\";\r\nimport Voronoi from \"./voronoi.js\";\r\n\r\nconst tau = 2 * Math.PI, pow = Math.pow;\r\n\r\nfunction pointX(p) {\r\n  return p[0];\r\n}\r\n\r\nfunction pointY(p) {\r\n  return p[1];\r\n}\r\n\r\n// A triangulation is collinear if all its triangles have a non-null area\r\nfunction collinear(d) {\r\n  const {triangles, coords} = d;\r\n  for (let i = 0; i < triangles.length; i += 3) {\r\n    const a = 2 * triangles[i],\r\n          b = 2 * triangles[i + 1],\r\n          c = 2 * triangles[i + 2],\r\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\r\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\r\n    if (cross > 1e-10) return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction jitter(x, y, r) {\r\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\r\n}\r\n\r\nexport default class Delaunay {\r\n  static from(points, fx = pointX, fy = pointY, that) {\r\n    return new Delaunay(\"length\" in points\r\n        ? flatArray(points, fx, fy, that)\r\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\r\n  }\r\n  constructor(points) {\r\n    this._delaunator = new Delaunator(points);\r\n    this.inedges = new Int32Array(points.length / 2);\r\n    this._hullIndex = new Int32Array(points.length / 2);\r\n    this.points = this._delaunator.coords;\r\n    this._init();\r\n  }\r\n  update() {\r\n    this._delaunator.update();\r\n    this._init();\r\n    return this;\r\n  }\r\n  _init() {\r\n    const d = this._delaunator, points = this.points;\r\n\r\n    // check for collinear\r\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\r\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\r\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\r\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\r\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\r\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\r\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\r\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\r\n        points[2 * i] = p[0];\r\n        points[2 * i + 1] = p[1];\r\n      }\r\n      this._delaunator = new Delaunator(points);\r\n    } else {\r\n      delete this.collinear;\r\n    }\r\n\r\n    const halfedges = this.halfedges = this._delaunator.halfedges;\r\n    const hull = this.hull = this._delaunator.hull;\r\n    const triangles = this.triangles = this._delaunator.triangles;\r\n    const inedges = this.inedges.fill(-1);\r\n    const hullIndex = this._hullIndex.fill(-1);\r\n\r\n    // Compute an index from each point to an (arbitrary) incoming halfedge\r\n    // Used to give the first neighbor of each point; for this reason,\r\n    // on the hull we give priority to exterior halfedges\r\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\r\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\r\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\r\n    }\r\n    for (let i = 0, n = hull.length; i < n; ++i) {\r\n      hullIndex[hull[i]] = i;\r\n    }\r\n\r\n    // degenerate case: 1 or 2 (distinct) points\r\n    if (hull.length <= 2 && hull.length > 0) {\r\n      this.triangles = new Int32Array(3).fill(-1);\r\n      this.halfedges = new Int32Array(3).fill(-1);\r\n      this.triangles[0] = hull[0];\r\n      inedges[hull[0]] = 1;\r\n      if (hull.length === 2) {\r\n        inedges[hull[1]] = 0;\r\n        this.triangles[1] = hull[1];\r\n        this.triangles[2] = hull[1];\r\n      }\r\n    }\r\n  }\r\n  voronoi(bounds) {\r\n    return new Voronoi(this, bounds);\r\n  }\r\n  *neighbors(i) {\r\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\r\n\r\n    // degenerate case with several collinear points\r\n    if (collinear) {\r\n      const l = collinear.indexOf(i);\r\n      if (l > 0) yield collinear[l - 1];\r\n      if (l < collinear.length - 1) yield collinear[l + 1];\r\n      return;\r\n    }\r\n\r\n    const e0 = inedges[i];\r\n    if (e0 === -1) return; // coincident point\r\n    let e = e0, p0 = -1;\r\n    do {\r\n      yield p0 = triangles[e];\r\n      e = e % 3 === 2 ? e - 2 : e + 1;\r\n      if (triangles[e] !== i) return; // bad triangulation\r\n      e = halfedges[e];\r\n      if (e === -1) {\r\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\r\n        if (p !== p0) yield p;\r\n        return;\r\n      }\r\n    } while (e !== e0);\r\n  }\r\n  find(x, y, i = 0) {\r\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\r\n    const i0 = i;\r\n    let c;\r\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\r\n    return c;\r\n  }\r\n  _step(i, x, y) {\r\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\r\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\r\n    let c = i;\r\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\r\n    const e0 = inedges[i];\r\n    let e = e0;\r\n    do {\r\n      let t = triangles[e];\r\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\r\n      if (dt < dc) dc = dt, c = t;\r\n      e = e % 3 === 2 ? e - 2 : e + 1;\r\n      if (triangles[e] !== i) break; // bad triangulation\r\n      e = halfedges[e];\r\n      if (e === -1) {\r\n        e = hull[(_hullIndex[i] + 1) % hull.length];\r\n        if (e !== t) {\r\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\r\n        }\r\n        break;\r\n      }\r\n    } while (e !== e0);\r\n    return c;\r\n  }\r\n  render(context) {\r\n    const buffer = context == null ? context = new Path : undefined;\r\n    const {points, halfedges, triangles} = this;\r\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\r\n      const j = halfedges[i];\r\n      if (j < i) continue;\r\n      const ti = triangles[i] * 2;\r\n      const tj = triangles[j] * 2;\r\n      context.moveTo(points[ti], points[ti + 1]);\r\n      context.lineTo(points[tj], points[tj + 1]);\r\n    }\r\n    this.renderHull(context);\r\n    return buffer && buffer.value();\r\n  }\r\n  renderPoints(context, r) {\r\n    if (r === undefined && (!context || typeof context.moveTo !== \"function\")) r = context, context = null;\r\n    r = r == undefined ? 2 : +r;\r\n    const buffer = context == null ? context = new Path : undefined;\r\n    const {points} = this;\r\n    for (let i = 0, n = points.length; i < n; i += 2) {\r\n      const x = points[i], y = points[i + 1];\r\n      context.moveTo(x + r, y);\r\n      context.arc(x, y, r, 0, tau);\r\n    }\r\n    return buffer && buffer.value();\r\n  }\r\n  renderHull(context) {\r\n    const buffer = context == null ? context = new Path : undefined;\r\n    const {hull, points} = this;\r\n    const h = hull[0] * 2, n = hull.length;\r\n    context.moveTo(points[h], points[h + 1]);\r\n    for (let i = 1; i < n; ++i) {\r\n      const h = 2 * hull[i];\r\n      context.lineTo(points[h], points[h + 1]);\r\n    }\r\n    context.closePath();\r\n    return buffer && buffer.value();\r\n  }\r\n  hullPolygon() {\r\n    const polygon = new Polygon;\r\n    this.renderHull(polygon);\r\n    return polygon.value();\r\n  }\r\n  renderTriangle(i, context) {\r\n    const buffer = context == null ? context = new Path : undefined;\r\n    const {points, triangles} = this;\r\n    const t0 = triangles[i *= 3] * 2;\r\n    const t1 = triangles[i + 1] * 2;\r\n    const t2 = triangles[i + 2] * 2;\r\n    context.moveTo(points[t0], points[t0 + 1]);\r\n    context.lineTo(points[t1], points[t1 + 1]);\r\n    context.lineTo(points[t2], points[t2 + 1]);\r\n    context.closePath();\r\n    return buffer && buffer.value();\r\n  }\r\n  *trianglePolygons() {\r\n    const {triangles} = this;\r\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\r\n      yield this.trianglePolygon(i);\r\n    }\r\n  }\r\n  trianglePolygon(i) {\r\n    const polygon = new Polygon;\r\n    this.renderTriangle(i, polygon);\r\n    return polygon.value();\r\n  }\r\n}\r\n\r\nfunction flatArray(points, fx, fy, that) {\r\n  const n = points.length;\r\n  const array = new Float64Array(n * 2);\r\n  for (let i = 0; i < n; ++i) {\r\n    const p = points[i];\r\n    array[i * 2] = fx.call(that, p, i, points);\r\n    array[i * 2 + 1] = fy.call(that, p, i, points);\r\n  }\r\n  return array;\r\n}\r\n\r\nfunction* flatIterable(points, fx, fy, that) {\r\n  let i = 0;\r\n  for (const p of points) {\r\n    yield fx.call(that, p, i, points);\r\n    yield fy.call(that, p, i, points);\r\n    ++i;\r\n  }\r\n}\r\n", "import { createSelector } from \"../../utils/selectors.js\";\r\nconst selectVoronoi = state => state.voronoi;\r\nexport const selectorChartsVoronoiIsVoronoiEnabled = createSelector(selectVoronoi, voronoi => voronoi?.isVoronoiEnabled);", "// This file should be removed after creating all plugins in favor of a file per chart type.\r\n\r\nimport { useChartCartesianAxis } from \"./featurePlugins/useChartCartesianAxis/index.js\";\r\nimport { useChartHighlight } from \"./featurePlugins/useChartHighlight/index.js\";\r\nimport { useChartInteraction } from \"./featurePlugins/useChartInteraction/index.js\";\r\nimport { useChartVoronoi } from \"./featurePlugins/useChartVoronoi/index.js\";\r\nimport { useChartZAxis } from \"./featurePlugins/useChartZAxis/index.js\";\r\nexport const DEFAULT_PLUGINS = [useChartZAxis, useChartCartesianAxis, useChartInteraction, useChartHighlight, useChartVoronoi];", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nconst _excluded = [\"children\", \"localeText\", \"plugins\", \"seriesConfig\"];\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { DEFAULT_PLUGINS } from \"../internals/plugins/allPlugins.js\";\r\nexport const useChartDataProviderProps = props => {\r\n  const {\r\n      children,\r\n      localeText,\r\n      plugins = DEFAULT_PLUGINS,\r\n      seriesConfig\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  const theme = useTheme();\r\n  const chartProviderProps = {\r\n    plugins: plugins,\r\n    seriesConfig,\r\n    pluginParams: _extends({\r\n      theme: theme.palette.mode\r\n    }, other)\r\n  };\r\n  return {\r\n    children,\r\n    localeText,\r\n    chartProviderProps\r\n  };\r\n};", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nconst _excluded = [\"children\", \"className\", \"title\", \"desc\"];\r\nimport { styled, useThemeProps } from '@mui/material/styles';\r\nimport PropTypes from 'prop-types';\r\nimport * as React from 'react';\r\nimport useForkRef from '@mui/utils/useForkRef';\r\nimport { ChartsAxesGradients } from \"../internals/components/ChartsAxesGradients/index.js\";\r\nimport { useSvgRef } from \"../hooks/useSvgRef.js\";\r\nimport { useSelector } from \"../internals/store/useSelector.js\";\r\nimport { useStore } from \"../internals/store/useStore.js\";\r\nimport { selectorChartContainerSize, selectorChartPropsSize } from \"../internals/plugins/corePlugins/useChartDimensions/useChartDimensions.selectors.js\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nconst ChartsSurfaceStyles = styled('svg', {\r\n  name: 'MuiChartsSurface',\r\n  slot: 'Root'\r\n})(({\r\n  ownerState\r\n}) => ({\r\n  width: ownerState.width ?? '100%',\r\n  height: ownerState.height ?? '100%',\r\n  display: 'flex',\r\n  position: 'relative',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  overflow: 'hidden',\r\n  // This prevents default touch actions when using the svg on mobile devices.\r\n  // For example, prevent page scroll & zoom.\r\n  touchAction: 'none'\r\n}));\r\n\r\n/**\r\n * It provides the drawing area for the chart elements.\r\n * It is the root `<svg>` of all the chart elements.\r\n *\r\n * It also provides the `title` and `desc` elements for the chart.\r\n *\r\n * Demos:\r\n *\r\n * - [Composition](https://mui.com/x/api/charts/composition/)\r\n *\r\n * API:\r\n *\r\n * - [ChartsSurface API](https://mui.com/x/api/charts/charts-surface/)\r\n */\r\nconst ChartsSurface = /*#__PURE__*/React.forwardRef(function ChartsSurface(inProps, ref) {\r\n  const store = useStore();\r\n  const {\r\n    width: svgWidth,\r\n    height: svgHeight\r\n  } = useSelector(store, selectorChartContainerSize);\r\n  const {\r\n    width: propsWidth,\r\n    height: propsHeight\r\n  } = useSelector(store, selectorChartPropsSize);\r\n  const svgRef = useSvgRef();\r\n  const handleRef = useForkRef(svgRef, ref);\r\n  const themeProps = useThemeProps({\r\n    props: inProps,\r\n    name: 'MuiChartsSurface'\r\n  });\r\n  const {\r\n      children,\r\n      className,\r\n      title,\r\n      desc\r\n    } = themeProps,\r\n    other = _objectWithoutPropertiesLoose(themeProps, _excluded);\r\n  const hasIntrinsicSize = svgHeight > 0 && svgWidth > 0;\r\n  return /*#__PURE__*/_jsxs(ChartsSurfaceStyles, _extends({\r\n    ownerState: {\r\n      width: propsWidth,\r\n      height: propsHeight\r\n    },\r\n    viewBox: `${0} ${0} ${svgWidth} ${svgHeight}`,\r\n    className: className\r\n  }, other, {\r\n    ref: handleRef,\r\n    children: [title && /*#__PURE__*/_jsx(\"title\", {\r\n      children: title\r\n    }), desc && /*#__PURE__*/_jsx(\"desc\", {\r\n      children: desc\r\n    }), /*#__PURE__*/_jsx(ChartsAxesGradients, {}), hasIntrinsicSize && children]\r\n  }));\r\n});\r\nif (process.env.NODE_ENV !== \"production\") ChartsSurface.displayName = \"ChartsSurface\";\r\nprocess.env.NODE_ENV !== \"production\" ? ChartsSurface.propTypes = {\r\n  // ----------------------------- Warning --------------------------------\r\n  // | These PropTypes are generated from the TypeScript type definitions |\r\n  // | To update them edit the TypeScript types and run \"pnpm proptypes\"  |\r\n  // ----------------------------------------------------------------------\r\n  children: PropTypes.node,\r\n  className: PropTypes.string,\r\n  desc: PropTypes.string,\r\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\r\n  title: PropTypes.string\r\n} : void 0;\r\nexport { ChartsSurface };", "import * as React from 'react';\r\nimport { useDrawingArea, useXAxes, useYAxes } from \"../../../hooks/index.js\";\r\nimport ChartsPiecewiseGradient from \"./ChartsPiecewiseGradient.js\";\r\nimport ChartsContinuousGradient from \"./ChartsContinuousGradient.js\";\r\nimport ChartsContinuousGradientObjectBound from \"./ChartsContinuousGradientObjectBound.js\";\r\nimport { useZAxes } from \"../../../hooks/useZAxis.js\";\r\nimport { useChartGradientIdBuilder, useChartGradientIdObjectBoundBuilder } from \"../../../hooks/useChartGradientId.js\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nexport function ChartsAxesGradients() {\r\n  const {\r\n    top,\r\n    height,\r\n    bottom,\r\n    left,\r\n    width,\r\n    right\r\n  } = useDrawingArea();\r\n  const svgHeight = top + height + bottom;\r\n  const svgWidth = left + width + right;\r\n  const getGradientId = useChartGradientIdBuilder();\r\n  const getObjectBoundGradientId = useChartGradientIdObjectBoundBuilder();\r\n  const {\r\n    xAxis,\r\n    xAxisIds\r\n  } = useXAxes();\r\n  const {\r\n    yAxis,\r\n    yAxisIds\r\n  } = useYAxes();\r\n  const {\r\n    zAxis,\r\n    zAxisIds\r\n  } = useZAxes();\r\n  const filteredYAxisIds = yAxisIds.filter(axisId => yAxis[axisId].colorMap !== undefined);\r\n  const filteredXAxisIds = xAxisIds.filter(axisId => xAxis[axisId].colorMap !== undefined);\r\n  const filteredZAxisIds = zAxisIds.filter(axisId => zAxis[axisId].colorMap !== undefined);\r\n  if (filteredYAxisIds.length === 0 && filteredXAxisIds.length === 0 && filteredZAxisIds.length === 0) {\r\n    return null;\r\n  }\r\n  return /*#__PURE__*/_jsxs(\"defs\", {\r\n    children: [filteredYAxisIds.map(axisId => {\r\n      const gradientId = getGradientId(axisId);\r\n      const objectBoundGradientId = getObjectBoundGradientId(axisId);\r\n      const {\r\n        colorMap,\r\n        scale,\r\n        colorScale,\r\n        reverse\r\n      } = yAxis[axisId];\r\n      if (colorMap?.type === 'piecewise') {\r\n        return /*#__PURE__*/_jsx(ChartsPiecewiseGradient, {\r\n          isReversed: !reverse,\r\n          scale: scale,\r\n          colorMap: colorMap,\r\n          size: svgHeight,\r\n          gradientId: gradientId,\r\n          direction: \"y\"\r\n        }, gradientId);\r\n      }\r\n      if (colorMap?.type === 'continuous') {\r\n        return /*#__PURE__*/_jsxs(React.Fragment, {\r\n          children: [/*#__PURE__*/_jsx(ChartsContinuousGradient, {\r\n            isReversed: !reverse,\r\n            scale: scale,\r\n            colorScale: colorScale,\r\n            colorMap: colorMap,\r\n            size: svgHeight,\r\n            gradientId: gradientId,\r\n            direction: \"y\"\r\n          }), /*#__PURE__*/_jsx(ChartsContinuousGradientObjectBound, {\r\n            isReversed: reverse,\r\n            colorScale: colorScale,\r\n            colorMap: colorMap,\r\n            gradientId: objectBoundGradientId\r\n          })]\r\n        }, gradientId);\r\n      }\r\n      return null;\r\n    }), filteredXAxisIds.map(axisId => {\r\n      const gradientId = getGradientId(axisId);\r\n      const objectBoundGradientId = getObjectBoundGradientId(axisId);\r\n      const {\r\n        colorMap,\r\n        scale,\r\n        reverse,\r\n        colorScale\r\n      } = xAxis[axisId];\r\n      if (colorMap?.type === 'piecewise') {\r\n        return /*#__PURE__*/_jsx(ChartsPiecewiseGradient, {\r\n          isReversed: reverse,\r\n          scale: scale,\r\n          colorMap: colorMap,\r\n          size: svgWidth,\r\n          gradientId: gradientId,\r\n          direction: \"x\"\r\n        }, gradientId);\r\n      }\r\n      if (colorMap?.type === 'continuous') {\r\n        return /*#__PURE__*/_jsxs(React.Fragment, {\r\n          children: [/*#__PURE__*/_jsx(ChartsContinuousGradient, {\r\n            isReversed: reverse,\r\n            scale: scale,\r\n            colorScale: colorScale,\r\n            colorMap: colorMap,\r\n            size: svgWidth,\r\n            gradientId: gradientId,\r\n            direction: \"x\"\r\n          }), /*#__PURE__*/_jsx(ChartsContinuousGradientObjectBound, {\r\n            isReversed: reverse,\r\n            colorScale: colorScale,\r\n            colorMap: colorMap,\r\n            gradientId: objectBoundGradientId\r\n          })]\r\n        }, gradientId);\r\n      }\r\n      return null;\r\n    }), filteredZAxisIds.map(axisId => {\r\n      const objectBoundGradientId = getObjectBoundGradientId(axisId);\r\n      const {\r\n        colorMap,\r\n        colorScale\r\n      } = zAxis[axisId];\r\n      if (colorMap?.type === 'continuous') {\r\n        return /*#__PURE__*/_jsx(ChartsContinuousGradientObjectBound, {\r\n          colorScale: colorScale,\r\n          colorMap: colorMap,\r\n          gradientId: objectBoundGradientId\r\n        }, objectBoundGradientId);\r\n      }\r\n      return null;\r\n    })]\r\n  });\r\n}", "import * as React from 'react';\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nexport default function ChartsPiecewiseGradient(props) {\r\n  const {\r\n    isReversed,\r\n    gradientId,\r\n    size,\r\n    direction,\r\n    scale,\r\n    colorMap\r\n  } = props;\r\n  if (size <= 0) {\r\n    return null;\r\n  }\r\n  return /*#__PURE__*/_jsx(\"linearGradient\", {\r\n    id: gradientId,\r\n    x1: \"0\",\r\n    x2: \"0\",\r\n    y1: \"0\",\r\n    y2: \"0\",\r\n    [`${direction}${isReversed ? 1 : 2}`]: `${size}px`,\r\n    gradientUnits: \"userSpaceOnUse\" // Use the SVG coordinate instead of the component ones.\r\n    ,\r\n    children: colorMap.thresholds.map((threshold, index) => {\r\n      const x = scale(threshold);\r\n      if (x === undefined) {\r\n        return null;\r\n      }\r\n      const offset = isReversed ? 1 - x / size : x / size;\r\n      if (Number.isNaN(offset)) {\r\n        return null;\r\n      }\r\n      return /*#__PURE__*/_jsxs(React.Fragment, {\r\n        children: [/*#__PURE__*/_jsx(\"stop\", {\r\n          offset: offset,\r\n          stopColor: colorMap.colors[index],\r\n          stopOpacity: 1\r\n        }), /*#__PURE__*/_jsx(\"stop\", {\r\n          offset: offset,\r\n          stopColor: colorMap.colors[index + 1],\r\n          stopOpacity: 1\r\n        })]\r\n      }, threshold.toString() + index);\r\n    })\r\n  });\r\n}", "import * as React from 'react';\r\nimport { interpolateDate, interpolateNumber } from '@mui/x-charts-vendor/d3-interpolate';\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nconst PX_PRECISION = 10;\r\nexport default function ChartsContinuousGradient(props) {\r\n  const {\r\n    gradientUnits,\r\n    isReversed,\r\n    gradientId,\r\n    size,\r\n    direction,\r\n    scale,\r\n    colorScale,\r\n    colorMap\r\n  } = props;\r\n  const extremumValues = [colorMap.min ?? 0, colorMap.max ?? 100];\r\n  const extremumPositions = extremumValues.map(scale).filter(p => p !== undefined);\r\n  if (extremumPositions.length !== 2) {\r\n    return null;\r\n  }\r\n  const interpolator = typeof extremumValues[0] === 'number' ? interpolateNumber(extremumValues[0], extremumValues[1]) : interpolateDate(extremumValues[0], extremumValues[1]);\r\n  const numberOfPoints = Math.round((Math.max(...extremumPositions) - Math.min(...extremumPositions)) / PX_PRECISION);\r\n  const keyPrefix = `${extremumValues[0]}-${extremumValues[1]}-`;\r\n  return /*#__PURE__*/_jsx(\"linearGradient\", {\r\n    id: gradientId,\r\n    x1: \"0\",\r\n    x2: \"0\",\r\n    y1: \"0\",\r\n    y2: \"0\",\r\n    [`${direction}${isReversed ? 1 : 2}`]: gradientUnits === 'objectBoundingBox' ? 1 : `${size}px`,\r\n    gradientUnits: gradientUnits ?? 'userSpaceOnUse' // Use the SVG coordinate instead of the component ones.\r\n    ,\r\n    children: Array.from({\r\n      length: numberOfPoints + 1\r\n    }, (_, index) => {\r\n      const value = interpolator(index / numberOfPoints);\r\n      if (value === undefined) {\r\n        return null;\r\n      }\r\n      const x = scale(value);\r\n      if (x === undefined) {\r\n        return null;\r\n      }\r\n      const offset = isReversed ? 1 - x / size : x / size;\r\n      const color = colorScale(value);\r\n      if (color === null) {\r\n        return null;\r\n      }\r\n      return /*#__PURE__*/_jsx(\"stop\", {\r\n        offset: offset,\r\n        stopColor: color,\r\n        stopOpacity: 1\r\n      }, keyPrefix + index);\r\n    })\r\n  });\r\n}", "import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport * as React from 'react';\r\nimport { interpolateDate, interpolateNumber } from '@mui/x-charts-vendor/d3-interpolate';\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nconst PX_PRECISION = 10;\r\nconst getDirection = isReversed => {\r\n  if (isReversed) {\r\n    return {\r\n      x1: '1',\r\n      x2: '0',\r\n      y1: '0',\r\n      y2: '0'\r\n    };\r\n  }\r\n  return {\r\n    x1: '0',\r\n    x2: '1',\r\n    y1: '0',\r\n    y2: '0'\r\n  };\r\n};\r\n\r\n/**\r\n * Generates gradients to be used in tooltips and legends.\r\n */\r\nexport default function ChartsContinuousGradientObjectBound(props) {\r\n  const {\r\n    isReversed,\r\n    gradientId,\r\n    colorScale,\r\n    colorMap\r\n  } = props;\r\n  const extremumValues = [colorMap.min ?? 0, colorMap.max ?? 100];\r\n  const interpolator = typeof extremumValues[0] === 'number' ? interpolateNumber(extremumValues[0], extremumValues[1]) : interpolateDate(extremumValues[0], extremumValues[1]);\r\n  const numberOfPoints = PX_PRECISION;\r\n  const keyPrefix = `${extremumValues[0]}-${extremumValues[1]}-`;\r\n  return /*#__PURE__*/_jsx(\"linearGradient\", _extends({\r\n    id: gradientId\r\n  }, getDirection(isReversed), {\r\n    gradientUnits: 'objectBoundingBox' // Use the SVG coordinate instead of the component ones.\r\n    ,\r\n    children: Array.from({\r\n      length: numberOfPoints + 1\r\n    }, (_, index) => {\r\n      const offset = index / numberOfPoints;\r\n      const value = interpolator(offset);\r\n      if (value === undefined) {\r\n        return null;\r\n      }\r\n      const color = colorScale(value);\r\n      if (color === null) {\r\n        return null;\r\n      }\r\n      return /*#__PURE__*/_jsx(\"stop\", {\r\n        offset: offset,\r\n        stopColor: color,\r\n        stopOpacity: 1\r\n      }, keyPrefix + index);\r\n    })\r\n  }));\r\n}", "'use client';\r\n\r\nimport * as React from 'react';\r\nimport { useChartContext } from \"../context/ChartProvider/index.js\";\r\nconst onPointerDown = event => {\r\n  if ('hasPointerCapture' in event.currentTarget && event.currentTarget.hasPointerCapture(event.pointerId)) {\r\n    event.currentTarget.releasePointerCapture(event.pointerId);\r\n  }\r\n};\r\nexport const useInteractionItemProps = (data, skip) => {\r\n  const {\r\n    instance\r\n  } = useChartContext();\r\n  const interactionActive = React.useRef(false);\r\n  const onPointerEnter = React.useCallback(() => {\r\n    interactionActive.current = true;\r\n    instance.setItemInteraction({\r\n      type: data.type,\r\n      seriesId: data.seriesId,\r\n      dataIndex: data.dataIndex\r\n    });\r\n    instance.setHighlight({\r\n      seriesId: data.seriesId,\r\n      dataIndex: data.dataIndex\r\n    });\r\n  }, [instance, data.type, data.seriesId, data.dataIndex]);\r\n  const onPointerLeave = React.useCallback(() => {\r\n    interactionActive.current = false;\r\n    instance.removeItemInteraction({\r\n      type: data.type,\r\n      seriesId: data.seriesId,\r\n      dataIndex: data.dataIndex\r\n    });\r\n    instance.clearHighlight();\r\n  }, [instance, data.type, data.seriesId, data.dataIndex]);\r\n  React.useEffect(() => {\r\n    return () => {\r\n      /* Clean up state if this item is unmounted while active. */\r\n      if (interactionActive.current) {\r\n        onPointerLeave();\r\n      }\r\n    };\r\n  }, [onPointerLeave]);\r\n  if (skip) {\r\n    return {};\r\n  }\r\n  return {\r\n    onPointerEnter,\r\n    onPointerLeave,\r\n    onPointerDown\r\n  };\r\n};\r\nexport const useInteractionAllItemProps = (data, skip) => {\r\n  const {\r\n    instance\r\n  } = useChartContext();\r\n  const results = React.useMemo(() => {\r\n    return data.map(item => {\r\n      if (skip) {\r\n        return {};\r\n      }\r\n      const onPointerEnter = () => {\r\n        if (!item) {\r\n          return;\r\n        }\r\n        instance.setItemInteraction(item);\r\n        instance.setHighlight({\r\n          seriesId: item.seriesId,\r\n          dataIndex: item.dataIndex\r\n        });\r\n      };\r\n      const onPointerLeave = () => {\r\n        if (!item) {\r\n          return;\r\n        }\r\n        instance.removeItemInteraction(item);\r\n        instance.clearHighlight();\r\n      };\r\n      return {\r\n        onPointerEnter,\r\n        onPointerLeave,\r\n        onPointerDown\r\n      };\r\n    });\r\n  }, [data, instance, skip]);\r\n  return results;\r\n};", "'use client';\r\n\r\nimport { selectorChartSkipAnimation } from \"../internals/plugins/corePlugins/useChartAnimation/index.js\";\r\nimport { useStore } from \"../internals/store/useStore.js\";\r\nimport { useSelector } from \"../internals/store/useSelector.js\";\r\n\r\n/**\r\n * A hook to get if chart animations should be skipped.\r\n *\r\n * @returns {boolean} whether to skip animations\r\n */\r\nexport function useSkipAnimation(skipAnimation) {\r\n  const store = useStore();\r\n  const storeSkipAnimation = useSelector(store, selectorChartSkipAnimation);\r\n  return skipAnimation || storeSkipAnimation;\r\n}", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport * as React from 'react';\r\nimport { ChartsLoadingOverlay } from \"./ChartsLoadingOverlay.js\";\r\nimport { useSeries } from \"../hooks/useSeries.js\";\r\nimport { ChartsNoDataOverlay } from \"./ChartsNoDataOverlay.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nexport function useNoData() {\r\n  const seriesPerType = useSeries();\r\n  return Object.values(seriesPerType).every(seriesOfGivenType => {\r\n    if (!seriesOfGivenType) {\r\n      return true;\r\n    }\r\n    const {\r\n      series,\r\n      seriesOrder\r\n    } = seriesOfGivenType;\r\n    return seriesOrder.every(seriesId => series[seriesId].data.length === 0);\r\n  });\r\n}\r\nexport function ChartsOverlay(props) {\r\n  const noData = useNoData();\r\n  if (props.loading) {\r\n    const LoadingOverlay = props.slots?.loadingOverlay ?? ChartsLoadingOverlay;\r\n    return /*#__PURE__*/_jsx(LoadingOverlay, _extends({}, props.slotProps?.loadingOverlay));\r\n  }\r\n  if (noData) {\r\n    const NoDataOverlay = props.slots?.noDataOverlay ?? ChartsNoDataOverlay;\r\n    return /*#__PURE__*/_jsx(NoDataOverlay, _extends({}, props.slotProps?.noDataOverlay));\r\n  }\r\n  return null;\r\n}", "'use client';\r\n\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nconst _excluded = [\"message\"];\r\nimport * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useDrawingArea } from \"../hooks/useDrawingArea.js\";\r\nimport { useChartsLocalization } from \"../hooks/useChartsLocalization.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nconst StyledText = styled('text')(({\r\n  theme\r\n}) => _extends({}, theme.typography.body2, {\r\n  stroke: 'none',\r\n  fill: (theme.vars || theme).palette.text.primary,\r\n  shapeRendering: 'crispEdges',\r\n  textAnchor: 'middle',\r\n  dominantBaseline: 'middle'\r\n}));\r\nexport function ChartsLoadingOverlay(props) {\r\n  const {\r\n      message\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  const {\r\n    top,\r\n    left,\r\n    height,\r\n    width\r\n  } = useDrawingArea();\r\n  const {\r\n    localeText\r\n  } = useChartsLocalization();\r\n  return /*#__PURE__*/_jsx(StyledText, _extends({\r\n    x: left + width / 2,\r\n    y: top + height / 2\r\n  }, other, {\r\n    children: message ?? localeText.loading\r\n  }));\r\n}", "'use client';\r\n\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nconst _excluded = [\"message\"];\r\nimport * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useDrawingArea } from \"../hooks/useDrawingArea.js\";\r\nimport { useChartsLocalization } from \"../hooks/useChartsLocalization.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nconst StyledText = styled('text')(({\r\n  theme\r\n}) => _extends({}, theme.typography.body2, {\r\n  stroke: 'none',\r\n  fill: (theme.vars || theme).palette.text.primary,\r\n  shapeRendering: 'crispEdges',\r\n  textAnchor: 'middle',\r\n  dominantBaseline: 'middle'\r\n}));\r\nexport function ChartsNoDataOverlay(props) {\r\n  const {\r\n      message\r\n    } = props,\r\n    other = _objectWithoutPropertiesLoose(props, _excluded);\r\n  const {\r\n    top,\r\n    left,\r\n    height,\r\n    width\r\n  } = useDrawingArea();\r\n  const {\r\n    localeText\r\n  } = useChartsLocalization();\r\n  return /*#__PURE__*/_jsx(StyledText, _extends({\r\n    x: left + width / 2,\r\n    y: top + height / 2\r\n  }, other, {\r\n    children: message ?? localeText.noData\r\n  }));\r\n}", "'use client';\r\n\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nconst _excluded = [\"width\", \"height\", \"margin\", \"children\", \"series\", \"colors\", \"dataset\", \"desc\", \"onAxisClick\", \"disableVoronoi\", \"voronoiMaxRadius\", \"onItemClick\", \"disableAxisListener\", \"highlightedItem\", \"onHighlightChange\", \"sx\", \"title\", \"xAxis\", \"yAxis\", \"zAxis\", \"rotationAxis\", \"radiusAxis\", \"skipAnimation\", \"seriesConfig\", \"plugins\", \"localeText\"];\r\nimport { DEFAULT_PLUGINS } from \"../internals/plugins/allPlugins.js\";\r\nexport const useChartContainerProps = (props, ref) => {\r\n  const _ref = props,\r\n    {\r\n      width,\r\n      height,\r\n      margin,\r\n      children,\r\n      series,\r\n      colors,\r\n      dataset,\r\n      desc,\r\n      onAxisClick,\r\n      disableVoronoi,\r\n      voronoiMaxRadius,\r\n      onItemClick,\r\n      disableAxisListener,\r\n      highlightedItem,\r\n      onHighlightChange,\r\n      sx,\r\n      title,\r\n      xAxis,\r\n      yAxis,\r\n      zAxis,\r\n      rotationAxis,\r\n      radiusAxis,\r\n      skipAnimation,\r\n      seriesConfig,\r\n      plugins,\r\n      localeText\r\n    } = _ref,\r\n    other = _objectWithoutPropertiesLoose(_ref, _excluded);\r\n  const chartsSurfaceProps = _extends({\r\n    title,\r\n    desc,\r\n    sx,\r\n    ref\r\n  }, other);\r\n  const chartDataProviderProps = {\r\n    margin,\r\n    series,\r\n    colors,\r\n    dataset,\r\n    disableAxisListener,\r\n    highlightedItem,\r\n    onHighlightChange,\r\n    onAxisClick,\r\n    disableVoronoi,\r\n    voronoiMaxRadius,\r\n    onItemClick,\r\n    xAxis,\r\n    yAxis,\r\n    zAxis,\r\n    rotationAxis,\r\n    radiusAxis,\r\n    skipAnimation,\r\n    width,\r\n    height,\r\n    localeText,\r\n    seriesConfig,\r\n    plugins: plugins ?? DEFAULT_PLUGINS\r\n  };\r\n  return {\r\n    chartDataProviderProps,\r\n    chartsSurfaceProps,\r\n    children\r\n  };\r\n};", "import * as React from 'react';\r\nimport { styled } from '@mui/material/styles';\r\nimport { useChartRootRef } from \"../../../hooks/useChartRootRef.js\";\r\nimport { jsx as _jsx } from \"react/jsx-runtime\";\r\nconst getDirection = (direction, position) => {\r\n  if (direction === 'vertical') {\r\n    if (position?.horizontal === 'start') {\r\n      return 'row';\r\n    }\r\n    return 'row-reverse';\r\n  }\r\n  if (position?.vertical === 'bottom') {\r\n    return 'column-reverse';\r\n  }\r\n  return 'column';\r\n};\r\nconst getAlign = (direction, position) => {\r\n  if (direction === 'vertical') {\r\n    if (position?.vertical === 'top') {\r\n      return 'flex-start';\r\n    }\r\n    if (position?.vertical === 'bottom') {\r\n      return 'flex-end';\r\n    }\r\n  }\r\n  if (direction === 'horizontal') {\r\n    if (position?.horizontal === 'start') {\r\n      return 'flex-start';\r\n    }\r\n    if (position?.horizontal === 'end') {\r\n      return 'flex-end';\r\n    }\r\n  }\r\n  return 'center';\r\n};\r\nconst Root = styled('div', {\r\n  name: 'MuiChartsWrapper',\r\n  slot: 'Root'\r\n})(({\r\n  ownerState\r\n}) => ({\r\n  display: 'flex',\r\n  flexDirection: getDirection(ownerState.legendDirection, ownerState.legendPosition),\r\n  flex: 1,\r\n  justifyContent: 'center',\r\n  alignItems: getAlign(ownerState.legendDirection, ownerState.legendPosition)\r\n}));\r\n\r\n/**\r\n * @ignore - internal component.\r\n *\r\n * Wrapper for the charts components.\r\n * Its main purpose is to position the HTML legend in the correct place.\r\n */\r\nfunction ChartsWrapper(props) {\r\n  const {\r\n    children,\r\n    sx\r\n  } = props;\r\n  const chartRootRef = useChartRootRef();\r\n  return /*#__PURE__*/_jsx(Root, {\r\n    ref: chartRootRef,\r\n    ownerState: props,\r\n    sx: sx,\r\n    children: children\r\n  });\r\n}\r\nexport { ChartsWrapper };"],
  "mappings": "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",
  "names": ["useUtilityClasses", "React", "_jsx", "import_jsx_runtime", "useUtilityClasses", "ChartsLabelMark", "_jsx", "PropTypes", "React", "import_prop_types", "import_jsx_runtime", "color", "markType", "_jsx", "_jsxs", "formattedValue", "label", "PropTypes", "React", "v", "React", "scale", "v", "React", "import_prop_types", "import_jsx_runtime", "_jsx", "_jsxs", "PropTypes", "React", "import_prop_types", "import_jsx_runtime", "_excluded", "_jsx", "PropTypes", "React", "import_prop_types", "import_jsx_runtime", "_jsx", "PropTypes", "useUtilityClasses", "useUtilityClasses", "useUtilityClasses", "React", "import_prop_types", "React", "import_jsx_runtime", "_excluded", "_excluded2", "_jsx", "React", "import_prop_types", "import_jsx_runtime", "_excluded", "useUtilityClasses", "ChartsLabel", "_jsx", "PropTypes", "import_jsx_runtime", "_excluded", "useUtilityClasses", "ChartsLegend", "_jsx", "_jsxs", "PropTypes", "getLegendUtilityClass", "useUtilityClasses", "React", "import_prop_types", "React", "import_prop_types", "import_jsx_runtime", "_excluded", "Root", "useUtilityClasses", "ChartsLabelGradient", "_jsx", "PropTypes", "import_jsx_runtime", "_excluded", "RootElement", "useUtilityClasses", "ContinuousColorLegend", "_jsx", "_jsxs", "PropTypes", "getLegendUtilityClass", "useUtilityClasses", "React", "import_prop_types", "import_jsx_runtime", "_excluded", "RootElement", "useUtilityClasses", "PiecewiseColorLegend", "v", "_jsx", "_jsxs", "PropTypes", "React", "import_prop_types", "React", "u3", "u", "bc", "ca", "ab", "u", "abt", "bct", "cat", "_8", "_16", "fin", "fin2", "ab", "bc", "_8", "_8b", "_16", "_48", "fin", "n", "epsilon", "x1", "y1", "ab", "i", "v", "collinear", "h", "pointX", "pointY", "_a", "_excluded", "import_jsx_runtime", "_jsx", "PropTypes", "import_prop_types", "React", "React", "React", "import_jsx_runtime", "scale", "_jsx", "_jsxs", "React", "import_jsx_runtime", "scale", "_jsx", "React", "import_jsx_runtime", "PX_PRECISION", "_jsx", "import_jsx_runtime", "_jsxs", "scale", "_jsx", "import_jsx_runtime", "_excluded", "ChartsSurface", "_jsxs", "_jsx", "PropTypes", "React", "React", "React", "import_jsx_runtime", "_excluded", "_jsx", "React", "import_jsx_runtime", "_excluded", "StyledText", "_jsx", "import_jsx_runtime", "_jsx", "_excluded", "React", "import_jsx_runtime", "getDirection", "Root", "_jsx"]
}
